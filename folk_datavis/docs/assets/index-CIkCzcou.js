(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(a){if(a.ep)return;a.ep=!0;const c=o(a);fetch(a.href,c)}})();function uE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pd={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4;function fE(){if(m4)return Sl;m4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(n,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:n,key:u,ref:a!==void 0?a:null,props:c}}return Sl.Fragment=e,Sl.jsx=o,Sl.jsxs=o,Sl}var y4;function hE(){return y4||(y4=1,Pd.exports=fE()),Pd.exports}var $=hE(),Hd={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4;function dE(){if(b4)return it;b4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,p={};function w(A,B,V){this.props=A,this.context=B,this.refs=p,this.updater=V||m}w.prototype.isReactComponent={},w.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=w.prototype;function C(A,B,V){this.props=A,this.context=B,this.refs=p,this.updater=V||m}var N=C.prototype=new T;N.constructor=C,_(N,w.prototype),N.isPureReactComponent=!0;var k=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function G(A,B,V,Q,W,K){return V=K.ref,{$$typeof:t,type:A,key:B,ref:V!==void 0?V:null,props:K}}function E(A,B){return G(A.type,B,void 0,void 0,void 0,A.props)}function R(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function O(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(V){return B[V]})}var P=/\/+/g;function j(A,B){return typeof A=="object"&&A!==null&&A.key!=null?O(""+A.key):B.toString(36)}function Y(){}function H(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Y,Y):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function q(A,B,V,Q,W){var K=typeof A;(K==="undefined"||K==="boolean")&&(A=null);var re=!1;if(A===null)re=!0;else switch(K){case"bigint":case"string":case"number":re=!0;break;case"object":switch(A.$$typeof){case t:case e:re=!0;break;case b:return re=A._init,q(re(A._payload),B,V,Q,W)}}if(re)return W=W(A),re=Q===""?"."+j(A,0):Q,k(W)?(V="",re!=null&&(V=re.replace(P,"$&/")+"/"),q(W,B,V,"",function(pe){return pe})):W!=null&&(R(W)&&(W=E(W,V+(W.key==null||A&&A.key===W.key?"":(""+W.key).replace(P,"$&/")+"/")+re)),B.push(W)),1;re=0;var he=Q===""?".":Q+":";if(k(A))for(var ee=0;ee<A.length;ee++)Q=A[ee],K=he+j(Q,ee),re+=q(Q,B,V,K,W);else if(ee=y(A),typeof ee=="function")for(A=ee.call(A),ee=0;!(Q=A.next()).done;)Q=Q.value,K=he+j(Q,ee++),re+=q(Q,B,V,K,W);else if(K==="object"){if(typeof A.then=="function")return q(H(A),B,V,Q,W);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return re}function U(A,B,V){if(A==null)return A;var Q=[],W=0;return q(A,Q,"","",function(K){return B.call(V,K,W++)}),Q}function X(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(V){(A._status===0||A._status===-1)&&(A._status=1,A._result=V)},function(V){(A._status===0||A._status===-1)&&(A._status=2,A._result=V)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var I=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function z(){}return it.Children={map:U,forEach:function(A,B,V){U(A,function(){B.apply(this,arguments)},V)},count:function(A){var B=0;return U(A,function(){B++}),B},toArray:function(A){return U(A,function(B){return B})||[]},only:function(A){if(!R(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},it.Component=w,it.Fragment=o,it.Profiler=a,it.PureComponent=C,it.StrictMode=n,it.Suspense=d,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,it.__COMPILER_RUNTIME={__proto__:null,c:function(A){return D.H.useMemoCache(A)}},it.cache=function(A){return function(){return A.apply(null,arguments)}},it.cloneElement=function(A,B,V){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Q=_({},A.props),W=A.key,K=void 0;if(B!=null)for(re in B.ref!==void 0&&(K=void 0),B.key!==void 0&&(W=""+B.key),B)!F.call(B,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&B.ref===void 0||(Q[re]=B[re]);var re=arguments.length-2;if(re===1)Q.children=V;else if(1<re){for(var he=Array(re),ee=0;ee<re;ee++)he[ee]=arguments[ee+2];Q.children=he}return G(A.type,W,void 0,void 0,K,Q)},it.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},it.createElement=function(A,B,V){var Q,W={},K=null;if(B!=null)for(Q in B.key!==void 0&&(K=""+B.key),B)F.call(B,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(W[Q]=B[Q]);var re=arguments.length-2;if(re===1)W.children=V;else if(1<re){for(var he=Array(re),ee=0;ee<re;ee++)he[ee]=arguments[ee+2];W.children=he}if(A&&A.defaultProps)for(Q in re=A.defaultProps,re)W[Q]===void 0&&(W[Q]=re[Q]);return G(A,K,void 0,void 0,null,W)},it.createRef=function(){return{current:null}},it.forwardRef=function(A){return{$$typeof:f,render:A}},it.isValidElement=R,it.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:X}},it.memo=function(A,B){return{$$typeof:g,type:A,compare:B===void 0?null:B}},it.startTransition=function(A){var B=D.T,V={};D.T=V;try{var Q=A(),W=D.S;W!==null&&W(V,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(z,I)}catch(K){I(K)}finally{D.T=B}},it.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},it.use=function(A){return D.H.use(A)},it.useActionState=function(A,B,V){return D.H.useActionState(A,B,V)},it.useCallback=function(A,B){return D.H.useCallback(A,B)},it.useContext=function(A){return D.H.useContext(A)},it.useDebugValue=function(){},it.useDeferredValue=function(A,B){return D.H.useDeferredValue(A,B)},it.useEffect=function(A,B,V){var Q=D.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(A,B)},it.useId=function(){return D.H.useId()},it.useImperativeHandle=function(A,B,V){return D.H.useImperativeHandle(A,B,V)},it.useInsertionEffect=function(A,B){return D.H.useInsertionEffect(A,B)},it.useLayoutEffect=function(A,B){return D.H.useLayoutEffect(A,B)},it.useMemo=function(A,B){return D.H.useMemo(A,B)},it.useOptimistic=function(A,B){return D.H.useOptimistic(A,B)},it.useReducer=function(A,B,V){return D.H.useReducer(A,B,V)},it.useRef=function(A){return D.H.useRef(A)},it.useState=function(A){return D.H.useState(A)},it.useSyncExternalStore=function(A,B,V){return D.H.useSyncExternalStore(A,B,V)},it.useTransition=function(){return D.H.useTransition()},it.version="19.1.0",it}var _4;function Mm(){return _4||(_4=1,Hd.exports=dE()),Hd.exports}var oe=Mm(),Yd={exports:{}},Tl={},Ud={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4;function pE(){return x4||(x4=1,function(t){function e(U,X){var I=U.length;U.push(X);e:for(;0<I;){var z=I-1>>>1,A=U[z];if(0<a(A,X))U[z]=X,U[I]=A,I=z;else break e}}function o(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var X=U[0],I=U.pop();if(I!==X){U[0]=I;e:for(var z=0,A=U.length,B=A>>>1;z<B;){var V=2*(z+1)-1,Q=U[V],W=V+1,K=U[W];if(0>a(Q,I))W<A&&0>a(K,Q)?(U[z]=K,U[W]=I,z=W):(U[z]=Q,U[V]=I,z=V);else if(W<A&&0>a(K,I))U[z]=K,U[W]=I,z=W;else break e}}return X}function a(U,X){var I=U.sortIndex-X.sortIndex;return I!==0?I:U.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],g=[],b=1,x=null,y=3,m=!1,_=!1,p=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(U){for(var X=o(g);X!==null;){if(X.callback===null)n(g);else if(X.startTime<=U)n(g),X.sortIndex=X.expirationTime,e(d,X);else break;X=o(g)}}function D(U){if(p=!1,k(U),!_)if(o(d)!==null)_=!0,F||(F=!0,j());else{var X=o(g);X!==null&&q(D,X.startTime-U)}}var F=!1,G=-1,E=5,R=-1;function O(){return w?!0:!(t.unstable_now()-R<E)}function P(){if(w=!1,F){var U=t.unstable_now();R=U;var X=!0;try{e:{_=!1,p&&(p=!1,C(G),G=-1),m=!0;var I=y;try{t:{for(k(U),x=o(d);x!==null&&!(x.expirationTime>U&&O());){var z=x.callback;if(typeof z=="function"){x.callback=null,y=x.priorityLevel;var A=z(x.expirationTime<=U);if(U=t.unstable_now(),typeof A=="function"){x.callback=A,k(U),X=!0;break t}x===o(d)&&n(d),k(U)}else n(d);x=o(d)}if(x!==null)X=!0;else{var B=o(g);B!==null&&q(D,B.startTime-U),X=!1}}break e}finally{x=null,y=I,m=!1}X=void 0}}finally{X?j():F=!1}}}var j;if(typeof N=="function")j=function(){N(P)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,H=Y.port2;Y.port1.onmessage=P,j=function(){H.postMessage(null)}}else j=function(){T(P,0)};function q(U,X){G=T(function(){U(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var I=y;y=X;try{return U()}finally{y=I}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=y;y=U;try{return X()}finally{y=I}},t.unstable_scheduleCallback=function(U,X,I){var z=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=I+A,U={id:b++,callback:X,priorityLevel:U,startTime:I,expirationTime:A,sortIndex:-1},I>z?(U.sortIndex=I,e(g,U),o(d)===null&&U===o(g)&&(p?(C(G),G=-1):p=!0,q(D,I-z))):(U.sortIndex=A,e(d,U),_||m||(_=!0,F||(F=!0,j()))),U},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(U){var X=y;return function(){var I=y;y=X;try{return U.apply(this,arguments)}finally{y=I}}}}(Fd)),Fd}var w4;function gE(){return w4||(w4=1,Ud.exports=pE()),Ud.exports}var Gd={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4;function vE(){if(S4)return Yn;S4=1;var t=Mm();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var n={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,g,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:g,implementation:b}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yn.createPortal=function(d,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(d,g,null,b)},Yn.flushSync=function(d){var g=u.T,b=n.p;try{if(u.T=null,n.p=2,d)return d()}finally{u.T=g,n.p=b,n.d.f()}},Yn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(d,g))},Yn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Yn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var b=g.as,x=f(b,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,m=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?n.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:m}):b==="script"&&n.d.X(d,{crossOrigin:x,integrity:y,fetchPriority:m,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=f(g.as,g.crossOrigin);n.d.M(d,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(d)},Yn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,x=f(b,g.crossOrigin);n.d.L(d,b,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yn.preloadModule=function(d,g){if(typeof d=="string")if(g){var b=f(g.as,g.crossOrigin);n.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(d)},Yn.requestFormReset=function(d){n.d.r(d)},Yn.unstable_batchedUpdates=function(d,g){return d(g)},Yn.useFormState=function(d,g,b){return u.H.useFormState(d,g,b)},Yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yn.version="19.1.0",Yn}var T4;function mE(){if(T4)return Gd.exports;T4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gd.exports=vE(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function yE(){if(C4)return Tl;C4=1;var t=gE(),e=Mm(),o=mE();function n(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var l=r,h=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(h=l.return),r=l.return;while(r)}return l.tag===3?h:null}function u(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function f(r){if(c(r)!==r)throw Error(n(188))}function d(r){var l=r.alternate;if(!l){if(l=c(r),l===null)throw Error(n(188));return l!==r?null:r}for(var h=r,S=l;;){var M=h.return;if(M===null)break;var L=M.alternate;if(L===null){if(S=M.return,S!==null){h=S;continue}break}if(M.child===L.child){for(L=M.child;L;){if(L===h)return f(M),r;if(L===S)return f(M),l;L=L.sibling}throw Error(n(188))}if(h.return!==S.return)h=M,S=L;else{for(var Z=!1,J=M.child;J;){if(J===h){Z=!0,h=M,S=L;break}if(J===S){Z=!0,S=M,h=L;break}J=J.sibling}if(!Z){for(J=L.child;J;){if(J===h){Z=!0,h=L,S=M;break}if(J===S){Z=!0,S=L,h=M;break}J=J.sibling}if(!Z)throw Error(n(189))}}if(h.alternate!==S)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?r:l}function g(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=g(r),l!==null)return l;r=r.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Symbol.for("react.client.reference");function H(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Y?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case w:return"Profiler";case p:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case m:return"Portal";case N:return(r.displayName||"Context")+".Provider";case C:return(r._context.displayName||"Context")+".Consumer";case k:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return l=r.displayName||null,l!==null?l:H(r.type)||"Memo";case E:l=r._payload,r=r._init;try{return H(r(l))}catch{}}return null}var q=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},z=[],A=-1;function B(r){return{current:r}}function V(r){0>A||(r.current=z[A],z[A]=null,A--)}function Q(r,l){A++,z[A]=r.current,r.current=l}var W=B(null),K=B(null),re=B(null),he=B(null);function ee(r,l){switch(Q(re,l),Q(K,r),Q(W,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?$5(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=$5(l),r=X5(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}V(W),Q(W,r)}function pe(){V(W),V(K),V(re)}function Ce(r){r.memoizedState!==null&&Q(he,r);var l=W.current,h=X5(l,r.type);l!==h&&(Q(K,r),Q(W,h))}function le(r){K.current===r&&(V(W),V(K)),he.current===r&&(V(he),yl._currentValue=I)}var se=Object.prototype.hasOwnProperty,fe=t.unstable_scheduleCallback,ae=t.unstable_cancelCallback,Se=t.unstable_shouldYield,we=t.unstable_requestPaint,te=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,je=t.unstable_UserBlockingPriority,Pe=t.unstable_NormalPriority,ce=t.unstable_LowPriority,ye=t.unstable_IdlePriority,ne=t.log,de=t.unstable_setDisableYieldValue,xe=null,Te=null;function Le(r){if(typeof ne=="function"&&de(r),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(xe,r)}catch{}}var ze=Math.clz32?Math.clz32:Xe,De=Math.log,He=Math.LN2;function Xe(r){return r>>>=0,r===0?32:31-(De(r)/He|0)|0}var Ae=256,qe=4194304;function Ue(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ct(r,l,h){var S=r.pendingLanes;if(S===0)return 0;var M=0,L=r.suspendedLanes,Z=r.pingedLanes;r=r.warmLanes;var J=S&134217727;return J!==0?(S=J&~L,S!==0?M=Ue(S):(Z&=J,Z!==0?M=Ue(Z):h||(h=J&~r,h!==0&&(M=Ue(h))))):(J=S&~L,J!==0?M=Ue(J):Z!==0?M=Ue(Z):h||(h=S&~r,h!==0&&(M=Ue(h)))),M===0?0:l!==0&&l!==M&&(l&L)===0&&(L=M&-M,h=l&-l,L>=h||L===32&&(h&4194048)!==0)?l:M}function Ve(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Fe(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var r=Ae;return Ae<<=1,(Ae&4194048)===0&&(Ae=256),r}function mt(){var r=qe;return qe<<=1,(qe&62914560)===0&&(qe=4194304),r}function at(r){for(var l=[],h=0;31>h;h++)l.push(r);return l}function wt(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function yt(r,l,h,S,M,L){var Z=r.pendingLanes;r.pendingLanes=h,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=h,r.entangledLanes&=h,r.errorRecoveryDisabledLanes&=h,r.shellSuspendCounter=0;var J=r.entanglements,ie=r.expirationTimes,me=r.hiddenUpdates;for(h=Z&~h;0<h;){var Ee=31-ze(h),Re=1<<Ee;J[Ee]=0,ie[Ee]=-1;var be=me[Ee];if(be!==null)for(me[Ee]=null,Ee=0;Ee<be.length;Ee++){var _e=be[Ee];_e!==null&&(_e.lane&=-536870913)}h&=~Re}S!==0&&un(r,S,0),L!==0&&M===0&&r.tag!==0&&(r.suspendedLanes|=L&~(Z&~l))}function un(r,l,h){r.pendingLanes|=l,r.suspendedLanes&=~l;var S=31-ze(l);r.entangledLanes|=l,r.entanglements[S]=r.entanglements[S]|1073741824|h&4194090}function Xt(r,l){var h=r.entangledLanes|=l;for(r=r.entanglements;h;){var S=31-ze(h),M=1<<S;M&l|r[S]&l&&(r[S]|=l),h&=~M}}function fn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Cn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function We(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:f4(r.type))}function Me(r,l){var h=X.p;try{return X.p=r,l()}finally{X.p=h}}var Ye=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ye,Ze="__reactProps$"+Ye,Qe="__reactContainer$"+Ye,tt="__reactEvents$"+Ye,hn="__reactListeners$"+Ye,dt="__reactHandles$"+Ye,Ut="__reactResources$"+Ye,Wt="__reactMarker$"+Ye;function qt(r){delete r[Oe],delete r[Ze],delete r[tt],delete r[hn],delete r[dt]}function Ct(r){var l=r[Oe];if(l)return l;for(var h=r.parentNode;h;){if(l=h[Qe]||h[Oe]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(r=Q5(r);r!==null;){if(h=r[Oe])return h;r=Q5(r)}return l}r=h,h=r.parentNode}return null}function bt(r){if(r=r[Oe]||r[Qe]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function On(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(n(33))}function At(r){var l=r[Ut];return l||(l=r[Ut]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function St(r){r[Wt]=!0}var wr=new Set,dn={};function Yt(r,l){Vt(r,l),Vt(r+"Capture",l)}function Vt(r,l){for(dn[r]=l,r=0;r<l.length;r++)wr.add(l[r])}var Xi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cs={},_n={};function nn(r){return se.call(_n,r)?!0:se.call(cs,r)?!1:Xi.test(r)?_n[r]=!0:(cs[r]=!0,!1)}function Kn(r,l,h){if(nn(l))if(h===null)r.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var S=l.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+h)}}function Sa(r,l,h){if(h===null)r.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+h)}}function $r(r,l,h,S){if(S===null)r.removeAttribute(h);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(h);return}r.setAttributeNS(l,h,""+S)}}var Vi,Sr;function Xr(r){if(Vi===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Vi=l&&l[1]||"",Sr=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+r+Sr}var Ta=!1;function Vr(r,l){if(!r||Ta)return"";Ta=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(l){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(_e){var be=_e}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(_e){be=_e}r.call(Re.prototype)}}else{try{throw Error()}catch(_e){be=_e}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(_e){if(_e&&be&&typeof _e.stack=="string")return[_e.stack,be.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),Z=L[0],J=L[1];if(Z&&J){var ie=Z.split(`
`),me=J.split(`
`);for(M=S=0;S<ie.length&&!ie[S].includes("DetermineComponentFrameRoot");)S++;for(;M<me.length&&!me[M].includes("DetermineComponentFrameRoot");)M++;if(S===ie.length||M===me.length)for(S=ie.length-1,M=me.length-1;1<=S&&0<=M&&ie[S]!==me[M];)M--;for(;1<=S&&0<=M;S--,M--)if(ie[S]!==me[M]){if(S!==1||M!==1)do if(S--,M--,0>M||ie[S]!==me[M]){var Ee=`
`+ie[S].replace(" at new "," at ");return r.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",r.displayName)),Ee}while(1<=S&&0<=M);break}}}finally{Ta=!1,Error.prepareStackTrace=h}return(h=r?r.displayName||r.name:"")?Xr(h):""}function iT(r){switch(r.tag){case 26:case 27:case 5:return Xr(r.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return Vr(r.type,!1);case 11:return Vr(r.type.render,!1);case 1:return Vr(r.type,!0);case 31:return Xr("Activity");default:return""}}function P3(r){try{var l="";do l+=iT(r),r=r.return;while(r);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Ir(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function H3(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function aT(r){var l=H3(r)?"checked":"value",h=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),S=""+r[l];if(!r.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var M=h.get,L=h.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return M.call(this)},set:function(Z){S=""+Z,L.call(this,Z)}}),Object.defineProperty(r,l,{enumerable:h.enumerable}),{getValue:function(){return S},setValue:function(Z){S=""+Z},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Lc(r){r._valueTracker||(r._valueTracker=aT(r))}function Y3(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var h=l.getValue(),S="";return r&&(S=H3(r)?r.checked?"true":"false":r.value),r=S,r!==h?(l.setValue(r),!0):!1}function qc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sT=/[\n"\\]/g;function Zr(r){return r.replace(sT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Lh(r,l,h,S,M,L,Z,J){r.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?r.type=Z:r.removeAttribute("type"),l!=null?Z==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Ir(l)):r.value!==""+Ir(l)&&(r.value=""+Ir(l)):Z!=="submit"&&Z!=="reset"||r.removeAttribute("value"),l!=null?qh(r,Z,Ir(l)):h!=null?qh(r,Z,Ir(h)):S!=null&&r.removeAttribute("value"),M==null&&L!=null&&(r.defaultChecked=!!L),M!=null&&(r.checked=M&&typeof M!="function"&&typeof M!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?r.name=""+Ir(J):r.removeAttribute("name")}function U3(r,l,h,S,M,L,Z,J){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.type=L),l!=null||h!=null){if(!(L!=="submit"&&L!=="reset"||l!=null))return;h=h!=null?""+Ir(h):"",l=l!=null?""+Ir(l):h,J||l===r.value||(r.value=l),r.defaultValue=l}S=S??M,S=typeof S!="function"&&typeof S!="symbol"&&!!S,r.checked=J?r.checked:!!S,r.defaultChecked=!!S,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(r.name=Z)}function qh(r,l,h){l==="number"&&qc(r.ownerDocument)===r||r.defaultValue===""+h||(r.defaultValue=""+h)}function i0(r,l,h,S){if(r=r.options,l){l={};for(var M=0;M<h.length;M++)l["$"+h[M]]=!0;for(h=0;h<r.length;h++)M=l.hasOwnProperty("$"+r[h].value),r[h].selected!==M&&(r[h].selected=M),M&&S&&(r[h].defaultSelected=!0)}else{for(h=""+Ir(h),l=null,M=0;M<r.length;M++){if(r[M].value===h){r[M].selected=!0,S&&(r[M].defaultSelected=!0);return}l!==null||r[M].disabled||(l=r[M])}l!==null&&(l.selected=!0)}}function F3(r,l,h){if(l!=null&&(l=""+Ir(l),l!==r.value&&(r.value=l),h==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=h!=null?""+Ir(h):""}function G3(r,l,h,S){if(l==null){if(S!=null){if(h!=null)throw Error(n(92));if(q(S)){if(1<S.length)throw Error(n(93));S=S[0]}h=S}h==null&&(h=""),l=h}h=Ir(l),r.defaultValue=h,S=r.textContent,S===h&&S!==""&&S!==null&&(r.value=S)}function a0(r,l){if(l){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=l;return}}r.textContent=l}var oT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $3(r,l,h){var S=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?S?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":S?r.setProperty(l,h):typeof h!="number"||h===0||oT.has(l)?l==="float"?r.cssFloat=h:r[l]=(""+h).trim():r[l]=h+"px"}function X3(r,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(r=r.style,h!=null){for(var S in h)!h.hasOwnProperty(S)||l!=null&&l.hasOwnProperty(S)||(S.indexOf("--")===0?r.setProperty(S,""):S==="float"?r.cssFloat="":r[S]="");for(var M in l)S=l[M],l.hasOwnProperty(M)&&h[M]!==S&&$3(r,M,S)}else for(var L in l)l.hasOwnProperty(L)&&$3(r,L,l[L])}function jh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jc(r){return cT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ph=null;function Hh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var s0=null,o0=null;function V3(r){var l=bt(r);if(l&&(r=l.stateNode)){var h=r[Ze]||null;e:switch(r=l.stateNode,l.type){case"input":if(Lh(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Zr(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var S=h[l];if(S!==r&&S.form===r.form){var M=S[Ze]||null;if(!M)throw Error(n(90));Lh(S,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(l=0;l<h.length;l++)S=h[l],S.form===r.form&&Y3(S)}break e;case"textarea":F3(r,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&i0(r,!!h.multiple,l,!1)}}}var Yh=!1;function I3(r,l,h){if(Yh)return r(l,h);Yh=!0;try{var S=r(l);return S}finally{if(Yh=!1,(s0!==null||o0!==null)&&(Su(),s0&&(l=s0,r=o0,o0=s0=null,V3(l),r)))for(l=0;l<r.length;l++)V3(r[l])}}function Ro(r,l){var h=r.stateNode;if(h===null)return null;var S=h[Ze]||null;if(S===null)return null;h=S[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(r=r.type,S=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!S;break e;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=!1;if(Ii)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Uh=!1}var Ca=null,Fh=null,Pc=null;function Z3(){if(Pc)return Pc;var r,l=Fh,h=l.length,S,M="value"in Ca?Ca.value:Ca.textContent,L=M.length;for(r=0;r<h&&l[r]===M[r];r++);var Z=h-r;for(S=1;S<=Z&&l[h-S]===M[L-S];S++);return Pc=M.slice(r,1<S?1-S:void 0)}function Hc(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Yc(){return!0}function Q3(){return!1}function lr(r){function l(h,S,M,L,Z){this._reactName=h,this._targetInst=M,this.type=S,this.nativeEvent=L,this.target=Z,this.currentTarget=null;for(var J in r)r.hasOwnProperty(J)&&(h=r[J],this[J]=h?h(L):L[J]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Yc:Q3,this.isPropagationStopped=Q3,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),l}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=lr(us),Oo=b({},us,{view:0,detail:0}),uT=lr(Oo),Gh,$h,zo,Fc=b({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zo&&(zo&&r.type==="mousemove"?(Gh=r.screenX-zo.screenX,$h=r.screenY-zo.screenY):$h=Gh=0,zo=r),Gh)},movementY:function(r){return"movementY"in r?r.movementY:$h}}),K3=lr(Fc),fT=b({},Fc,{dataTransfer:0}),hT=lr(fT),dT=b({},Oo,{relatedTarget:0}),Xh=lr(dT),pT=b({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=lr(pT),vT=b({},us,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mT=lr(vT),yT=b({},us,{data:0}),W3=lr(yT),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=xT[r])?!!l[r]:!1}function Vh(){return wT}var ST=b({},Oo,{key:function(r){if(r.key){var l=bT[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Hc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_T[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vh,charCode:function(r){return r.type==="keypress"?Hc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),TT=lr(ST),CT=b({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J3=lr(CT),ET=b({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vh}),AT=lr(ET),MT=b({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),kT=lr(MT),NT=b({},Fc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=lr(NT),DT=b({},us,{newState:0,oldState:0}),OT=lr(DT),zT=[9,13,27,32],Ih=Ii&&"CompositionEvent"in window,Bo=null;Ii&&"documentMode"in document&&(Bo=document.documentMode);var BT=Ii&&"TextEvent"in window&&!Bo,e6=Ii&&(!Ih||Bo&&8<Bo&&11>=Bo),t6=" ",n6=!1;function r6(r,l){switch(r){case"keyup":return zT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i6(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var l0=!1;function LT(r,l){switch(r){case"compositionend":return i6(l);case"keypress":return l.which!==32?null:(n6=!0,t6);case"textInput":return r=l.data,r===t6&&n6?null:r;default:return null}}function qT(r,l){if(l0)return r==="compositionend"||!Ih&&r6(r,l)?(r=Z3(),Pc=Fh=Ca=null,l0=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return e6&&l.locale!=="ko"?null:l.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a6(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!jT[r.type]:l==="textarea"}function s6(r,l,h,S){s0?o0?o0.push(S):o0=[S]:s0=S,l=ku(l,"onChange"),0<l.length&&(h=new Uc("onChange","change",null,h,S),r.push({event:h,listeners:l}))}var Lo=null,qo=null;function PT(r){H5(r,0)}function Gc(r){var l=On(r);if(Y3(l))return r}function o6(r,l){if(r==="change")return l}var l6=!1;if(Ii){var Zh;if(Ii){var Qh="oninput"in document;if(!Qh){var c6=document.createElement("div");c6.setAttribute("oninput","return;"),Qh=typeof c6.oninput=="function"}Zh=Qh}else Zh=!1;l6=Zh&&(!document.documentMode||9<document.documentMode)}function u6(){Lo&&(Lo.detachEvent("onpropertychange",f6),qo=Lo=null)}function f6(r){if(r.propertyName==="value"&&Gc(qo)){var l=[];s6(l,qo,r,Hh(r)),I3(PT,l)}}function HT(r,l,h){r==="focusin"?(u6(),Lo=l,qo=h,Lo.attachEvent("onpropertychange",f6)):r==="focusout"&&u6()}function YT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gc(qo)}function UT(r,l){if(r==="click")return Gc(l)}function FT(r,l){if(r==="input"||r==="change")return Gc(l)}function GT(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Tr=typeof Object.is=="function"?Object.is:GT;function jo(r,l){if(Tr(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var h=Object.keys(r),S=Object.keys(l);if(h.length!==S.length)return!1;for(S=0;S<h.length;S++){var M=h[S];if(!se.call(l,M)||!Tr(r[M],l[M]))return!1}return!0}function h6(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function d6(r,l){var h=h6(r);r=0;for(var S;h;){if(h.nodeType===3){if(S=r+h.textContent.length,r<=l&&S>=l)return{node:h,offset:l-r};r=S}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=h6(h)}}function p6(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?p6(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function g6(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=qc(r.document);l instanceof r.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)r=l.contentWindow;else break;l=qc(r.document)}return l}function Kh(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var $T=Ii&&"documentMode"in document&&11>=document.documentMode,c0=null,Wh=null,Po=null,Jh=!1;function v6(r,l,h){var S=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Jh||c0==null||c0!==qc(S)||(S=c0,"selectionStart"in S&&Kh(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Po&&jo(Po,S)||(Po=S,S=ku(Wh,"onSelect"),0<S.length&&(l=new Uc("onSelect","select",null,l,h),r.push({event:l,listeners:S}),l.target=c0)))}function fs(r,l){var h={};return h[r.toLowerCase()]=l.toLowerCase(),h["Webkit"+r]="webkit"+l,h["Moz"+r]="moz"+l,h}var u0={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},e1={},m6={};Ii&&(m6=document.createElement("div").style,"AnimationEvent"in window||(delete u0.animationend.animation,delete u0.animationiteration.animation,delete u0.animationstart.animation),"TransitionEvent"in window||delete u0.transitionend.transition);function hs(r){if(e1[r])return e1[r];if(!u0[r])return r;var l=u0[r],h;for(h in l)if(l.hasOwnProperty(h)&&h in m6)return e1[r]=l[h];return r}var y6=hs("animationend"),b6=hs("animationiteration"),_6=hs("animationstart"),XT=hs("transitionrun"),VT=hs("transitionstart"),IT=hs("transitioncancel"),x6=hs("transitionend"),w6=new Map,t1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");t1.push("scrollEnd");function di(r,l){w6.set(r,l),Yt(l,[r])}var S6=new WeakMap;function Qr(r,l){if(typeof r=="object"&&r!==null){var h=S6.get(r);return h!==void 0?h:(l={value:r,source:l,stack:P3(l)},S6.set(r,l),l)}return{value:r,source:l,stack:P3(l)}}var Kr=[],f0=0,n1=0;function $c(){for(var r=f0,l=n1=f0=0;l<r;){var h=Kr[l];Kr[l++]=null;var S=Kr[l];Kr[l++]=null;var M=Kr[l];Kr[l++]=null;var L=Kr[l];if(Kr[l++]=null,S!==null&&M!==null){var Z=S.pending;Z===null?M.next=M:(M.next=Z.next,Z.next=M),S.pending=M}L!==0&&T6(h,M,L)}}function Xc(r,l,h,S){Kr[f0++]=r,Kr[f0++]=l,Kr[f0++]=h,Kr[f0++]=S,n1|=S,r.lanes|=S,r=r.alternate,r!==null&&(r.lanes|=S)}function r1(r,l,h,S){return Xc(r,l,h,S),Vc(r)}function h0(r,l){return Xc(r,null,null,l),Vc(r)}function T6(r,l,h){r.lanes|=h;var S=r.alternate;S!==null&&(S.lanes|=h);for(var M=!1,L=r.return;L!==null;)L.childLanes|=h,S=L.alternate,S!==null&&(S.childLanes|=h),L.tag===22&&(r=L.stateNode,r===null||r._visibility&1||(M=!0)),r=L,L=L.return;return r.tag===3?(L=r.stateNode,M&&l!==null&&(M=31-ze(h),r=L.hiddenUpdates,S=r[M],S===null?r[M]=[l]:S.push(l),l.lane=h|536870912),L):null}function Vc(r){if(50<ul)throw ul=0,cd=null,Error(n(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var d0={};function ZT(r,l,h,S){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(r,l,h,S){return new ZT(r,l,h,S)}function i1(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zi(r,l){var h=r.alternate;return h===null?(h=Cr(r.tag,l,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=l,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&65011712,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,l=r.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h.refCleanup=r.refCleanup,h}function C6(r,l){r.flags&=65011714;var h=r.alternate;return h===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=h.childLanes,r.lanes=h.lanes,r.child=h.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=h.memoizedProps,r.memoizedState=h.memoizedState,r.updateQueue=h.updateQueue,r.type=h.type,l=h.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Ic(r,l,h,S,M,L){var Z=0;if(S=r,typeof r=="function")i1(r)&&(Z=1);else if(typeof r=="string")Z=KC(r,h,W.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=Cr(31,h,l,M),r.elementType=R,r.lanes=L,r;case _:return ds(h.children,M,L,l);case p:Z=8,M|=24;break;case w:return r=Cr(12,h,l,M|2),r.elementType=w,r.lanes=L,r;case D:return r=Cr(13,h,l,M),r.elementType=D,r.lanes=L,r;case F:return r=Cr(19,h,l,M),r.elementType=F,r.lanes=L,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case N:Z=10;break e;case C:Z=9;break e;case k:Z=11;break e;case G:Z=14;break e;case E:Z=16,S=null;break e}Z=29,h=Error(n(130,r===null?"null":typeof r,"")),S=null}return l=Cr(Z,h,l,M),l.elementType=r,l.type=S,l.lanes=L,l}function ds(r,l,h,S){return r=Cr(7,r,S,l),r.lanes=h,r}function a1(r,l,h){return r=Cr(6,r,null,l),r.lanes=h,r}function s1(r,l,h){return l=Cr(4,r.children!==null?r.children:[],r.key,l),l.lanes=h,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var p0=[],g0=0,Zc=null,Qc=0,Wr=[],Jr=0,ps=null,Qi=1,Ki="";function gs(r,l){p0[g0++]=Qc,p0[g0++]=Zc,Zc=r,Qc=l}function E6(r,l,h){Wr[Jr++]=Qi,Wr[Jr++]=Ki,Wr[Jr++]=ps,ps=r;var S=Qi;r=Ki;var M=32-ze(S)-1;S&=~(1<<M),h+=1;var L=32-ze(l)+M;if(30<L){var Z=M-M%5;L=(S&(1<<Z)-1).toString(32),S>>=Z,M-=Z,Qi=1<<32-ze(l)+M|h<<M|S,Ki=L+r}else Qi=1<<L|h<<M|S,Ki=r}function o1(r){r.return!==null&&(gs(r,1),E6(r,1,0))}function l1(r){for(;r===Zc;)Zc=p0[--g0],p0[g0]=null,Qc=p0[--g0],p0[g0]=null;for(;r===ps;)ps=Wr[--Jr],Wr[Jr]=null,Ki=Wr[--Jr],Wr[Jr]=null,Qi=Wr[--Jr],Wr[Jr]=null}var Wn=null,Jt=null,Et=!1,vs=null,Si=!1,c1=Error(n(519));function ms(r){var l=Error(n(418,""));throw Uo(Qr(l,r)),c1}function A6(r){var l=r.stateNode,h=r.type,S=r.memoizedProps;switch(l[Oe]=r,l[Ze]=S,h){case"dialog":gt("cancel",l),gt("close",l);break;case"iframe":case"object":case"embed":gt("load",l);break;case"video":case"audio":for(h=0;h<hl.length;h++)gt(hl[h],l);break;case"source":gt("error",l);break;case"img":case"image":case"link":gt("error",l),gt("load",l);break;case"details":gt("toggle",l);break;case"input":gt("invalid",l),U3(l,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),Lc(l);break;case"select":gt("invalid",l);break;case"textarea":gt("invalid",l),G3(l,S.value,S.defaultValue,S.children),Lc(l)}h=S.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||S.suppressHydrationWarning===!0||G5(l.textContent,h)?(S.popover!=null&&(gt("beforetoggle",l),gt("toggle",l)),S.onScroll!=null&&gt("scroll",l),S.onScrollEnd!=null&&gt("scrollend",l),S.onClick!=null&&(l.onclick=Nu),l=!0):l=!1,l||ms(r)}function M6(r){for(Wn=r.return;Wn;)switch(Wn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Wn=Wn.return}}function Ho(r){if(r!==Wn)return!1;if(!Et)return M6(r),Et=!0,!1;var l=r.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=r.type,h=!(h!=="form"&&h!=="button")||Cd(r.type,r.memoizedProps)),h=!h),h&&Jt&&ms(r),M6(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(h=r.data,h==="/$"){if(l===0){Jt=gi(r.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;r=r.nextSibling}Jt=null}}else l===27?(l=Jt,Ya(r.type)?(r=kd,kd=null,Jt=r):Jt=l):Jt=Wn?gi(r.stateNode.nextSibling):null;return!0}function Yo(){Jt=Wn=null,Et=!1}function k6(){var r=vs;return r!==null&&(fr===null?fr=r:fr.push.apply(fr,r),vs=null),r}function Uo(r){vs===null?vs=[r]:vs.push(r)}var u1=B(null),ys=null,Wi=null;function Ea(r,l,h){Q(u1,l._currentValue),l._currentValue=h}function Ji(r){r._currentValue=u1.current,V(u1)}function f1(r,l,h){for(;r!==null;){var S=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,S!==null&&(S.childLanes|=l)):S!==null&&(S.childLanes&l)!==l&&(S.childLanes|=l),r===h)break;r=r.return}}function h1(r,l,h,S){var M=r.child;for(M!==null&&(M.return=r);M!==null;){var L=M.dependencies;if(L!==null){var Z=M.child;L=L.firstContext;e:for(;L!==null;){var J=L;L=M;for(var ie=0;ie<l.length;ie++)if(J.context===l[ie]){L.lanes|=h,J=L.alternate,J!==null&&(J.lanes|=h),f1(L.return,h,r),S||(Z=null);break e}L=J.next}}else if(M.tag===18){if(Z=M.return,Z===null)throw Error(n(341));Z.lanes|=h,L=Z.alternate,L!==null&&(L.lanes|=h),f1(Z,h,r),Z=null}else Z=M.child;if(Z!==null)Z.return=M;else for(Z=M;Z!==null;){if(Z===r){Z=null;break}if(M=Z.sibling,M!==null){M.return=Z.return,Z=M;break}Z=Z.return}M=Z}}function Fo(r,l,h,S){r=null;for(var M=l,L=!1;M!==null;){if(!L){if((M.flags&524288)!==0)L=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var Z=M.alternate;if(Z===null)throw Error(n(387));if(Z=Z.memoizedProps,Z!==null){var J=M.type;Tr(M.pendingProps.value,Z.value)||(r!==null?r.push(J):r=[J])}}else if(M===he.current){if(Z=M.alternate,Z===null)throw Error(n(387));Z.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(r!==null?r.push(yl):r=[yl])}M=M.return}r!==null&&h1(l,r,h,S),l.flags|=262144}function Kc(r){for(r=r.firstContext;r!==null;){if(!Tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bs(r){ys=r,Wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Hn(r){return N6(ys,r)}function Wc(r,l){return ys===null&&bs(r),N6(r,l)}function N6(r,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Wi===null){if(r===null)throw Error(n(308));Wi=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Wi=Wi.next=l;return h}var QT=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(h,S){r.push(S)}};this.abort=function(){l.aborted=!0,r.forEach(function(h){return h()})}},KT=t.unstable_scheduleCallback,WT=t.unstable_NormalPriority,xn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d1(){return{controller:new QT,data:new Map,refCount:0}}function Go(r){r.refCount--,r.refCount===0&&KT(WT,function(){r.controller.abort()})}var $o=null,p1=0,v0=0,m0=null;function JT(r,l){if($o===null){var h=$o=[];p1=0,v0=vd(),m0={status:"pending",value:void 0,then:function(S){h.push(S)}}}return p1++,l.then(R6,R6),l}function R6(){if(--p1===0&&$o!==null){m0!==null&&(m0.status="fulfilled");var r=$o;$o=null,v0=0,m0=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function eC(r,l){var h=[],S={status:"pending",value:null,reason:null,then:function(M){h.push(M)}};return r.then(function(){S.status="fulfilled",S.value=l;for(var M=0;M<h.length;M++)(0,h[M])(l)},function(M){for(S.status="rejected",S.reason=M,M=0;M<h.length;M++)(0,h[M])(void 0)}),S}var D6=U.S;U.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&JT(r,l),D6!==null&&D6(r,l)};var _s=B(null);function g1(){var r=_s.current;return r!==null?r:jt.pooledCache}function Jc(r,l){l===null?Q(_s,_s.current):Q(_s,l.pool)}function O6(){var r=g1();return r===null?null:{parent:xn._currentValue,pool:r}}var Xo=Error(n(460)),z6=Error(n(474)),eu=Error(n(542)),v1={then:function(){}};function B6(r){return r=r.status,r==="fulfilled"||r==="rejected"}function tu(){}function L6(r,l,h){switch(h=r[h],h===void 0?r.push(l):h!==l&&(l.then(tu,tu),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,j6(r),r;default:if(typeof l.status=="string")l.then(tu,tu);else{if(r=jt,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=l,r.status="pending",r.then(function(S){if(l.status==="pending"){var M=l;M.status="fulfilled",M.value=S}},function(S){if(l.status==="pending"){var M=l;M.status="rejected",M.reason=S}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,j6(r),r}throw Vo=l,Xo}}var Vo=null;function q6(){if(Vo===null)throw Error(n(459));var r=Vo;return Vo=null,r}function j6(r){if(r===Xo||r===eu)throw Error(n(483))}var Aa=!1;function m1(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y1(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ma(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ka(r,l,h){var S=r.updateQueue;if(S===null)return null;if(S=S.shared,(kt&2)!==0){var M=S.pending;return M===null?l.next=l:(l.next=M.next,M.next=l),S.pending=l,l=Vc(r),T6(r,null,h),l}return Xc(r,S,l,h),Vc(r)}function Io(r,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var S=l.lanes;S&=r.pendingLanes,h|=S,l.lanes=h,Xt(r,h)}}function b1(r,l){var h=r.updateQueue,S=r.alternate;if(S!==null&&(S=S.updateQueue,h===S)){var M=null,L=null;if(h=h.firstBaseUpdate,h!==null){do{var Z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};L===null?M=L=Z:L=L.next=Z,h=h.next}while(h!==null);L===null?M=L=l:L=L.next=l}else M=L=l;h={baseState:S.baseState,firstBaseUpdate:M,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=l:r.next=l,h.lastBaseUpdate=l}var _1=!1;function Zo(){if(_1){var r=m0;if(r!==null)throw r}}function Qo(r,l,h,S){_1=!1;var M=r.updateQueue;Aa=!1;var L=M.firstBaseUpdate,Z=M.lastBaseUpdate,J=M.shared.pending;if(J!==null){M.shared.pending=null;var ie=J,me=ie.next;ie.next=null,Z===null?L=me:Z.next=me,Z=ie;var Ee=r.alternate;Ee!==null&&(Ee=Ee.updateQueue,J=Ee.lastBaseUpdate,J!==Z&&(J===null?Ee.firstBaseUpdate=me:J.next=me,Ee.lastBaseUpdate=ie))}if(L!==null){var Re=M.baseState;Z=0,Ee=me=ie=null,J=L;do{var be=J.lane&-536870913,_e=be!==J.lane;if(_e?(_t&be)===be:(S&be)===be){be!==0&&be===v0&&(_1=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var nt=r,Je=J;be=l;var Ot=h;switch(Je.tag){case 1:if(nt=Je.payload,typeof nt=="function"){Re=nt.call(Ot,Re,be);break e}Re=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Je.payload,be=typeof nt=="function"?nt.call(Ot,Re,be):nt,be==null)break e;Re=b({},Re,be);break e;case 2:Aa=!0}}be=J.callback,be!==null&&(r.flags|=64,_e&&(r.flags|=8192),_e=M.callbacks,_e===null?M.callbacks=[be]:_e.push(be))}else _e={lane:be,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ee===null?(me=Ee=_e,ie=Re):Ee=Ee.next=_e,Z|=be;if(J=J.next,J===null){if(J=M.shared.pending,J===null)break;_e=J,J=_e.next,_e.next=null,M.lastBaseUpdate=_e,M.shared.pending=null}}while(!0);Ee===null&&(ie=Re),M.baseState=ie,M.firstBaseUpdate=me,M.lastBaseUpdate=Ee,L===null&&(M.shared.lanes=0),qa|=Z,r.lanes=Z,r.memoizedState=Re}}function P6(r,l){if(typeof r!="function")throw Error(n(191,r));r.call(l)}function H6(r,l){var h=r.callbacks;if(h!==null)for(r.callbacks=null,r=0;r<h.length;r++)P6(h[r],l)}var y0=B(null),nu=B(0);function Y6(r,l){r=sa,Q(nu,r),Q(y0,l),sa=r|l.baseLanes}function x1(){Q(nu,sa),Q(y0,y0.current)}function w1(){sa=nu.current,V(y0),V(nu)}var Na=0,st=null,Rt=null,pn=null,ru=!1,b0=!1,xs=!1,iu=0,Ko=0,_0=null,tC=0;function rn(){throw Error(n(321))}function S1(r,l){if(l===null)return!1;for(var h=0;h<l.length&&h<r.length;h++)if(!Tr(r[h],l[h]))return!1;return!0}function T1(r,l,h,S,M,L){return Na=L,st=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=r===null||r.memoizedState===null?Ty:Cy,xs=!1,L=h(S,M),xs=!1,b0&&(L=F6(l,h,S,M)),U6(r),L}function U6(r){U.H=uu;var l=Rt!==null&&Rt.next!==null;if(Na=0,pn=Rt=st=null,ru=!1,Ko=0,_0=null,l)throw Error(n(300));r===null||En||(r=r.dependencies,r!==null&&Kc(r)&&(En=!0))}function F6(r,l,h,S){st=r;var M=0;do{if(b0&&(_0=null),Ko=0,b0=!1,25<=M)throw Error(n(301));if(M+=1,pn=Rt=null,r.updateQueue!=null){var L=r.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}U.H=lC,L=l(h,S)}while(b0);return L}function nC(){var r=U.H,l=r.useState()[0];return l=typeof l.then=="function"?Wo(l):l,r=r.useState()[0],(Rt!==null?Rt.memoizedState:null)!==r&&(st.flags|=1024),l}function C1(){var r=iu!==0;return iu=0,r}function E1(r,l,h){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~h}function A1(r){if(ru){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ru=!1}Na=0,pn=Rt=st=null,b0=!1,Ko=iu=0,_0=null}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?st.memoizedState=pn=r:pn=pn.next=r,pn}function gn(){if(Rt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var l=pn===null?st.memoizedState:pn.next;if(l!==null)pn=l,Rt=r;else{if(r===null)throw st.alternate===null?Error(n(467)):Error(n(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},pn===null?st.memoizedState=pn=r:pn=pn.next=r}return pn}function M1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(r){var l=Ko;return Ko+=1,_0===null&&(_0=[]),r=L6(_0,r,l),l=st,(pn===null?l.memoizedState:pn.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?Ty:Cy),r}function au(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wo(r);if(r.$$typeof===N)return Hn(r)}throw Error(n(438,String(r)))}function k1(r){var l=null,h=st.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var S=st.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(l={data:S.data.map(function(M){return M.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=M1(),st.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(r),S=0;S<r;S++)h[S]=O;return l.index++,h}function ea(r,l){return typeof l=="function"?l(r):l}function su(r){var l=gn();return N1(l,Rt,r)}function N1(r,l,h){var S=r.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=h;var M=r.baseQueue,L=S.pending;if(L!==null){if(M!==null){var Z=M.next;M.next=L.next,L.next=Z}l.baseQueue=M=L,S.pending=null}if(L=r.baseState,M===null)r.memoizedState=L;else{l=M.next;var J=Z=null,ie=null,me=l,Ee=!1;do{var Re=me.lane&-536870913;if(Re!==me.lane?(_t&Re)===Re:(Na&Re)===Re){var be=me.revertLane;if(be===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Re===v0&&(Ee=!0);else if((Na&be)===be){me=me.next,be===v0&&(Ee=!0);continue}else Re={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ie===null?(J=ie=Re,Z=L):ie=ie.next=Re,st.lanes|=be,qa|=be;Re=me.action,xs&&h(L,Re),L=me.hasEagerState?me.eagerState:h(L,Re)}else be={lane:Re,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ie===null?(J=ie=be,Z=L):ie=ie.next=be,st.lanes|=Re,qa|=Re;me=me.next}while(me!==null&&me!==l);if(ie===null?Z=L:ie.next=J,!Tr(L,r.memoizedState)&&(En=!0,Ee&&(h=m0,h!==null)))throw h;r.memoizedState=L,r.baseState=Z,r.baseQueue=ie,S.lastRenderedState=L}return M===null&&(S.lanes=0),[r.memoizedState,S.dispatch]}function R1(r){var l=gn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=r;var S=h.dispatch,M=h.pending,L=l.memoizedState;if(M!==null){h.pending=null;var Z=M=M.next;do L=r(L,Z.action),Z=Z.next;while(Z!==M);Tr(L,l.memoizedState)||(En=!0),l.memoizedState=L,l.baseQueue===null&&(l.baseState=L),h.lastRenderedState=L}return[L,S]}function G6(r,l,h){var S=st,M=gn(),L=Et;if(L){if(h===void 0)throw Error(n(407));h=h()}else h=l();var Z=!Tr((Rt||M).memoizedState,h);Z&&(M.memoizedState=h,En=!0),M=M.queue;var J=V6.bind(null,S,M,r);if(Jo(2048,8,J,[r]),M.getSnapshot!==l||Z||pn!==null&&pn.memoizedState.tag&1){if(S.flags|=2048,x0(9,ou(),X6.bind(null,S,M,h,l),null),jt===null)throw Error(n(349));L||(Na&124)!==0||$6(S,l,h)}return h}function $6(r,l,h){r.flags|=16384,r={getSnapshot:l,value:h},l=st.updateQueue,l===null?(l=M1(),st.updateQueue=l,l.stores=[r]):(h=l.stores,h===null?l.stores=[r]:h.push(r))}function X6(r,l,h,S){l.value=h,l.getSnapshot=S,I6(l)&&Z6(r)}function V6(r,l,h){return h(function(){I6(l)&&Z6(r)})}function I6(r){var l=r.getSnapshot;r=r.value;try{var h=l();return!Tr(r,h)}catch{return!0}}function Z6(r){var l=h0(r,2);l!==null&&Nr(l,r,2)}function D1(r){var l=cr();if(typeof r=="function"){var h=r;if(r=h(),xs){Le(!0);try{h()}finally{Le(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:r},l}function Q6(r,l,h,S){return r.baseState=h,N1(r,Rt,typeof S=="function"?S:ea)}function rC(r,l,h,S,M){if(cu(r))throw Error(n(485));if(r=l.action,r!==null){var L={payload:M,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){L.listeners.push(Z)}};U.T!==null?h(!0):L.isTransition=!1,S(L),h=l.pending,h===null?(L.next=l.pending=L,K6(l,L)):(L.next=h.next,l.pending=h.next=L)}}function K6(r,l){var h=l.action,S=l.payload,M=r.state;if(l.isTransition){var L=U.T,Z={};U.T=Z;try{var J=h(M,S),ie=U.S;ie!==null&&ie(Z,J),W6(r,l,J)}catch(me){O1(r,l,me)}finally{U.T=L}}else try{L=h(M,S),W6(r,l,L)}catch(me){O1(r,l,me)}}function W6(r,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(S){J6(r,l,S)},function(S){return O1(r,l,S)}):J6(r,l,h)}function J6(r,l,h){l.status="fulfilled",l.value=h,ey(l),r.state=h,l=r.pending,l!==null&&(h=l.next,h===l?r.pending=null:(h=h.next,l.next=h,K6(r,h)))}function O1(r,l,h){var S=r.pending;if(r.pending=null,S!==null){S=S.next;do l.status="rejected",l.reason=h,ey(l),l=l.next;while(l!==S)}r.action=null}function ey(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function ty(r,l){return l}function ny(r,l){if(Et){var h=jt.formState;if(h!==null){e:{var S=st;if(Et){if(Jt){t:{for(var M=Jt,L=Si;M.nodeType!==8;){if(!L){M=null;break t}if(M=gi(M.nextSibling),M===null){M=null;break t}}L=M.data,M=L==="F!"||L==="F"?M:null}if(M){Jt=gi(M.nextSibling),S=M.data==="F!";break e}}ms(S)}S=!1}S&&(l=h[0])}}return h=cr(),h.memoizedState=h.baseState=l,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:l},h.queue=S,h=xy.bind(null,st,S),S.dispatch=h,S=D1(!1),L=j1.bind(null,st,!1,S.queue),S=cr(),M={state:l,dispatch:null,action:r,pending:null},S.queue=M,h=rC.bind(null,st,M,L,h),M.dispatch=h,S.memoizedState=r,[l,h,!1]}function ry(r){var l=gn();return iy(l,Rt,r)}function iy(r,l,h){if(l=N1(r,l,ty)[0],r=su(ea)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var S=Wo(l)}catch(Z){throw Z===Xo?eu:Z}else S=l;l=gn();var M=l.queue,L=M.dispatch;return h!==l.memoizedState&&(st.flags|=2048,x0(9,ou(),iC.bind(null,M,h),null)),[S,L,r]}function iC(r,l){r.action=l}function ay(r){var l=gn(),h=Rt;if(h!==null)return iy(l,h,r);gn(),l=l.memoizedState,h=gn();var S=h.queue.dispatch;return h.memoizedState=r,[l,S,!1]}function x0(r,l,h,S){return r={tag:r,create:h,deps:S,inst:l,next:null},l=st.updateQueue,l===null&&(l=M1(),st.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=r.next=r:(S=h.next,h.next=r,r.next=S,l.lastEffect=r),r}function ou(){return{destroy:void 0,resource:void 0}}function sy(){return gn().memoizedState}function lu(r,l,h,S){var M=cr();S=S===void 0?null:S,st.flags|=r,M.memoizedState=x0(1|l,ou(),h,S)}function Jo(r,l,h,S){var M=gn();S=S===void 0?null:S;var L=M.memoizedState.inst;Rt!==null&&S!==null&&S1(S,Rt.memoizedState.deps)?M.memoizedState=x0(l,L,h,S):(st.flags|=r,M.memoizedState=x0(1|l,L,h,S))}function oy(r,l){lu(8390656,8,r,l)}function ly(r,l){Jo(2048,8,r,l)}function cy(r,l){return Jo(4,2,r,l)}function uy(r,l){return Jo(4,4,r,l)}function fy(r,l){if(typeof l=="function"){r=r();var h=l(r);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function hy(r,l,h){h=h!=null?h.concat([r]):null,Jo(4,4,fy.bind(null,l,r),h)}function z1(){}function dy(r,l){var h=gn();l=l===void 0?null:l;var S=h.memoizedState;return l!==null&&S1(l,S[1])?S[0]:(h.memoizedState=[r,l],r)}function py(r,l){var h=gn();l=l===void 0?null:l;var S=h.memoizedState;if(l!==null&&S1(l,S[1]))return S[0];if(S=r(),xs){Le(!0);try{r()}finally{Le(!1)}}return h.memoizedState=[S,l],S}function B1(r,l,h){return h===void 0||(Na&1073741824)!==0?r.memoizedState=l:(r.memoizedState=h,r=m5(),st.lanes|=r,qa|=r,h)}function gy(r,l,h,S){return Tr(h,l)?h:y0.current!==null?(r=B1(r,h,S),Tr(r,l)||(En=!0),r):(Na&42)===0?(En=!0,r.memoizedState=h):(r=m5(),st.lanes|=r,qa|=r,l)}function vy(r,l,h,S,M){var L=X.p;X.p=L!==0&&8>L?L:8;var Z=U.T,J={};U.T=J,j1(r,!1,l,h);try{var ie=M(),me=U.S;if(me!==null&&me(J,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ee=eC(ie,S);el(r,l,Ee,kr(r))}else el(r,l,S,kr(r))}catch(Re){el(r,l,{then:function(){},status:"rejected",reason:Re},kr())}finally{X.p=L,U.T=Z}}function aC(){}function L1(r,l,h,S){if(r.tag!==5)throw Error(n(476));var M=my(r).queue;vy(r,M,l,I,h===null?aC:function(){return yy(r),h(S)})}function my(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:I},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:h},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function yy(r){var l=my(r).next.queue;el(r,l,{},kr())}function q1(){return Hn(yl)}function by(){return gn().memoizedState}function _y(){return gn().memoizedState}function sC(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var h=kr();r=Ma(h);var S=ka(l,r,h);S!==null&&(Nr(S,l,h),Io(S,l,h)),l={cache:d1()},r.payload=l;return}l=l.return}}function oC(r,l,h){var S=kr();h={lane:S,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},cu(r)?wy(l,h):(h=r1(r,l,h,S),h!==null&&(Nr(h,r,S),Sy(h,l,S)))}function xy(r,l,h){var S=kr();el(r,l,h,S)}function el(r,l,h,S){var M={lane:S,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(cu(r))wy(l,M);else{var L=r.alternate;if(r.lanes===0&&(L===null||L.lanes===0)&&(L=l.lastRenderedReducer,L!==null))try{var Z=l.lastRenderedState,J=L(Z,h);if(M.hasEagerState=!0,M.eagerState=J,Tr(J,Z))return Xc(r,l,M,0),jt===null&&$c(),!1}catch{}finally{}if(h=r1(r,l,M,S),h!==null)return Nr(h,r,S),Sy(h,l,S),!0}return!1}function j1(r,l,h,S){if(S={lane:2,revertLane:vd(),action:S,hasEagerState:!1,eagerState:null,next:null},cu(r)){if(l)throw Error(n(479))}else l=r1(r,h,S,2),l!==null&&Nr(l,r,2)}function cu(r){var l=r.alternate;return r===st||l!==null&&l===st}function wy(r,l){b0=ru=!0;var h=r.pending;h===null?l.next=l:(l.next=h.next,h.next=l),r.pending=l}function Sy(r,l,h){if((h&4194048)!==0){var S=l.lanes;S&=r.pendingLanes,h|=S,l.lanes=h,Xt(r,h)}}var uu={readContext:Hn,use:au,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},Ty={readContext:Hn,use:au,useCallback:function(r,l){return cr().memoizedState=[r,l===void 0?null:l],r},useContext:Hn,useEffect:oy,useImperativeHandle:function(r,l,h){h=h!=null?h.concat([r]):null,lu(4194308,4,fy.bind(null,l,r),h)},useLayoutEffect:function(r,l){return lu(4194308,4,r,l)},useInsertionEffect:function(r,l){lu(4,2,r,l)},useMemo:function(r,l){var h=cr();l=l===void 0?null:l;var S=r();if(xs){Le(!0);try{r()}finally{Le(!1)}}return h.memoizedState=[S,l],S},useReducer:function(r,l,h){var S=cr();if(h!==void 0){var M=h(l);if(xs){Le(!0);try{h(l)}finally{Le(!1)}}}else M=l;return S.memoizedState=S.baseState=M,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:M},S.queue=r,r=r.dispatch=oC.bind(null,st,r),[S.memoizedState,r]},useRef:function(r){var l=cr();return r={current:r},l.memoizedState=r},useState:function(r){r=D1(r);var l=r.queue,h=xy.bind(null,st,l);return l.dispatch=h,[r.memoizedState,h]},useDebugValue:z1,useDeferredValue:function(r,l){var h=cr();return B1(h,r,l)},useTransition:function(){var r=D1(!1);return r=vy.bind(null,st,r.queue,!0,!1),cr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,h){var S=st,M=cr();if(Et){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),jt===null)throw Error(n(349));(_t&124)!==0||$6(S,l,h)}M.memoizedState=h;var L={value:h,getSnapshot:l};return M.queue=L,oy(V6.bind(null,S,L,r),[r]),S.flags|=2048,x0(9,ou(),X6.bind(null,S,L,h,l),null),h},useId:function(){var r=cr(),l=jt.identifierPrefix;if(Et){var h=Ki,S=Qi;h=(S&~(1<<32-ze(S)-1)).toString(32)+h,l="«"+l+"R"+h,h=iu++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=tC++,l="«"+l+"r"+h.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:q1,useFormState:ny,useActionState:ny,useOptimistic:function(r){var l=cr();l.memoizedState=l.baseState=r;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=j1.bind(null,st,!0,h),h.dispatch=l,[r,l]},useMemoCache:k1,useCacheRefresh:function(){return cr().memoizedState=sC.bind(null,st)}},Cy={readContext:Hn,use:au,useCallback:dy,useContext:Hn,useEffect:ly,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:py,useReducer:su,useRef:sy,useState:function(){return su(ea)},useDebugValue:z1,useDeferredValue:function(r,l){var h=gn();return gy(h,Rt.memoizedState,r,l)},useTransition:function(){var r=su(ea)[0],l=gn().memoizedState;return[typeof r=="boolean"?r:Wo(r),l]},useSyncExternalStore:G6,useId:by,useHostTransitionStatus:q1,useFormState:ry,useActionState:ry,useOptimistic:function(r,l){var h=gn();return Q6(h,Rt,r,l)},useMemoCache:k1,useCacheRefresh:_y},lC={readContext:Hn,use:au,useCallback:dy,useContext:Hn,useEffect:ly,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:py,useReducer:R1,useRef:sy,useState:function(){return R1(ea)},useDebugValue:z1,useDeferredValue:function(r,l){var h=gn();return Rt===null?B1(h,r,l):gy(h,Rt.memoizedState,r,l)},useTransition:function(){var r=R1(ea)[0],l=gn().memoizedState;return[typeof r=="boolean"?r:Wo(r),l]},useSyncExternalStore:G6,useId:by,useHostTransitionStatus:q1,useFormState:ay,useActionState:ay,useOptimistic:function(r,l){var h=gn();return Rt!==null?Q6(h,Rt,r,l):(h.baseState=r,[r,h.queue.dispatch])},useMemoCache:k1,useCacheRefresh:_y},w0=null,tl=0;function fu(r){var l=tl;return tl+=1,w0===null&&(w0=[]),L6(w0,r,l)}function nl(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function hu(r,l){throw l.$$typeof===x?Error(n(525)):(r=Object.prototype.toString.call(l),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ey(r){var l=r._init;return l(r._payload)}function Ay(r){function l(ge,ue){if(r){var ve=ge.deletions;ve===null?(ge.deletions=[ue],ge.flags|=16):ve.push(ue)}}function h(ge,ue){if(!r)return null;for(;ue!==null;)l(ge,ue),ue=ue.sibling;return null}function S(ge){for(var ue=new Map;ge!==null;)ge.key!==null?ue.set(ge.key,ge):ue.set(ge.index,ge),ge=ge.sibling;return ue}function M(ge,ue){return ge=Zi(ge,ue),ge.index=0,ge.sibling=null,ge}function L(ge,ue,ve){return ge.index=ve,r?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<ue?(ge.flags|=67108866,ue):ve):(ge.flags|=67108866,ue)):(ge.flags|=1048576,ue)}function Z(ge){return r&&ge.alternate===null&&(ge.flags|=67108866),ge}function J(ge,ue,ve,Ne){return ue===null||ue.tag!==6?(ue=a1(ve,ge.mode,Ne),ue.return=ge,ue):(ue=M(ue,ve),ue.return=ge,ue)}function ie(ge,ue,ve,Ne){var $e=ve.type;return $e===_?Ee(ge,ue,ve.props.children,Ne,ve.key):ue!==null&&(ue.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===E&&Ey($e)===ue.type)?(ue=M(ue,ve.props),nl(ue,ve),ue.return=ge,ue):(ue=Ic(ve.type,ve.key,ve.props,null,ge.mode,Ne),nl(ue,ve),ue.return=ge,ue)}function me(ge,ue,ve,Ne){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ve.containerInfo||ue.stateNode.implementation!==ve.implementation?(ue=s1(ve,ge.mode,Ne),ue.return=ge,ue):(ue=M(ue,ve.children||[]),ue.return=ge,ue)}function Ee(ge,ue,ve,Ne,$e){return ue===null||ue.tag!==7?(ue=ds(ve,ge.mode,Ne,$e),ue.return=ge,ue):(ue=M(ue,ve),ue.return=ge,ue)}function Re(ge,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=a1(""+ue,ge.mode,ve),ue.return=ge,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return ve=Ic(ue.type,ue.key,ue.props,null,ge.mode,ve),nl(ve,ue),ve.return=ge,ve;case m:return ue=s1(ue,ge.mode,ve),ue.return=ge,ue;case E:var Ne=ue._init;return ue=Ne(ue._payload),Re(ge,ue,ve)}if(q(ue)||j(ue))return ue=ds(ue,ge.mode,ve,null),ue.return=ge,ue;if(typeof ue.then=="function")return Re(ge,fu(ue),ve);if(ue.$$typeof===N)return Re(ge,Wc(ge,ue),ve);hu(ge,ue)}return null}function be(ge,ue,ve,Ne){var $e=ue!==null?ue.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return $e!==null?null:J(ge,ue,""+ve,Ne);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case y:return ve.key===$e?ie(ge,ue,ve,Ne):null;case m:return ve.key===$e?me(ge,ue,ve,Ne):null;case E:return $e=ve._init,ve=$e(ve._payload),be(ge,ue,ve,Ne)}if(q(ve)||j(ve))return $e!==null?null:Ee(ge,ue,ve,Ne,null);if(typeof ve.then=="function")return be(ge,ue,fu(ve),Ne);if(ve.$$typeof===N)return be(ge,ue,Wc(ge,ve),Ne);hu(ge,ve)}return null}function _e(ge,ue,ve,Ne,$e){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ge=ge.get(ve)||null,J(ue,ge,""+Ne,$e);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:return ge=ge.get(Ne.key===null?ve:Ne.key)||null,ie(ue,ge,Ne,$e);case m:return ge=ge.get(Ne.key===null?ve:Ne.key)||null,me(ue,ge,Ne,$e);case E:var ut=Ne._init;return Ne=ut(Ne._payload),_e(ge,ue,ve,Ne,$e)}if(q(Ne)||j(Ne))return ge=ge.get(ve)||null,Ee(ue,ge,Ne,$e,null);if(typeof Ne.then=="function")return _e(ge,ue,ve,fu(Ne),$e);if(Ne.$$typeof===N)return _e(ge,ue,ve,Wc(ue,Ne),$e);hu(ue,Ne)}return null}function nt(ge,ue,ve,Ne){for(var $e=null,ut=null,Ke=ue,et=ue=0,Mn=null;Ke!==null&&et<ve.length;et++){Ke.index>et?(Mn=Ke,Ke=null):Mn=Ke.sibling;var Tt=be(ge,Ke,ve[et],Ne);if(Tt===null){Ke===null&&(Ke=Mn);break}r&&Ke&&Tt.alternate===null&&l(ge,Ke),ue=L(Tt,ue,et),ut===null?$e=Tt:ut.sibling=Tt,ut=Tt,Ke=Mn}if(et===ve.length)return h(ge,Ke),Et&&gs(ge,et),$e;if(Ke===null){for(;et<ve.length;et++)Ke=Re(ge,ve[et],Ne),Ke!==null&&(ue=L(Ke,ue,et),ut===null?$e=Ke:ut.sibling=Ke,ut=Ke);return Et&&gs(ge,et),$e}for(Ke=S(Ke);et<ve.length;et++)Mn=_e(Ke,ge,et,ve[et],Ne),Mn!==null&&(r&&Mn.alternate!==null&&Ke.delete(Mn.key===null?et:Mn.key),ue=L(Mn,ue,et),ut===null?$e=Mn:ut.sibling=Mn,ut=Mn);return r&&Ke.forEach(function(Xa){return l(ge,Xa)}),Et&&gs(ge,et),$e}function Je(ge,ue,ve,Ne){if(ve==null)throw Error(n(151));for(var $e=null,ut=null,Ke=ue,et=ue=0,Mn=null,Tt=ve.next();Ke!==null&&!Tt.done;et++,Tt=ve.next()){Ke.index>et?(Mn=Ke,Ke=null):Mn=Ke.sibling;var Xa=be(ge,Ke,Tt.value,Ne);if(Xa===null){Ke===null&&(Ke=Mn);break}r&&Ke&&Xa.alternate===null&&l(ge,Ke),ue=L(Xa,ue,et),ut===null?$e=Xa:ut.sibling=Xa,ut=Xa,Ke=Mn}if(Tt.done)return h(ge,Ke),Et&&gs(ge,et),$e;if(Ke===null){for(;!Tt.done;et++,Tt=ve.next())Tt=Re(ge,Tt.value,Ne),Tt!==null&&(ue=L(Tt,ue,et),ut===null?$e=Tt:ut.sibling=Tt,ut=Tt);return Et&&gs(ge,et),$e}for(Ke=S(Ke);!Tt.done;et++,Tt=ve.next())Tt=_e(Ke,ge,et,Tt.value,Ne),Tt!==null&&(r&&Tt.alternate!==null&&Ke.delete(Tt.key===null?et:Tt.key),ue=L(Tt,ue,et),ut===null?$e=Tt:ut.sibling=Tt,ut=Tt);return r&&Ke.forEach(function(cE){return l(ge,cE)}),Et&&gs(ge,et),$e}function Ot(ge,ue,ve,Ne){if(typeof ve=="object"&&ve!==null&&ve.type===_&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case y:e:{for(var $e=ve.key;ue!==null;){if(ue.key===$e){if($e=ve.type,$e===_){if(ue.tag===7){h(ge,ue.sibling),Ne=M(ue,ve.props.children),Ne.return=ge,ge=Ne;break e}}else if(ue.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===E&&Ey($e)===ue.type){h(ge,ue.sibling),Ne=M(ue,ve.props),nl(Ne,ve),Ne.return=ge,ge=Ne;break e}h(ge,ue);break}else l(ge,ue);ue=ue.sibling}ve.type===_?(Ne=ds(ve.props.children,ge.mode,Ne,ve.key),Ne.return=ge,ge=Ne):(Ne=Ic(ve.type,ve.key,ve.props,null,ge.mode,Ne),nl(Ne,ve),Ne.return=ge,ge=Ne)}return Z(ge);case m:e:{for($e=ve.key;ue!==null;){if(ue.key===$e)if(ue.tag===4&&ue.stateNode.containerInfo===ve.containerInfo&&ue.stateNode.implementation===ve.implementation){h(ge,ue.sibling),Ne=M(ue,ve.children||[]),Ne.return=ge,ge=Ne;break e}else{h(ge,ue);break}else l(ge,ue);ue=ue.sibling}Ne=s1(ve,ge.mode,Ne),Ne.return=ge,ge=Ne}return Z(ge);case E:return $e=ve._init,ve=$e(ve._payload),Ot(ge,ue,ve,Ne)}if(q(ve))return nt(ge,ue,ve,Ne);if(j(ve)){if($e=j(ve),typeof $e!="function")throw Error(n(150));return ve=$e.call(ve),Je(ge,ue,ve,Ne)}if(typeof ve.then=="function")return Ot(ge,ue,fu(ve),Ne);if(ve.$$typeof===N)return Ot(ge,ue,Wc(ge,ve),Ne);hu(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ue!==null&&ue.tag===6?(h(ge,ue.sibling),Ne=M(ue,ve),Ne.return=ge,ge=Ne):(h(ge,ue),Ne=a1(ve,ge.mode,Ne),Ne.return=ge,ge=Ne),Z(ge)):h(ge,ue)}return function(ge,ue,ve,Ne){try{tl=0;var $e=Ot(ge,ue,ve,Ne);return w0=null,$e}catch(Ke){if(Ke===Xo||Ke===eu)throw Ke;var ut=Cr(29,Ke,null,ge.mode);return ut.lanes=Ne,ut.return=ge,ut}finally{}}}var S0=Ay(!0),My=Ay(!1),ei=B(null),Ti=null;function Ra(r){var l=r.alternate;Q(wn,wn.current&1),Q(ei,r),Ti===null&&(l===null||y0.current!==null||l.memoizedState!==null)&&(Ti=r)}function ky(r){if(r.tag===22){if(Q(wn,wn.current),Q(ei,r),Ti===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(Ti=r)}}else Da()}function Da(){Q(wn,wn.current),Q(ei,ei.current)}function ta(r){V(ei),Ti===r&&(Ti=null),V(wn)}var wn=B(0);function du(r){for(var l=r;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||Md(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function P1(r,l,h,S){l=r.memoizedState,h=h(S,l),h=h==null?l:b({},l,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var H1={enqueueSetState:function(r,l,h){r=r._reactInternals;var S=kr(),M=Ma(S);M.payload=l,h!=null&&(M.callback=h),l=ka(r,M,S),l!==null&&(Nr(l,r,S),Io(l,r,S))},enqueueReplaceState:function(r,l,h){r=r._reactInternals;var S=kr(),M=Ma(S);M.tag=1,M.payload=l,h!=null&&(M.callback=h),l=ka(r,M,S),l!==null&&(Nr(l,r,S),Io(l,r,S))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var h=kr(),S=Ma(h);S.tag=2,l!=null&&(S.callback=l),l=ka(r,S,h),l!==null&&(Nr(l,r,h),Io(l,r,h))}};function Ny(r,l,h,S,M,L,Z){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(S,L,Z):l.prototype&&l.prototype.isPureReactComponent?!jo(h,S)||!jo(M,L):!0}function Ry(r,l,h,S){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,S),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,S),l.state!==r&&H1.enqueueReplaceState(l,l.state,null)}function ws(r,l){var h=l;if("ref"in l){h={};for(var S in l)S!=="ref"&&(h[S]=l[S])}if(r=r.defaultProps){h===l&&(h=b({},h));for(var M in r)h[M]===void 0&&(h[M]=r[M])}return h}var pu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Dy(r){pu(r)}function Oy(r){console.error(r)}function zy(r){pu(r)}function gu(r,l){try{var h=r.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(S){setTimeout(function(){throw S})}}function By(r,l,h){try{var S=r.onCaughtError;S(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function Y1(r,l,h){return h=Ma(h),h.tag=3,h.payload={element:null},h.callback=function(){gu(r,l)},h}function Ly(r){return r=Ma(r),r.tag=3,r}function qy(r,l,h,S){var M=h.type.getDerivedStateFromError;if(typeof M=="function"){var L=S.value;r.payload=function(){return M(L)},r.callback=function(){By(l,h,S)}}var Z=h.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(r.callback=function(){By(l,h,S),typeof M!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var J=S.stack;this.componentDidCatch(S.value,{componentStack:J!==null?J:""})})}function cC(r,l,h,S,M){if(h.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(l=h.alternate,l!==null&&Fo(l,h,M,!0),h=ei.current,h!==null){switch(h.tag){case 13:return Ti===null?fd():h.alternate===null&&en===0&&(en=3),h.flags&=-257,h.flags|=65536,h.lanes=M,S===v1?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([S]):l.add(S),dd(r,S,M)),!1;case 22:return h.flags|=65536,S===v1?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([S])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([S]):h.add(S)),dd(r,S,M)),!1}throw Error(n(435,h.tag))}return dd(r,S,M),fd(),!1}if(Et)return l=ei.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=M,S!==c1&&(r=Error(n(422),{cause:S}),Uo(Qr(r,h)))):(S!==c1&&(l=Error(n(423),{cause:S}),Uo(Qr(l,h))),r=r.current.alternate,r.flags|=65536,M&=-M,r.lanes|=M,S=Qr(S,h),M=Y1(r.stateNode,S,M),b1(r,M),en!==4&&(en=2)),!1;var L=Error(n(520),{cause:S});if(L=Qr(L,h),cl===null?cl=[L]:cl.push(L),en!==4&&(en=2),l===null)return!0;S=Qr(S,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,r=M&-M,h.lanes|=r,r=Y1(h.stateNode,S,r),b1(h,r),!1;case 1:if(l=h.type,L=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ja===null||!ja.has(L))))return h.flags|=65536,M&=-M,h.lanes|=M,M=Ly(M),qy(M,r,h,S),b1(h,M),!1}h=h.return}while(h!==null);return!1}var jy=Error(n(461)),En=!1;function zn(r,l,h,S){l.child=r===null?My(l,null,h,S):S0(l,r.child,h,S)}function Py(r,l,h,S,M){h=h.render;var L=l.ref;if("ref"in S){var Z={};for(var J in S)J!=="ref"&&(Z[J]=S[J])}else Z=S;return bs(l),S=T1(r,l,h,Z,L,M),J=C1(),r!==null&&!En?(E1(r,l,M),na(r,l,M)):(Et&&J&&o1(l),l.flags|=1,zn(r,l,S,M),l.child)}function Hy(r,l,h,S,M){if(r===null){var L=h.type;return typeof L=="function"&&!i1(L)&&L.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=L,Yy(r,l,L,S,M)):(r=Ic(h.type,null,S,l,l.mode,M),r.ref=l.ref,r.return=l,l.child=r)}if(L=r.child,!Z1(r,M)){var Z=L.memoizedProps;if(h=h.compare,h=h!==null?h:jo,h(Z,S)&&r.ref===l.ref)return na(r,l,M)}return l.flags|=1,r=Zi(L,S),r.ref=l.ref,r.return=l,l.child=r}function Yy(r,l,h,S,M){if(r!==null){var L=r.memoizedProps;if(jo(L,S)&&r.ref===l.ref)if(En=!1,l.pendingProps=S=L,Z1(r,M))(r.flags&131072)!==0&&(En=!0);else return l.lanes=r.lanes,na(r,l,M)}return U1(r,l,h,S,M)}function Uy(r,l,h){var S=l.pendingProps,M=S.children,L=r!==null?r.memoizedState:null;if(S.mode==="hidden"){if((l.flags&128)!==0){if(S=L!==null?L.baseLanes|h:h,r!==null){for(M=l.child=r.child,L=0;M!==null;)L=L|M.lanes|M.childLanes,M=M.sibling;l.childLanes=L&~S}else l.childLanes=0,l.child=null;return Fy(r,l,S,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Jc(l,L!==null?L.cachePool:null),L!==null?Y6(l,L):x1(),ky(l);else return l.lanes=l.childLanes=536870912,Fy(r,l,L!==null?L.baseLanes|h:h,h)}else L!==null?(Jc(l,L.cachePool),Y6(l,L),Da(),l.memoizedState=null):(r!==null&&Jc(l,null),x1(),Da());return zn(r,l,M,h),l.child}function Fy(r,l,h,S){var M=g1();return M=M===null?null:{parent:xn._currentValue,pool:M},l.memoizedState={baseLanes:h,cachePool:M},r!==null&&Jc(l,null),x1(),ky(l),r!==null&&Fo(r,l,S,!0),null}function vu(r,l){var h=l.ref;if(h===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(r===null||r.ref!==h)&&(l.flags|=4194816)}}function U1(r,l,h,S,M){return bs(l),h=T1(r,l,h,S,void 0,M),S=C1(),r!==null&&!En?(E1(r,l,M),na(r,l,M)):(Et&&S&&o1(l),l.flags|=1,zn(r,l,h,M),l.child)}function Gy(r,l,h,S,M,L){return bs(l),l.updateQueue=null,h=F6(l,S,h,M),U6(r),S=C1(),r!==null&&!En?(E1(r,l,L),na(r,l,L)):(Et&&S&&o1(l),l.flags|=1,zn(r,l,h,L),l.child)}function $y(r,l,h,S,M){if(bs(l),l.stateNode===null){var L=d0,Z=h.contextType;typeof Z=="object"&&Z!==null&&(L=Hn(Z)),L=new h(S,L),l.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=H1,l.stateNode=L,L._reactInternals=l,L=l.stateNode,L.props=S,L.state=l.memoizedState,L.refs={},m1(l),Z=h.contextType,L.context=typeof Z=="object"&&Z!==null?Hn(Z):d0,L.state=l.memoizedState,Z=h.getDerivedStateFromProps,typeof Z=="function"&&(P1(l,h,Z,S),L.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(Z=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),Z!==L.state&&H1.enqueueReplaceState(L,L.state,null),Qo(l,S,L,M),Zo(),L.state=l.memoizedState),typeof L.componentDidMount=="function"&&(l.flags|=4194308),S=!0}else if(r===null){L=l.stateNode;var J=l.memoizedProps,ie=ws(h,J);L.props=ie;var me=L.context,Ee=h.contextType;Z=d0,typeof Ee=="object"&&Ee!==null&&(Z=Hn(Ee));var Re=h.getDerivedStateFromProps;Ee=typeof Re=="function"||typeof L.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,Ee||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(J||me!==Z)&&Ry(l,L,S,Z),Aa=!1;var be=l.memoizedState;L.state=be,Qo(l,S,L,M),Zo(),me=l.memoizedState,J||be!==me||Aa?(typeof Re=="function"&&(P1(l,h,Re,S),me=l.memoizedState),(ie=Aa||Ny(l,h,ie,S,be,me,Z))?(Ee||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=S,l.memoizedState=me),L.props=S,L.state=me,L.context=Z,S=ie):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),S=!1)}else{L=l.stateNode,y1(r,l),Z=l.memoizedProps,Ee=ws(h,Z),L.props=Ee,Re=l.pendingProps,be=L.context,me=h.contextType,ie=d0,typeof me=="object"&&me!==null&&(ie=Hn(me)),J=h.getDerivedStateFromProps,(me=typeof J=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Z!==Re||be!==ie)&&Ry(l,L,S,ie),Aa=!1,be=l.memoizedState,L.state=be,Qo(l,S,L,M),Zo();var _e=l.memoizedState;Z!==Re||be!==_e||Aa||r!==null&&r.dependencies!==null&&Kc(r.dependencies)?(typeof J=="function"&&(P1(l,h,J,S),_e=l.memoizedState),(Ee=Aa||Ny(l,h,Ee,S,be,_e,ie)||r!==null&&r.dependencies!==null&&Kc(r.dependencies))?(me||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,_e,ie),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,_e,ie)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||Z===r.memoizedProps&&be===r.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Z===r.memoizedProps&&be===r.memoizedState||(l.flags|=1024),l.memoizedProps=S,l.memoizedState=_e),L.props=S,L.state=_e,L.context=ie,S=Ee):(typeof L.componentDidUpdate!="function"||Z===r.memoizedProps&&be===r.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Z===r.memoizedProps&&be===r.memoizedState||(l.flags|=1024),S=!1)}return L=S,vu(r,l),S=(l.flags&128)!==0,L||S?(L=l.stateNode,h=S&&typeof h.getDerivedStateFromError!="function"?null:L.render(),l.flags|=1,r!==null&&S?(l.child=S0(l,r.child,null,M),l.child=S0(l,null,h,M)):zn(r,l,h,M),l.memoizedState=L.state,r=l.child):r=na(r,l,M),r}function Xy(r,l,h,S){return Yo(),l.flags|=256,zn(r,l,h,S),l.child}var F1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G1(r){return{baseLanes:r,cachePool:O6()}}function $1(r,l,h){return r=r!==null?r.childLanes&~h:0,l&&(r|=ti),r}function Vy(r,l,h){var S=l.pendingProps,M=!1,L=(l.flags&128)!==0,Z;if((Z=L)||(Z=r!==null&&r.memoizedState===null?!1:(wn.current&2)!==0),Z&&(M=!0,l.flags&=-129),Z=(l.flags&32)!==0,l.flags&=-33,r===null){if(Et){if(M?Ra(l):Da(),Et){var J=Jt,ie;if(ie=J){e:{for(ie=J,J=Si;ie.nodeType!==8;){if(!J){J=null;break e}if(ie=gi(ie.nextSibling),ie===null){J=null;break e}}J=ie}J!==null?(l.memoizedState={dehydrated:J,treeContext:ps!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},ie=Cr(18,null,null,0),ie.stateNode=J,ie.return=l,l.child=ie,Wn=l,Jt=null,ie=!0):ie=!1}ie||ms(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return Md(J)?l.lanes=32:l.lanes=536870912,null;ta(l)}return J=S.children,S=S.fallback,M?(Da(),M=l.mode,J=mu({mode:"hidden",children:J},M),S=ds(S,M,h,null),J.return=l,S.return=l,J.sibling=S,l.child=J,M=l.child,M.memoizedState=G1(h),M.childLanes=$1(r,Z,h),l.memoizedState=F1,S):(Ra(l),X1(l,J))}if(ie=r.memoizedState,ie!==null&&(J=ie.dehydrated,J!==null)){if(L)l.flags&256?(Ra(l),l.flags&=-257,l=V1(r,l,h)):l.memoizedState!==null?(Da(),l.child=r.child,l.flags|=128,l=null):(Da(),M=S.fallback,J=l.mode,S=mu({mode:"visible",children:S.children},J),M=ds(M,J,h,null),M.flags|=2,S.return=l,M.return=l,S.sibling=M,l.child=S,S0(l,r.child,null,h),S=l.child,S.memoizedState=G1(h),S.childLanes=$1(r,Z,h),l.memoizedState=F1,l=M);else if(Ra(l),Md(J)){if(Z=J.nextSibling&&J.nextSibling.dataset,Z)var me=Z.dgst;Z=me,S=Error(n(419)),S.stack="",S.digest=Z,Uo({value:S,source:null,stack:null}),l=V1(r,l,h)}else if(En||Fo(r,l,h,!1),Z=(h&r.childLanes)!==0,En||Z){if(Z=jt,Z!==null&&(S=h&-h,S=(S&42)!==0?1:fn(S),S=(S&(Z.suspendedLanes|h))!==0?0:S,S!==0&&S!==ie.retryLane))throw ie.retryLane=S,h0(r,S),Nr(Z,r,S),jy;J.data==="$?"||fd(),l=V1(r,l,h)}else J.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=ie.treeContext,Jt=gi(J.nextSibling),Wn=l,Et=!0,vs=null,Si=!1,r!==null&&(Wr[Jr++]=Qi,Wr[Jr++]=Ki,Wr[Jr++]=ps,Qi=r.id,Ki=r.overflow,ps=l),l=X1(l,S.children),l.flags|=4096);return l}return M?(Da(),M=S.fallback,J=l.mode,ie=r.child,me=ie.sibling,S=Zi(ie,{mode:"hidden",children:S.children}),S.subtreeFlags=ie.subtreeFlags&65011712,me!==null?M=Zi(me,M):(M=ds(M,J,h,null),M.flags|=2),M.return=l,S.return=l,S.sibling=M,l.child=S,S=M,M=l.child,J=r.child.memoizedState,J===null?J=G1(h):(ie=J.cachePool,ie!==null?(me=xn._currentValue,ie=ie.parent!==me?{parent:me,pool:me}:ie):ie=O6(),J={baseLanes:J.baseLanes|h,cachePool:ie}),M.memoizedState=J,M.childLanes=$1(r,Z,h),l.memoizedState=F1,S):(Ra(l),h=r.child,r=h.sibling,h=Zi(h,{mode:"visible",children:S.children}),h.return=l,h.sibling=null,r!==null&&(Z=l.deletions,Z===null?(l.deletions=[r],l.flags|=16):Z.push(r)),l.child=h,l.memoizedState=null,h)}function X1(r,l){return l=mu({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function mu(r,l){return r=Cr(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function V1(r,l,h){return S0(l,r.child,null,h),r=X1(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function Iy(r,l,h){r.lanes|=l;var S=r.alternate;S!==null&&(S.lanes|=l),f1(r.return,l,h)}function I1(r,l,h,S,M){var L=r.memoizedState;L===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:S,tail:h,tailMode:M}:(L.isBackwards=l,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=h,L.tailMode=M)}function Zy(r,l,h){var S=l.pendingProps,M=S.revealOrder,L=S.tail;if(zn(r,l,S.children,h),S=wn.current,(S&2)!==0)S=S&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Iy(r,h,l);else if(r.tag===19)Iy(r,h,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}S&=1}switch(Q(wn,S),M){case"forwards":for(h=l.child,M=null;h!==null;)r=h.alternate,r!==null&&du(r)===null&&(M=h),h=h.sibling;h=M,h===null?(M=l.child,l.child=null):(M=h.sibling,h.sibling=null),I1(l,!1,M,h,L);break;case"backwards":for(h=null,M=l.child,l.child=null;M!==null;){if(r=M.alternate,r!==null&&du(r)===null){l.child=M;break}r=M.sibling,M.sibling=h,h=M,M=r}I1(l,!0,h,null,L);break;case"together":I1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function na(r,l,h){if(r!==null&&(l.dependencies=r.dependencies),qa|=l.lanes,(h&l.childLanes)===0)if(r!==null){if(Fo(r,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(n(153));if(l.child!==null){for(r=l.child,h=Zi(r,r.pendingProps),l.child=h,h.return=l;r.sibling!==null;)r=r.sibling,h=h.sibling=Zi(r,r.pendingProps),h.return=l;h.sibling=null}return l.child}function Z1(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Kc(r)))}function uC(r,l,h){switch(l.tag){case 3:ee(l,l.stateNode.containerInfo),Ea(l,xn,r.memoizedState.cache),Yo();break;case 27:case 5:Ce(l);break;case 4:ee(l,l.stateNode.containerInfo);break;case 10:Ea(l,l.type,l.memoizedProps.value);break;case 13:var S=l.memoizedState;if(S!==null)return S.dehydrated!==null?(Ra(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Vy(r,l,h):(Ra(l),r=na(r,l,h),r!==null?r.sibling:null);Ra(l);break;case 19:var M=(r.flags&128)!==0;if(S=(h&l.childLanes)!==0,S||(Fo(r,l,h,!1),S=(h&l.childLanes)!==0),M){if(S)return Zy(r,l,h);l.flags|=128}if(M=l.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Q(wn,wn.current),S)break;return null;case 22:case 23:return l.lanes=0,Uy(r,l,h);case 24:Ea(l,xn,r.memoizedState.cache)}return na(r,l,h)}function Qy(r,l,h){if(r!==null)if(r.memoizedProps!==l.pendingProps)En=!0;else{if(!Z1(r,h)&&(l.flags&128)===0)return En=!1,uC(r,l,h);En=(r.flags&131072)!==0}else En=!1,Et&&(l.flags&1048576)!==0&&E6(l,Qc,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var S=l.elementType,M=S._init;if(S=M(S._payload),l.type=S,typeof S=="function")i1(S)?(r=ws(S,r),l.tag=1,l=$y(null,l,S,r,h)):(l.tag=0,l=U1(null,l,S,r,h));else{if(S!=null){if(M=S.$$typeof,M===k){l.tag=11,l=Py(null,l,S,r,h);break e}else if(M===G){l.tag=14,l=Hy(null,l,S,r,h);break e}}throw l=H(S)||S,Error(n(306,l,""))}}return l;case 0:return U1(r,l,l.type,l.pendingProps,h);case 1:return S=l.type,M=ws(S,l.pendingProps),$y(r,l,S,M,h);case 3:e:{if(ee(l,l.stateNode.containerInfo),r===null)throw Error(n(387));S=l.pendingProps;var L=l.memoizedState;M=L.element,y1(r,l),Qo(l,S,null,h);var Z=l.memoizedState;if(S=Z.cache,Ea(l,xn,S),S!==L.cache&&h1(l,[xn],h,!0),Zo(),S=Z.element,L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:Z.cache},l.updateQueue.baseState=L,l.memoizedState=L,l.flags&256){l=Xy(r,l,S,h);break e}else if(S!==M){M=Qr(Error(n(424)),l),Uo(M),l=Xy(r,l,S,h);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Jt=gi(r.firstChild),Wn=l,Et=!0,vs=null,Si=!0,h=My(l,null,S,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Yo(),S===M){l=na(r,l,h);break e}zn(r,l,S,h)}l=l.child}return l;case 26:return vu(r,l),r===null?(h=e4(l.type,null,l.pendingProps,null))?l.memoizedState=h:Et||(h=l.type,r=l.pendingProps,S=Ru(re.current).createElement(h),S[Oe]=l,S[Ze]=r,Ln(S,h,r),St(S),l.stateNode=S):l.memoizedState=e4(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Ce(l),r===null&&Et&&(S=l.stateNode=K5(l.type,l.pendingProps,re.current),Wn=l,Si=!0,M=Jt,Ya(l.type)?(kd=M,Jt=gi(S.firstChild)):Jt=M),zn(r,l,l.pendingProps.children,h),vu(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Et&&((M=S=Jt)&&(S=jC(S,l.type,l.pendingProps,Si),S!==null?(l.stateNode=S,Wn=l,Jt=gi(S.firstChild),Si=!1,M=!0):M=!1),M||ms(l)),Ce(l),M=l.type,L=l.pendingProps,Z=r!==null?r.memoizedProps:null,S=L.children,Cd(M,L)?S=null:Z!==null&&Cd(M,Z)&&(l.flags|=32),l.memoizedState!==null&&(M=T1(r,l,nC,null,null,h),yl._currentValue=M),vu(r,l),zn(r,l,S,h),l.child;case 6:return r===null&&Et&&((r=h=Jt)&&(h=PC(h,l.pendingProps,Si),h!==null?(l.stateNode=h,Wn=l,Jt=null,r=!0):r=!1),r||ms(l)),null;case 13:return Vy(r,l,h);case 4:return ee(l,l.stateNode.containerInfo),S=l.pendingProps,r===null?l.child=S0(l,null,S,h):zn(r,l,S,h),l.child;case 11:return Py(r,l,l.type,l.pendingProps,h);case 7:return zn(r,l,l.pendingProps,h),l.child;case 8:return zn(r,l,l.pendingProps.children,h),l.child;case 12:return zn(r,l,l.pendingProps.children,h),l.child;case 10:return S=l.pendingProps,Ea(l,l.type,S.value),zn(r,l,S.children,h),l.child;case 9:return M=l.type._context,S=l.pendingProps.children,bs(l),M=Hn(M),S=S(M),l.flags|=1,zn(r,l,S,h),l.child;case 14:return Hy(r,l,l.type,l.pendingProps,h);case 15:return Yy(r,l,l.type,l.pendingProps,h);case 19:return Zy(r,l,h);case 31:return S=l.pendingProps,h=l.mode,S={mode:S.mode,children:S.children},r===null?(h=mu(S,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Zi(r.child,S),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return Uy(r,l,h);case 24:return bs(l),S=Hn(xn),r===null?(M=g1(),M===null&&(M=jt,L=d1(),M.pooledCache=L,L.refCount++,L!==null&&(M.pooledCacheLanes|=h),M=L),l.memoizedState={parent:S,cache:M},m1(l),Ea(l,xn,M)):((r.lanes&h)!==0&&(y1(r,l),Qo(l,null,null,h),Zo()),M=r.memoizedState,L=l.memoizedState,M.parent!==S?(M={parent:S,cache:S},l.memoizedState=M,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=M),Ea(l,xn,S)):(S=L.cache,Ea(l,xn,S),S!==M.cache&&h1(l,[xn],h,!0))),zn(r,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function ra(r){r.flags|=4}function Ky(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!a4(l)){if(l=ei.current,l!==null&&((_t&4194048)===_t?Ti!==null:(_t&62914560)!==_t&&(_t&536870912)===0||l!==Ti))throw Vo=v1,z6;r.flags|=8192}}function yu(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?mt():536870912,r.lanes|=l,A0|=l)}function rl(r,l){if(!Et)switch(r.tailMode){case"hidden":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var S=null;h!==null;)h.alternate!==null&&(S=h),h=h.sibling;S===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:S.sibling=null}}function It(r){var l=r.alternate!==null&&r.alternate.child===r.child,h=0,S=0;if(l)for(var M=r.child;M!==null;)h|=M.lanes|M.childLanes,S|=M.subtreeFlags&65011712,S|=M.flags&65011712,M.return=r,M=M.sibling;else for(M=r.child;M!==null;)h|=M.lanes|M.childLanes,S|=M.subtreeFlags,S|=M.flags,M.return=r,M=M.sibling;return r.subtreeFlags|=S,r.childLanes=h,l}function fC(r,l,h){var S=l.pendingProps;switch(l1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(l),null;case 1:return It(l),null;case 3:return h=l.stateNode,S=null,r!==null&&(S=r.memoizedState.cache),l.memoizedState.cache!==S&&(l.flags|=2048),Ji(xn),pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ho(l)?ra(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,k6())),It(l),null;case 26:return h=l.memoizedState,r===null?(ra(l),h!==null?(It(l),Ky(l,h)):(It(l),l.flags&=-16777217)):h?h!==r.memoizedState?(ra(l),It(l),Ky(l,h)):(It(l),l.flags&=-16777217):(r.memoizedProps!==S&&ra(l),It(l),l.flags&=-16777217),null;case 27:le(l),h=re.current;var M=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==S&&ra(l);else{if(!S){if(l.stateNode===null)throw Error(n(166));return It(l),null}r=W.current,Ho(l)?A6(l):(r=K5(M,S,h),l.stateNode=r,ra(l))}return It(l),null;case 5:if(le(l),h=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==S&&ra(l);else{if(!S){if(l.stateNode===null)throw Error(n(166));return It(l),null}if(r=W.current,Ho(l))A6(l);else{switch(M=Ru(re.current),r){case 1:r=M.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:r=M.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":r=M.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":r=M.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":r=M.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof S.is=="string"?M.createElement("select",{is:S.is}):M.createElement("select"),S.multiple?r.multiple=!0:S.size&&(r.size=S.size);break;default:r=typeof S.is=="string"?M.createElement(h,{is:S.is}):M.createElement(h)}}r[Oe]=l,r[Ze]=S;e:for(M=l.child;M!==null;){if(M.tag===5||M.tag===6)r.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===l)break e;for(;M.sibling===null;){if(M.return===null||M.return===l)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}l.stateNode=r;e:switch(Ln(r,h,S),h){case"button":case"input":case"select":case"textarea":r=!!S.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ra(l)}}return It(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==S&&ra(l);else{if(typeof S!="string"&&l.stateNode===null)throw Error(n(166));if(r=re.current,Ho(l)){if(r=l.stateNode,h=l.memoizedProps,S=null,M=Wn,M!==null)switch(M.tag){case 27:case 5:S=M.memoizedProps}r[Oe]=l,r=!!(r.nodeValue===h||S!==null&&S.suppressHydrationWarning===!0||G5(r.nodeValue,h)),r||ms(l)}else r=Ru(r).createTextNode(S),r[Oe]=l,l.stateNode=r}return It(l),null;case 13:if(S=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(M=Ho(l),S!==null&&S.dehydrated!==null){if(r===null){if(!M)throw Error(n(318));if(M=l.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[Oe]=l}else Yo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;It(l),M=!1}else M=k6(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=M),M=!0;if(!M)return l.flags&256?(ta(l),l):(ta(l),null)}if(ta(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=S!==null,r=r!==null&&r.memoizedState!==null,h){S=l.child,M=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(M=S.alternate.memoizedState.cachePool.pool);var L=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==M&&(S.flags|=2048)}return h!==r&&h&&(l.child.flags|=8192),yu(l,l.updateQueue),It(l),null;case 4:return pe(),r===null&&_d(l.stateNode.containerInfo),It(l),null;case 10:return Ji(l.type),It(l),null;case 19:if(V(wn),M=l.memoizedState,M===null)return It(l),null;if(S=(l.flags&128)!==0,L=M.rendering,L===null)if(S)rl(M,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(L=du(r),L!==null){for(l.flags|=128,rl(M,!1),r=L.updateQueue,l.updateQueue=r,yu(l,r),l.subtreeFlags=0,r=h,h=l.child;h!==null;)C6(h,r),h=h.sibling;return Q(wn,wn.current&1|2),l.child}r=r.sibling}M.tail!==null&&te()>xu&&(l.flags|=128,S=!0,rl(M,!1),l.lanes=4194304)}else{if(!S)if(r=du(L),r!==null){if(l.flags|=128,S=!0,r=r.updateQueue,l.updateQueue=r,yu(l,r),rl(M,!0),M.tail===null&&M.tailMode==="hidden"&&!L.alternate&&!Et)return It(l),null}else 2*te()-M.renderingStartTime>xu&&h!==536870912&&(l.flags|=128,S=!0,rl(M,!1),l.lanes=4194304);M.isBackwards?(L.sibling=l.child,l.child=L):(r=M.last,r!==null?r.sibling=L:l.child=L,M.last=L)}return M.tail!==null?(l=M.tail,M.rendering=l,M.tail=l.sibling,M.renderingStartTime=te(),l.sibling=null,r=wn.current,Q(wn,S?r&1|2:r&1),l):(It(l),null);case 22:case 23:return ta(l),w1(),S=l.memoizedState!==null,r!==null?r.memoizedState!==null!==S&&(l.flags|=8192):S&&(l.flags|=8192),S?(h&536870912)!==0&&(l.flags&128)===0&&(It(l),l.subtreeFlags&6&&(l.flags|=8192)):It(l),h=l.updateQueue,h!==null&&yu(l,h.retryQueue),h=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),S=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(S=l.memoizedState.cachePool.pool),S!==h&&(l.flags|=2048),r!==null&&V(_s),null;case 24:return h=null,r!==null&&(h=r.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ji(xn),It(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function hC(r,l){switch(l1(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Ji(xn),pe(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return le(l),null;case 13:if(ta(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Yo()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return V(wn),null;case 4:return pe(),null;case 10:return Ji(l.type),null;case 22:case 23:return ta(l),w1(),r!==null&&V(_s),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Ji(xn),null;case 25:return null;default:return null}}function Wy(r,l){switch(l1(l),l.tag){case 3:Ji(xn),pe();break;case 26:case 27:case 5:le(l);break;case 4:pe();break;case 13:ta(l);break;case 19:V(wn);break;case 10:Ji(l.type);break;case 22:case 23:ta(l),w1(),r!==null&&V(_s);break;case 24:Ji(xn)}}function il(r,l){try{var h=l.updateQueue,S=h!==null?h.lastEffect:null;if(S!==null){var M=S.next;h=M;do{if((h.tag&r)===r){S=void 0;var L=h.create,Z=h.inst;S=L(),Z.destroy=S}h=h.next}while(h!==M)}}catch(J){zt(l,l.return,J)}}function Oa(r,l,h){try{var S=l.updateQueue,M=S!==null?S.lastEffect:null;if(M!==null){var L=M.next;S=L;do{if((S.tag&r)===r){var Z=S.inst,J=Z.destroy;if(J!==void 0){Z.destroy=void 0,M=l;var ie=h,me=J;try{me()}catch(Ee){zt(M,ie,Ee)}}}S=S.next}while(S!==L)}}catch(Ee){zt(l,l.return,Ee)}}function Jy(r){var l=r.updateQueue;if(l!==null){var h=r.stateNode;try{H6(l,h)}catch(S){zt(r,r.return,S)}}}function e5(r,l,h){h.props=ws(r.type,r.memoizedProps),h.state=r.memoizedState;try{h.componentWillUnmount()}catch(S){zt(r,l,S)}}function al(r,l){try{var h=r.ref;if(h!==null){switch(r.tag){case 26:case 27:case 5:var S=r.stateNode;break;case 30:S=r.stateNode;break;default:S=r.stateNode}typeof h=="function"?r.refCleanup=h(S):h.current=S}}catch(M){zt(r,l,M)}}function Ci(r,l){var h=r.ref,S=r.refCleanup;if(h!==null)if(typeof S=="function")try{S()}catch(M){zt(r,l,M)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(M){zt(r,l,M)}else h.current=null}function t5(r){var l=r.type,h=r.memoizedProps,S=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&S.focus();break e;case"img":h.src?S.src=h.src:h.srcSet&&(S.srcset=h.srcSet)}}catch(M){zt(r,r.return,M)}}function Q1(r,l,h){try{var S=r.stateNode;OC(S,r.type,h,l),S[Ze]=l}catch(M){zt(r,r.return,M)}}function n5(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ya(r.type)||r.tag===4}function K1(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||n5(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ya(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function W1(r,l,h){var S=r.tag;if(S===5||S===6)r=r.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(r,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(r),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Nu));else if(S!==4&&(S===27&&Ya(r.type)&&(h=r.stateNode,l=null),r=r.child,r!==null))for(W1(r,l,h),r=r.sibling;r!==null;)W1(r,l,h),r=r.sibling}function bu(r,l,h){var S=r.tag;if(S===5||S===6)r=r.stateNode,l?h.insertBefore(r,l):h.appendChild(r);else if(S!==4&&(S===27&&Ya(r.type)&&(h=r.stateNode),r=r.child,r!==null))for(bu(r,l,h),r=r.sibling;r!==null;)bu(r,l,h),r=r.sibling}function r5(r){var l=r.stateNode,h=r.memoizedProps;try{for(var S=r.type,M=l.attributes;M.length;)l.removeAttributeNode(M[0]);Ln(l,S,h),l[Oe]=r,l[Ze]=h}catch(L){zt(r,r.return,L)}}var ia=!1,an=!1,J1=!1,i5=typeof WeakSet=="function"?WeakSet:Set,An=null;function dC(r,l){if(r=r.containerInfo,Sd=qu,r=g6(r),Kh(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else e:{h=(h=r.ownerDocument)&&h.defaultView||window;var S=h.getSelection&&h.getSelection();if(S&&S.rangeCount!==0){h=S.anchorNode;var M=S.anchorOffset,L=S.focusNode;S=S.focusOffset;try{h.nodeType,L.nodeType}catch{h=null;break e}var Z=0,J=-1,ie=-1,me=0,Ee=0,Re=r,be=null;t:for(;;){for(var _e;Re!==h||M!==0&&Re.nodeType!==3||(J=Z+M),Re!==L||S!==0&&Re.nodeType!==3||(ie=Z+S),Re.nodeType===3&&(Z+=Re.nodeValue.length),(_e=Re.firstChild)!==null;)be=Re,Re=_e;for(;;){if(Re===r)break t;if(be===h&&++me===M&&(J=Z),be===L&&++Ee===S&&(ie=Z),(_e=Re.nextSibling)!==null)break;Re=be,be=Re.parentNode}Re=_e}h=J===-1||ie===-1?null:{start:J,end:ie}}else h=null}h=h||{start:0,end:0}}else h=null;for(Td={focusedElem:r,selectionRange:h},qu=!1,An=l;An!==null;)if(l=An,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,An=r;else for(;An!==null;){switch(l=An,L=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&L!==null){r=void 0,h=l,M=L.memoizedProps,L=L.memoizedState,S=h.stateNode;try{var nt=ws(h.type,M,h.elementType===h.type);r=S.getSnapshotBeforeUpdate(nt,L),S.__reactInternalSnapshotBeforeUpdate=r}catch(Je){zt(h,h.return,Je)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,h=r.nodeType,h===9)Ad(r);else if(h===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ad(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=l.sibling,r!==null){r.return=l.return,An=r;break}An=l.return}}function a5(r,l,h){var S=h.flags;switch(h.tag){case 0:case 11:case 15:za(r,h),S&4&&il(5,h);break;case 1:if(za(r,h),S&4)if(r=h.stateNode,l===null)try{r.componentDidMount()}catch(Z){zt(h,h.return,Z)}else{var M=ws(h.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(M,l,r.__reactInternalSnapshotBeforeUpdate)}catch(Z){zt(h,h.return,Z)}}S&64&&Jy(h),S&512&&al(h,h.return);break;case 3:if(za(r,h),S&64&&(r=h.updateQueue,r!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{H6(r,l)}catch(Z){zt(h,h.return,Z)}}break;case 27:l===null&&S&4&&r5(h);case 26:case 5:za(r,h),l===null&&S&4&&t5(h),S&512&&al(h,h.return);break;case 12:za(r,h);break;case 13:za(r,h),S&4&&l5(r,h),S&64&&(r=h.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(h=wC.bind(null,h),HC(r,h))));break;case 22:if(S=h.memoizedState!==null||ia,!S){l=l!==null&&l.memoizedState!==null||an,M=ia;var L=an;ia=S,(an=l)&&!L?Ba(r,h,(h.subtreeFlags&8772)!==0):za(r,h),ia=M,an=L}break;case 30:break;default:za(r,h)}}function s5(r){var l=r.alternate;l!==null&&(r.alternate=null,s5(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&qt(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ft=null,ur=!1;function aa(r,l,h){for(h=h.child;h!==null;)o5(r,l,h),h=h.sibling}function o5(r,l,h){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(xe,h)}catch{}switch(h.tag){case 26:an||Ci(h,l),aa(r,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:an||Ci(h,l);var S=Ft,M=ur;Ya(h.type)&&(Ft=h.stateNode,ur=!1),aa(r,l,h),pl(h.stateNode),Ft=S,ur=M;break;case 5:an||Ci(h,l);case 6:if(S=Ft,M=ur,Ft=null,aa(r,l,h),Ft=S,ur=M,Ft!==null)if(ur)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(h.stateNode)}catch(L){zt(h,l,L)}else try{Ft.removeChild(h.stateNode)}catch(L){zt(h,l,L)}break;case 18:Ft!==null&&(ur?(r=Ft,Z5(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,h.stateNode),wl(r)):Z5(Ft,h.stateNode));break;case 4:S=Ft,M=ur,Ft=h.stateNode.containerInfo,ur=!0,aa(r,l,h),Ft=S,ur=M;break;case 0:case 11:case 14:case 15:an||Oa(2,h,l),an||Oa(4,h,l),aa(r,l,h);break;case 1:an||(Ci(h,l),S=h.stateNode,typeof S.componentWillUnmount=="function"&&e5(h,l,S)),aa(r,l,h);break;case 21:aa(r,l,h);break;case 22:an=(S=an)||h.memoizedState!==null,aa(r,l,h),an=S;break;default:aa(r,l,h)}}function l5(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wl(r)}catch(h){zt(l,l.return,h)}}function pC(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new i5),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new i5),l;default:throw Error(n(435,r.tag))}}function ed(r,l){var h=pC(r);l.forEach(function(S){var M=SC.bind(null,r,S);h.has(S)||(h.add(S),S.then(M,M))})}function Er(r,l){var h=l.deletions;if(h!==null)for(var S=0;S<h.length;S++){var M=h[S],L=r,Z=l,J=Z;e:for(;J!==null;){switch(J.tag){case 27:if(Ya(J.type)){Ft=J.stateNode,ur=!1;break e}break;case 5:Ft=J.stateNode,ur=!1;break e;case 3:case 4:Ft=J.stateNode.containerInfo,ur=!0;break e}J=J.return}if(Ft===null)throw Error(n(160));o5(L,Z,M),Ft=null,ur=!1,L=M.alternate,L!==null&&(L.return=null),M.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)c5(l,r),l=l.sibling}var pi=null;function c5(r,l){var h=r.alternate,S=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Er(l,r),Ar(r),S&4&&(Oa(3,r,r.return),il(3,r),Oa(5,r,r.return));break;case 1:Er(l,r),Ar(r),S&512&&(an||h===null||Ci(h,h.return)),S&64&&ia&&(r=r.updateQueue,r!==null&&(S=r.callbacks,S!==null&&(h=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=h===null?S:h.concat(S))));break;case 26:var M=pi;if(Er(l,r),Ar(r),S&512&&(an||h===null||Ci(h,h.return)),S&4){var L=h!==null?h.memoizedState:null;if(S=r.memoizedState,h===null)if(S===null)if(r.stateNode===null){e:{S=r.type,h=r.memoizedProps,M=M.ownerDocument||M;t:switch(S){case"title":L=M.getElementsByTagName("title")[0],(!L||L[Wt]||L[Oe]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=M.createElement(S),M.head.insertBefore(L,M.querySelector("head > title"))),Ln(L,S,h),L[Oe]=r,St(L),S=L;break e;case"link":var Z=r4("link","href",M).get(S+(h.href||""));if(Z){for(var J=0;J<Z.length;J++)if(L=Z[J],L.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&L.getAttribute("rel")===(h.rel==null?null:h.rel)&&L.getAttribute("title")===(h.title==null?null:h.title)&&L.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){Z.splice(J,1);break t}}L=M.createElement(S),Ln(L,S,h),M.head.appendChild(L);break;case"meta":if(Z=r4("meta","content",M).get(S+(h.content||""))){for(J=0;J<Z.length;J++)if(L=Z[J],L.getAttribute("content")===(h.content==null?null:""+h.content)&&L.getAttribute("name")===(h.name==null?null:h.name)&&L.getAttribute("property")===(h.property==null?null:h.property)&&L.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&L.getAttribute("charset")===(h.charSet==null?null:h.charSet)){Z.splice(J,1);break t}}L=M.createElement(S),Ln(L,S,h),M.head.appendChild(L);break;default:throw Error(n(468,S))}L[Oe]=r,St(L),S=L}r.stateNode=S}else i4(M,r.type,r.stateNode);else r.stateNode=n4(M,S,r.memoizedProps);else L!==S?(L===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):L.count--,S===null?i4(M,r.type,r.stateNode):n4(M,S,r.memoizedProps)):S===null&&r.stateNode!==null&&Q1(r,r.memoizedProps,h.memoizedProps)}break;case 27:Er(l,r),Ar(r),S&512&&(an||h===null||Ci(h,h.return)),h!==null&&S&4&&Q1(r,r.memoizedProps,h.memoizedProps);break;case 5:if(Er(l,r),Ar(r),S&512&&(an||h===null||Ci(h,h.return)),r.flags&32){M=r.stateNode;try{a0(M,"")}catch(_e){zt(r,r.return,_e)}}S&4&&r.stateNode!=null&&(M=r.memoizedProps,Q1(r,M,h!==null?h.memoizedProps:M)),S&1024&&(J1=!0);break;case 6:if(Er(l,r),Ar(r),S&4){if(r.stateNode===null)throw Error(n(162));S=r.memoizedProps,h=r.stateNode;try{h.nodeValue=S}catch(_e){zt(r,r.return,_e)}}break;case 3:if(zu=null,M=pi,pi=Du(l.containerInfo),Er(l,r),pi=M,Ar(r),S&4&&h!==null&&h.memoizedState.isDehydrated)try{wl(l.containerInfo)}catch(_e){zt(r,r.return,_e)}J1&&(J1=!1,u5(r));break;case 4:S=pi,pi=Du(r.stateNode.containerInfo),Er(l,r),Ar(r),pi=S;break;case 12:Er(l,r),Ar(r);break;case 13:Er(l,r),Ar(r),r.child.flags&8192&&r.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(sd=te()),S&4&&(S=r.updateQueue,S!==null&&(r.updateQueue=null,ed(r,S)));break;case 22:M=r.memoizedState!==null;var ie=h!==null&&h.memoizedState!==null,me=ia,Ee=an;if(ia=me||M,an=Ee||ie,Er(l,r),an=Ee,ia=me,Ar(r),S&8192)e:for(l=r.stateNode,l._visibility=M?l._visibility&-2:l._visibility|1,M&&(h===null||ie||ia||an||Ss(r)),h=null,l=r;;){if(l.tag===5||l.tag===26){if(h===null){ie=h=l;try{if(L=ie.stateNode,M)Z=L.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{J=ie.stateNode;var Re=ie.memoizedProps.style,be=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;J.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(_e){zt(ie,ie.return,_e)}}}else if(l.tag===6){if(h===null){ie=l;try{ie.stateNode.nodeValue=M?"":ie.memoizedProps}catch(_e){zt(ie,ie.return,_e)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}S&4&&(S=r.updateQueue,S!==null&&(h=S.retryQueue,h!==null&&(S.retryQueue=null,ed(r,h))));break;case 19:Er(l,r),Ar(r),S&4&&(S=r.updateQueue,S!==null&&(r.updateQueue=null,ed(r,S)));break;case 30:break;case 21:break;default:Er(l,r),Ar(r)}}function Ar(r){var l=r.flags;if(l&2){try{for(var h,S=r.return;S!==null;){if(n5(S)){h=S;break}S=S.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var M=h.stateNode,L=K1(r);bu(r,L,M);break;case 5:var Z=h.stateNode;h.flags&32&&(a0(Z,""),h.flags&=-33);var J=K1(r);bu(r,J,Z);break;case 3:case 4:var ie=h.stateNode.containerInfo,me=K1(r);W1(r,me,ie);break;default:throw Error(n(161))}}catch(Ee){zt(r,r.return,Ee)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function u5(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;u5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function za(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)a5(r,l.alternate,l),l=l.sibling}function Ss(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Oa(4,l,l.return),Ss(l);break;case 1:Ci(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&e5(l,l.return,h),Ss(l);break;case 27:pl(l.stateNode);case 26:case 5:Ci(l,l.return),Ss(l);break;case 22:l.memoizedState===null&&Ss(l);break;case 30:Ss(l);break;default:Ss(l)}r=r.sibling}}function Ba(r,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var S=l.alternate,M=r,L=l,Z=L.flags;switch(L.tag){case 0:case 11:case 15:Ba(M,L,h),il(4,L);break;case 1:if(Ba(M,L,h),S=L,M=S.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(me){zt(S,S.return,me)}if(S=L,M=S.updateQueue,M!==null){var J=S.stateNode;try{var ie=M.shared.hiddenCallbacks;if(ie!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ie.length;M++)P6(ie[M],J)}catch(me){zt(S,S.return,me)}}h&&Z&64&&Jy(L),al(L,L.return);break;case 27:r5(L);case 26:case 5:Ba(M,L,h),h&&S===null&&Z&4&&t5(L),al(L,L.return);break;case 12:Ba(M,L,h);break;case 13:Ba(M,L,h),h&&Z&4&&l5(M,L);break;case 22:L.memoizedState===null&&Ba(M,L,h),al(L,L.return);break;case 30:break;default:Ba(M,L,h)}l=l.sibling}}function td(r,l){var h=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==h&&(r!=null&&r.refCount++,h!=null&&Go(h))}function nd(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Go(r))}function Ei(r,l,h,S){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)f5(r,l,h,S),l=l.sibling}function f5(r,l,h,S){var M=l.flags;switch(l.tag){case 0:case 11:case 15:Ei(r,l,h,S),M&2048&&il(9,l);break;case 1:Ei(r,l,h,S);break;case 3:Ei(r,l,h,S),M&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Go(r)));break;case 12:if(M&2048){Ei(r,l,h,S),r=l.stateNode;try{var L=l.memoizedProps,Z=L.id,J=L.onPostCommit;typeof J=="function"&&J(Z,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ie){zt(l,l.return,ie)}}else Ei(r,l,h,S);break;case 13:Ei(r,l,h,S);break;case 23:break;case 22:L=l.stateNode,Z=l.alternate,l.memoizedState!==null?L._visibility&2?Ei(r,l,h,S):sl(r,l):L._visibility&2?Ei(r,l,h,S):(L._visibility|=2,T0(r,l,h,S,(l.subtreeFlags&10256)!==0)),M&2048&&td(Z,l);break;case 24:Ei(r,l,h,S),M&2048&&nd(l.alternate,l);break;default:Ei(r,l,h,S)}}function T0(r,l,h,S,M){for(M=M&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var L=r,Z=l,J=h,ie=S,me=Z.flags;switch(Z.tag){case 0:case 11:case 15:T0(L,Z,J,ie,M),il(8,Z);break;case 23:break;case 22:var Ee=Z.stateNode;Z.memoizedState!==null?Ee._visibility&2?T0(L,Z,J,ie,M):sl(L,Z):(Ee._visibility|=2,T0(L,Z,J,ie,M)),M&&me&2048&&td(Z.alternate,Z);break;case 24:T0(L,Z,J,ie,M),M&&me&2048&&nd(Z.alternate,Z);break;default:T0(L,Z,J,ie,M)}l=l.sibling}}function sl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=r,S=l,M=S.flags;switch(S.tag){case 22:sl(h,S),M&2048&&td(S.alternate,S);break;case 24:sl(h,S),M&2048&&nd(S.alternate,S);break;default:sl(h,S)}l=l.sibling}}var ol=8192;function C0(r){if(r.subtreeFlags&ol)for(r=r.child;r!==null;)h5(r),r=r.sibling}function h5(r){switch(r.tag){case 26:C0(r),r.flags&ol&&r.memoizedState!==null&&JC(pi,r.memoizedState,r.memoizedProps);break;case 5:C0(r);break;case 3:case 4:var l=pi;pi=Du(r.stateNode.containerInfo),C0(r),pi=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=ol,ol=16777216,C0(r),ol=l):C0(r));break;default:C0(r)}}function d5(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function ll(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var S=l[h];An=S,g5(S,r)}d5(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p5(r),r=r.sibling}function p5(r){switch(r.tag){case 0:case 11:case 15:ll(r),r.flags&2048&&Oa(9,r,r.return);break;case 3:ll(r);break;case 12:ll(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,_u(r)):ll(r);break;default:ll(r)}}function _u(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var S=l[h];An=S,g5(S,r)}d5(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Oa(8,l,l.return),_u(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,_u(l));break;default:_u(l)}r=r.sibling}}function g5(r,l){for(;An!==null;){var h=An;switch(h.tag){case 0:case 11:case 15:Oa(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var S=h.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Go(h.memoizedState.cache)}if(S=h.child,S!==null)S.return=h,An=S;else e:for(h=r;An!==null;){S=An;var M=S.sibling,L=S.return;if(s5(S),S===h){An=null;break e}if(M!==null){M.return=L,An=M;break e}An=L}}}var gC={getCacheForType:function(r){var l=Hn(xn),h=l.data.get(r);return h===void 0&&(h=r(),l.data.set(r,h)),h}},vC=typeof WeakMap=="function"?WeakMap:Map,kt=0,jt=null,pt=null,_t=0,Nt=0,Mr=null,La=!1,E0=!1,rd=!1,sa=0,en=0,qa=0,Ts=0,id=0,ti=0,A0=0,cl=null,fr=null,ad=!1,sd=0,xu=1/0,wu=null,ja=null,Bn=0,Pa=null,M0=null,k0=0,od=0,ld=null,v5=null,ul=0,cd=null;function kr(){if((kt&2)!==0&&_t!==0)return _t&-_t;if(U.T!==null){var r=v0;return r!==0?r:vd()}return We()}function m5(){ti===0&&(ti=(_t&536870912)===0||Et?Ie():536870912);var r=ei.current;return r!==null&&(r.flags|=32),ti}function Nr(r,l,h){(r===jt&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)&&(N0(r,0),Ha(r,_t,ti,!1)),wt(r,h),((kt&2)===0||r!==jt)&&(r===jt&&((kt&2)===0&&(Ts|=h),en===4&&Ha(r,_t,ti,!1)),Ai(r))}function y5(r,l,h){if((kt&6)!==0)throw Error(n(327));var S=!h&&(l&124)===0&&(l&r.expiredLanes)===0||Ve(r,l),M=S?bC(r,l):hd(r,l,!0),L=S;do{if(M===0){E0&&!S&&Ha(r,l,0,!1);break}else{if(h=r.current.alternate,L&&!mC(h)){M=hd(r,l,!1),L=!1;continue}if(M===2){if(L=l,r.errorRecoveryDisabledLanes&L)var Z=0;else Z=r.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){l=Z;e:{var J=r;M=cl;var ie=J.current.memoizedState.isDehydrated;if(ie&&(N0(J,Z).flags|=256),Z=hd(J,Z,!1),Z!==2){if(rd&&!ie){J.errorRecoveryDisabledLanes|=L,Ts|=L,M=4;break e}L=fr,fr=M,L!==null&&(fr===null?fr=L:fr.push.apply(fr,L))}M=Z}if(L=!1,M!==2)continue}}if(M===1){N0(r,0),Ha(r,l,0,!0);break}e:{switch(S=r,L=M,L){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Ha(S,l,ti,!La);break e;case 2:fr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(M=sd+300-te(),10<M)){if(Ha(S,l,ti,!La),ct(S,0,!0)!==0)break e;S.timeoutHandle=V5(b5.bind(null,S,h,fr,wu,ad,l,ti,Ts,A0,La,L,2,-0,0),M);break e}b5(S,h,fr,wu,ad,l,ti,Ts,A0,La,L,0,-0,0)}}break}while(!0);Ai(r)}function b5(r,l,h,S,M,L,Z,J,ie,me,Ee,Re,be,_e){if(r.timeoutHandle=-1,Re=l.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:WC},h5(l),Re=eE(),Re!==null)){r.cancelPendingCommit=Re(E5.bind(null,r,l,L,h,S,M,Z,J,ie,Ee,1,be,_e)),Ha(r,L,Z,!me);return}E5(r,l,L,h,S,M,Z,J,ie)}function mC(r){for(var l=r;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var S=0;S<h.length;S++){var M=h[S],L=M.getSnapshot;M=M.value;try{if(!Tr(L(),M))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ha(r,l,h,S){l&=~id,l&=~Ts,r.suspendedLanes|=l,r.pingedLanes&=~l,S&&(r.warmLanes|=l),S=r.expirationTimes;for(var M=l;0<M;){var L=31-ze(M),Z=1<<L;S[L]=-1,M&=~Z}h!==0&&un(r,h,l)}function Su(){return(kt&6)===0?(fl(0),!1):!0}function ud(){if(pt!==null){if(Nt===0)var r=pt.return;else r=pt,Wi=ys=null,A1(r),w0=null,tl=0,r=pt;for(;r!==null;)Wy(r.alternate,r),r=r.return;pt=null}}function N0(r,l){var h=r.timeoutHandle;h!==-1&&(r.timeoutHandle=-1,BC(h)),h=r.cancelPendingCommit,h!==null&&(r.cancelPendingCommit=null,h()),ud(),jt=r,pt=h=Zi(r.current,null),_t=l,Nt=0,Mr=null,La=!1,E0=Ve(r,l),rd=!1,A0=ti=id=Ts=qa=en=0,fr=cl=null,ad=!1,(l&8)!==0&&(l|=l&32);var S=r.entangledLanes;if(S!==0)for(r=r.entanglements,S&=l;0<S;){var M=31-ze(S),L=1<<M;l|=r[M],S&=~L}return sa=l,$c(),h}function _5(r,l){st=null,U.H=uu,l===Xo||l===eu?(l=q6(),Nt=3):l===z6?(l=q6(),Nt=4):Nt=l===jy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Mr=l,pt===null&&(en=1,gu(r,Qr(l,r.current)))}function x5(){var r=U.H;return U.H=uu,r===null?uu:r}function w5(){var r=U.A;return U.A=gC,r}function fd(){en=4,La||(_t&4194048)!==_t&&ei.current!==null||(E0=!0),(qa&134217727)===0&&(Ts&134217727)===0||jt===null||Ha(jt,_t,ti,!1)}function hd(r,l,h){var S=kt;kt|=2;var M=x5(),L=w5();(jt!==r||_t!==l)&&(wu=null,N0(r,l)),l=!1;var Z=en;e:do try{if(Nt!==0&&pt!==null){var J=pt,ie=Mr;switch(Nt){case 8:ud(),Z=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(l=!0);var me=Nt;if(Nt=0,Mr=null,R0(r,J,ie,me),h&&E0){Z=0;break e}break;default:me=Nt,Nt=0,Mr=null,R0(r,J,ie,me)}}yC(),Z=en;break}catch(Ee){_5(r,Ee)}while(!0);return l&&r.shellSuspendCounter++,Wi=ys=null,kt=S,U.H=M,U.A=L,pt===null&&(jt=null,_t=0,$c()),Z}function yC(){for(;pt!==null;)S5(pt)}function bC(r,l){var h=kt;kt|=2;var S=x5(),M=w5();jt!==r||_t!==l?(wu=null,xu=te()+500,N0(r,l)):E0=Ve(r,l);e:do try{if(Nt!==0&&pt!==null){l=pt;var L=Mr;t:switch(Nt){case 1:Nt=0,Mr=null,R0(r,l,L,1);break;case 2:case 9:if(B6(L)){Nt=0,Mr=null,T5(l);break}l=function(){Nt!==2&&Nt!==9||jt!==r||(Nt=7),Ai(r)},L.then(l,l);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:B6(L)?(Nt=0,Mr=null,T5(l)):(Nt=0,Mr=null,R0(r,l,L,7));break;case 5:var Z=null;switch(pt.tag){case 26:Z=pt.memoizedState;case 5:case 27:var J=pt;if(!Z||a4(Z)){Nt=0,Mr=null;var ie=J.sibling;if(ie!==null)pt=ie;else{var me=J.return;me!==null?(pt=me,Tu(me)):pt=null}break t}}Nt=0,Mr=null,R0(r,l,L,5);break;case 6:Nt=0,Mr=null,R0(r,l,L,6);break;case 8:ud(),en=6;break e;default:throw Error(n(462))}}_C();break}catch(Ee){_5(r,Ee)}while(!0);return Wi=ys=null,U.H=S,U.A=M,kt=h,pt!==null?0:(jt=null,_t=0,$c(),en)}function _C(){for(;pt!==null&&!Se();)S5(pt)}function S5(r){var l=Qy(r.alternate,r,sa);r.memoizedProps=r.pendingProps,l===null?Tu(r):pt=l}function T5(r){var l=r,h=l.alternate;switch(l.tag){case 15:case 0:l=Gy(h,l,l.pendingProps,l.type,void 0,_t);break;case 11:l=Gy(h,l,l.pendingProps,l.type.render,l.ref,_t);break;case 5:A1(l);default:Wy(h,l),l=pt=C6(l,sa),l=Qy(h,l,sa)}r.memoizedProps=r.pendingProps,l===null?Tu(r):pt=l}function R0(r,l,h,S){Wi=ys=null,A1(l),w0=null,tl=0;var M=l.return;try{if(cC(r,M,l,h,_t)){en=1,gu(r,Qr(h,r.current)),pt=null;return}}catch(L){if(M!==null)throw pt=M,L;en=1,gu(r,Qr(h,r.current)),pt=null;return}l.flags&32768?(Et||S===1?r=!0:E0||(_t&536870912)!==0?r=!1:(La=r=!0,(S===2||S===9||S===3||S===6)&&(S=ei.current,S!==null&&S.tag===13&&(S.flags|=16384))),C5(l,r)):Tu(l)}function Tu(r){var l=r;do{if((l.flags&32768)!==0){C5(l,La);return}r=l.return;var h=fC(l.alternate,l,sa);if(h!==null){pt=h;return}if(l=l.sibling,l!==null){pt=l;return}pt=l=r}while(l!==null);en===0&&(en=5)}function C5(r,l){do{var h=hC(r.alternate,r);if(h!==null){h.flags&=32767,pt=h;return}if(h=r.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(r=r.sibling,r!==null)){pt=r;return}pt=r=h}while(r!==null);en=6,pt=null}function E5(r,l,h,S,M,L,Z,J,ie){r.cancelPendingCommit=null;do Cu();while(Bn!==0);if((kt&6)!==0)throw Error(n(327));if(l!==null){if(l===r.current)throw Error(n(177));if(L=l.lanes|l.childLanes,L|=n1,yt(r,h,L,Z,J,ie),r===jt&&(pt=jt=null,_t=0),M0=l,Pa=r,k0=h,od=L,ld=M,v5=S,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,TC(Pe,function(){return R5(),null})):(r.callbackNode=null,r.callbackPriority=0),S=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||S){S=U.T,U.T=null,M=X.p,X.p=2,Z=kt,kt|=4;try{dC(r,l,h)}finally{kt=Z,X.p=M,U.T=S}}Bn=1,A5(),M5(),k5()}}function A5(){if(Bn===1){Bn=0;var r=Pa,l=M0,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=U.T,U.T=null;var S=X.p;X.p=2;var M=kt;kt|=4;try{c5(l,r);var L=Td,Z=g6(r.containerInfo),J=L.focusedElem,ie=L.selectionRange;if(Z!==J&&J&&J.ownerDocument&&p6(J.ownerDocument.documentElement,J)){if(ie!==null&&Kh(J)){var me=ie.start,Ee=ie.end;if(Ee===void 0&&(Ee=me),"selectionStart"in J)J.selectionStart=me,J.selectionEnd=Math.min(Ee,J.value.length);else{var Re=J.ownerDocument||document,be=Re&&Re.defaultView||window;if(be.getSelection){var _e=be.getSelection(),nt=J.textContent.length,Je=Math.min(ie.start,nt),Ot=ie.end===void 0?Je:Math.min(ie.end,nt);!_e.extend&&Je>Ot&&(Z=Ot,Ot=Je,Je=Z);var ge=d6(J,Je),ue=d6(J,Ot);if(ge&&ue&&(_e.rangeCount!==1||_e.anchorNode!==ge.node||_e.anchorOffset!==ge.offset||_e.focusNode!==ue.node||_e.focusOffset!==ue.offset)){var ve=Re.createRange();ve.setStart(ge.node,ge.offset),_e.removeAllRanges(),Je>Ot?(_e.addRange(ve),_e.extend(ue.node,ue.offset)):(ve.setEnd(ue.node,ue.offset),_e.addRange(ve))}}}}for(Re=[],_e=J;_e=_e.parentNode;)_e.nodeType===1&&Re.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Re.length;J++){var Ne=Re[J];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}qu=!!Sd,Td=Sd=null}finally{kt=M,X.p=S,U.T=h}}r.current=l,Bn=2}}function M5(){if(Bn===2){Bn=0;var r=Pa,l=M0,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=U.T,U.T=null;var S=X.p;X.p=2;var M=kt;kt|=4;try{a5(r,l.alternate,l)}finally{kt=M,X.p=S,U.T=h}}Bn=3}}function k5(){if(Bn===4||Bn===3){Bn=0,we();var r=Pa,l=M0,h=k0,S=v5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,M0=Pa=null,N5(r,r.pendingLanes));var M=r.pendingLanes;if(M===0&&(ja=null),Cn(h),l=l.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(xe,l,void 0,(l.current.flags&128)===128)}catch{}if(S!==null){l=U.T,M=X.p,X.p=2,U.T=null;try{for(var L=r.onRecoverableError,Z=0;Z<S.length;Z++){var J=S[Z];L(J.value,{componentStack:J.stack})}}finally{U.T=l,X.p=M}}(k0&3)!==0&&Cu(),Ai(r),M=r.pendingLanes,(h&4194090)!==0&&(M&42)!==0?r===cd?ul++:(ul=0,cd=r):ul=0,fl(0)}}function N5(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Go(l)))}function Cu(r){return A5(),M5(),k5(),R5()}function R5(){if(Bn!==5)return!1;var r=Pa,l=od;od=0;var h=Cn(k0),S=U.T,M=X.p;try{X.p=32>h?32:h,U.T=null,h=ld,ld=null;var L=Pa,Z=k0;if(Bn=0,M0=Pa=null,k0=0,(kt&6)!==0)throw Error(n(331));var J=kt;if(kt|=4,p5(L.current),f5(L,L.current,Z,h),kt=J,fl(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(xe,L)}catch{}return!0}finally{X.p=M,U.T=S,N5(r,l)}}function D5(r,l,h){l=Qr(h,l),l=Y1(r.stateNode,l,2),r=ka(r,l,2),r!==null&&(wt(r,2),Ai(r))}function zt(r,l,h){if(r.tag===3)D5(r,r,h);else for(;l!==null;){if(l.tag===3){D5(l,r,h);break}else if(l.tag===1){var S=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(ja===null||!ja.has(S))){r=Qr(h,r),h=Ly(2),S=ka(l,h,2),S!==null&&(qy(h,S,l,r),wt(S,2),Ai(S));break}}l=l.return}}function dd(r,l,h){var S=r.pingCache;if(S===null){S=r.pingCache=new vC;var M=new Set;S.set(l,M)}else M=S.get(l),M===void 0&&(M=new Set,S.set(l,M));M.has(h)||(rd=!0,M.add(h),r=xC.bind(null,r,l,h),l.then(r,r))}function xC(r,l,h){var S=r.pingCache;S!==null&&S.delete(l),r.pingedLanes|=r.suspendedLanes&h,r.warmLanes&=~h,jt===r&&(_t&h)===h&&(en===4||en===3&&(_t&62914560)===_t&&300>te()-sd?(kt&2)===0&&N0(r,0):id|=h,A0===_t&&(A0=0)),Ai(r)}function O5(r,l){l===0&&(l=mt()),r=h0(r,l),r!==null&&(wt(r,l),Ai(r))}function wC(r){var l=r.memoizedState,h=0;l!==null&&(h=l.retryLane),O5(r,h)}function SC(r,l){var h=0;switch(r.tag){case 13:var S=r.stateNode,M=r.memoizedState;M!==null&&(h=M.retryLane);break;case 19:S=r.stateNode;break;case 22:S=r.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(l),O5(r,h)}function TC(r,l){return fe(r,l)}var Eu=null,D0=null,pd=!1,Au=!1,gd=!1,Cs=0;function Ai(r){r!==D0&&r.next===null&&(D0===null?Eu=D0=r:D0=D0.next=r),Au=!0,pd||(pd=!0,EC())}function fl(r,l){if(!gd&&Au){gd=!0;do for(var h=!1,S=Eu;S!==null;){if(r!==0){var M=S.pendingLanes;if(M===0)var L=0;else{var Z=S.suspendedLanes,J=S.pingedLanes;L=(1<<31-ze(42|r)+1)-1,L&=M&~(Z&~J),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(h=!0,q5(S,L))}else L=_t,L=ct(S,S===jt?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(L&3)===0||Ve(S,L)||(h=!0,q5(S,L));S=S.next}while(h);gd=!1}}function CC(){z5()}function z5(){Au=pd=!1;var r=0;Cs!==0&&(zC()&&(r=Cs),Cs=0);for(var l=te(),h=null,S=Eu;S!==null;){var M=S.next,L=B5(S,l);L===0?(S.next=null,h===null?Eu=M:h.next=M,M===null&&(D0=h)):(h=S,(r!==0||(L&3)!==0)&&(Au=!0)),S=M}fl(r)}function B5(r,l){for(var h=r.suspendedLanes,S=r.pingedLanes,M=r.expirationTimes,L=r.pendingLanes&-62914561;0<L;){var Z=31-ze(L),J=1<<Z,ie=M[Z];ie===-1?((J&h)===0||(J&S)!==0)&&(M[Z]=Fe(J,l)):ie<=l&&(r.expiredLanes|=J),L&=~J}if(l=jt,h=_t,h=ct(r,r===l?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),S=r.callbackNode,h===0||r===l&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)return S!==null&&S!==null&&ae(S),r.callbackNode=null,r.callbackPriority=0;if((h&3)===0||Ve(r,h)){if(l=h&-h,l===r.callbackPriority)return l;switch(S!==null&&ae(S),Cn(h)){case 2:case 8:h=je;break;case 32:h=Pe;break;case 268435456:h=ye;break;default:h=Pe}return S=L5.bind(null,r),h=fe(h,S),r.callbackPriority=l,r.callbackNode=h,l}return S!==null&&S!==null&&ae(S),r.callbackPriority=2,r.callbackNode=null,2}function L5(r,l){if(Bn!==0&&Bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var h=r.callbackNode;if(Cu()&&r.callbackNode!==h)return null;var S=_t;return S=ct(r,r===jt?S:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),S===0?null:(y5(r,S,l),B5(r,te()),r.callbackNode!=null&&r.callbackNode===h?L5.bind(null,r):null)}function q5(r,l){if(Cu())return null;y5(r,l,!0)}function EC(){LC(function(){(kt&6)!==0?fe(Be,CC):z5()})}function vd(){return Cs===0&&(Cs=Ie()),Cs}function j5(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jc(""+r)}function P5(r,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,r.id&&h.setAttribute("form",r.id),l.parentNode.insertBefore(h,l),r=new FormData(r),h.parentNode.removeChild(h),r}function AC(r,l,h,S,M){if(l==="submit"&&h&&h.stateNode===M){var L=j5((M[Ze]||null).action),Z=S.submitter;Z&&(l=(l=Z[Ze]||null)?j5(l.formAction):Z.getAttribute("formAction"),l!==null&&(L=l,Z=null));var J=new Uc("action","action",null,S,M);r.push({event:J,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Cs!==0){var ie=Z?P5(M,Z):new FormData(M);L1(h,{pending:!0,data:ie,method:M.method,action:L},null,ie)}}else typeof L=="function"&&(J.preventDefault(),ie=Z?P5(M,Z):new FormData(M),L1(h,{pending:!0,data:ie,method:M.method,action:L},L,ie))},currentTarget:M}]})}}for(var md=0;md<t1.length;md++){var yd=t1[md],MC=yd.toLowerCase(),kC=yd[0].toUpperCase()+yd.slice(1);di(MC,"on"+kC)}di(y6,"onAnimationEnd"),di(b6,"onAnimationIteration"),di(_6,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(XT,"onTransitionRun"),di(VT,"onTransitionStart"),di(IT,"onTransitionCancel"),di(x6,"onTransitionEnd"),Vt("onMouseEnter",["mouseout","mouseover"]),Vt("onMouseLeave",["mouseout","mouseover"]),Vt("onPointerEnter",["pointerout","pointerover"]),Vt("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function H5(r,l){l=(l&4)!==0;for(var h=0;h<r.length;h++){var S=r[h],M=S.event;S=S.listeners;e:{var L=void 0;if(l)for(var Z=S.length-1;0<=Z;Z--){var J=S[Z],ie=J.instance,me=J.currentTarget;if(J=J.listener,ie!==L&&M.isPropagationStopped())break e;L=J,M.currentTarget=me;try{L(M)}catch(Ee){pu(Ee)}M.currentTarget=null,L=ie}else for(Z=0;Z<S.length;Z++){if(J=S[Z],ie=J.instance,me=J.currentTarget,J=J.listener,ie!==L&&M.isPropagationStopped())break e;L=J,M.currentTarget=me;try{L(M)}catch(Ee){pu(Ee)}M.currentTarget=null,L=ie}}}}function gt(r,l){var h=l[tt];h===void 0&&(h=l[tt]=new Set);var S=r+"__bubble";h.has(S)||(Y5(l,r,2,!1),h.add(S))}function bd(r,l,h){var S=0;l&&(S|=4),Y5(h,r,S,l)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function _d(r){if(!r[Mu]){r[Mu]=!0,wr.forEach(function(h){h!=="selectionchange"&&(NC.has(h)||bd(h,!1,r),bd(h,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Mu]||(l[Mu]=!0,bd("selectionchange",!1,l))}}function Y5(r,l,h,S){switch(f4(l)){case 2:var M=rE;break;case 8:M=iE;break;default:M=zd}h=M.bind(null,l,h,r),M=void 0,!Uh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(M=!0),S?M!==void 0?r.addEventListener(l,h,{capture:!0,passive:M}):r.addEventListener(l,h,!0):M!==void 0?r.addEventListener(l,h,{passive:M}):r.addEventListener(l,h,!1)}function xd(r,l,h,S,M){var L=S;if((l&1)===0&&(l&2)===0&&S!==null)e:for(;;){if(S===null)return;var Z=S.tag;if(Z===3||Z===4){var J=S.stateNode.containerInfo;if(J===M)break;if(Z===4)for(Z=S.return;Z!==null;){var ie=Z.tag;if((ie===3||ie===4)&&Z.stateNode.containerInfo===M)return;Z=Z.return}for(;J!==null;){if(Z=Ct(J),Z===null)return;if(ie=Z.tag,ie===5||ie===6||ie===26||ie===27){S=L=Z;continue e}J=J.parentNode}}S=S.return}I3(function(){var me=L,Ee=Hh(h),Re=[];e:{var be=w6.get(r);if(be!==void 0){var _e=Uc,nt=r;switch(r){case"keypress":if(Hc(h)===0)break e;case"keydown":case"keyup":_e=TT;break;case"focusin":nt="focus",_e=Xh;break;case"focusout":nt="blur",_e=Xh;break;case"beforeblur":case"afterblur":_e=Xh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=K3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=hT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=AT;break;case y6:case b6:case _6:_e=gT;break;case x6:_e=kT;break;case"scroll":case"scrollend":_e=uT;break;case"wheel":_e=RT;break;case"copy":case"cut":case"paste":_e=mT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=J3;break;case"toggle":case"beforetoggle":_e=OT}var Je=(l&4)!==0,Ot=!Je&&(r==="scroll"||r==="scrollend"),ge=Je?be!==null?be+"Capture":null:be;Je=[];for(var ue=me,ve;ue!==null;){var Ne=ue;if(ve=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ve===null||ge===null||(Ne=Ro(ue,ge),Ne!=null&&Je.push(dl(ue,Ne,ve))),Ot)break;ue=ue.return}0<Je.length&&(be=new _e(be,nt,null,h,Ee),Re.push({event:be,listeners:Je}))}}if((l&7)===0){e:{if(be=r==="mouseover"||r==="pointerover",_e=r==="mouseout"||r==="pointerout",be&&h!==Ph&&(nt=h.relatedTarget||h.fromElement)&&(Ct(nt)||nt[Qe]))break e;if((_e||be)&&(be=Ee.window===Ee?Ee:(be=Ee.ownerDocument)?be.defaultView||be.parentWindow:window,_e?(nt=h.relatedTarget||h.toElement,_e=me,nt=nt?Ct(nt):null,nt!==null&&(Ot=c(nt),Je=nt.tag,nt!==Ot||Je!==5&&Je!==27&&Je!==6)&&(nt=null)):(_e=null,nt=me),_e!==nt)){if(Je=K3,Ne="onMouseLeave",ge="onMouseEnter",ue="mouse",(r==="pointerout"||r==="pointerover")&&(Je=J3,Ne="onPointerLeave",ge="onPointerEnter",ue="pointer"),Ot=_e==null?be:On(_e),ve=nt==null?be:On(nt),be=new Je(Ne,ue+"leave",_e,h,Ee),be.target=Ot,be.relatedTarget=ve,Ne=null,Ct(Ee)===me&&(Je=new Je(ge,ue+"enter",nt,h,Ee),Je.target=ve,Je.relatedTarget=Ot,Ne=Je),Ot=Ne,_e&&nt)t:{for(Je=_e,ge=nt,ue=0,ve=Je;ve;ve=O0(ve))ue++;for(ve=0,Ne=ge;Ne;Ne=O0(Ne))ve++;for(;0<ue-ve;)Je=O0(Je),ue--;for(;0<ve-ue;)ge=O0(ge),ve--;for(;ue--;){if(Je===ge||ge!==null&&Je===ge.alternate)break t;Je=O0(Je),ge=O0(ge)}Je=null}else Je=null;_e!==null&&U5(Re,be,_e,Je,!1),nt!==null&&Ot!==null&&U5(Re,Ot,nt,Je,!0)}}e:{if(be=me?On(me):window,_e=be.nodeName&&be.nodeName.toLowerCase(),_e==="select"||_e==="input"&&be.type==="file")var $e=o6;else if(a6(be))if(l6)$e=FT;else{$e=YT;var ut=HT}else _e=be.nodeName,!_e||_e.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&jh(me.elementType)&&($e=o6):$e=UT;if($e&&($e=$e(r,me))){s6(Re,$e,h,Ee);break e}ut&&ut(r,be,me),r==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&qh(be,"number",be.value)}switch(ut=me?On(me):window,r){case"focusin":(a6(ut)||ut.contentEditable==="true")&&(c0=ut,Wh=me,Po=null);break;case"focusout":Po=Wh=c0=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,v6(Re,h,Ee);break;case"selectionchange":if($T)break;case"keydown":case"keyup":v6(Re,h,Ee)}var Ke;if(Ih)e:{switch(r){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else l0?r6(r,h)&&(et="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&(et="onCompositionStart");et&&(e6&&h.locale!=="ko"&&(l0||et!=="onCompositionStart"?et==="onCompositionEnd"&&l0&&(Ke=Z3()):(Ca=Ee,Fh="value"in Ca?Ca.value:Ca.textContent,l0=!0)),ut=ku(me,et),0<ut.length&&(et=new W3(et,r,null,h,Ee),Re.push({event:et,listeners:ut}),Ke?et.data=Ke:(Ke=i6(h),Ke!==null&&(et.data=Ke)))),(Ke=BT?LT(r,h):qT(r,h))&&(et=ku(me,"onBeforeInput"),0<et.length&&(ut=new W3("onBeforeInput","beforeinput",null,h,Ee),Re.push({event:ut,listeners:et}),ut.data=Ke)),AC(Re,r,me,h,Ee)}H5(Re,l)})}function dl(r,l,h){return{instance:r,listener:l,currentTarget:h}}function ku(r,l){for(var h=l+"Capture",S=[];r!==null;){var M=r,L=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||L===null||(M=Ro(r,h),M!=null&&S.unshift(dl(r,M,L)),M=Ro(r,l),M!=null&&S.push(dl(r,M,L))),r.tag===3)return S;r=r.return}return[]}function O0(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function U5(r,l,h,S,M){for(var L=l._reactName,Z=[];h!==null&&h!==S;){var J=h,ie=J.alternate,me=J.stateNode;if(J=J.tag,ie!==null&&ie===S)break;J!==5&&J!==26&&J!==27||me===null||(ie=me,M?(me=Ro(h,L),me!=null&&Z.unshift(dl(h,me,ie))):M||(me=Ro(h,L),me!=null&&Z.push(dl(h,me,ie)))),h=h.return}Z.length!==0&&r.push({event:l,listeners:Z})}var RC=/\r\n?/g,DC=/\u0000|\uFFFD/g;function F5(r){return(typeof r=="string"?r:""+r).replace(RC,`
`).replace(DC,"")}function G5(r,l){return l=F5(l),F5(r)===l}function Nu(){}function Dt(r,l,h,S,M,L){switch(h){case"children":typeof S=="string"?l==="body"||l==="textarea"&&S===""||a0(r,S):(typeof S=="number"||typeof S=="bigint")&&l!=="body"&&a0(r,""+S);break;case"className":Sa(r,"class",S);break;case"tabIndex":Sa(r,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(r,h,S);break;case"style":X3(r,S,L);break;case"data":if(l!=="object"){Sa(r,"data",S);break}case"src":case"href":if(S===""&&(l!=="a"||h!=="href")){r.removeAttribute(h);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){r.removeAttribute(h);break}S=jc(""+S),r.setAttribute(h,S);break;case"action":case"formAction":if(typeof S=="function"){r.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(h==="formAction"?(l!=="input"&&Dt(r,l,"name",M.name,M,null),Dt(r,l,"formEncType",M.formEncType,M,null),Dt(r,l,"formMethod",M.formMethod,M,null),Dt(r,l,"formTarget",M.formTarget,M,null)):(Dt(r,l,"encType",M.encType,M,null),Dt(r,l,"method",M.method,M,null),Dt(r,l,"target",M.target,M,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){r.removeAttribute(h);break}S=jc(""+S),r.setAttribute(h,S);break;case"onClick":S!=null&&(r.onclick=Nu);break;case"onScroll":S!=null&&gt("scroll",r);break;case"onScrollEnd":S!=null&&gt("scrollend",r);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(h=S.__html,h!=null){if(M.children!=null)throw Error(n(60));r.innerHTML=h}}break;case"multiple":r.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":r.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){r.removeAttribute("xlink:href");break}h=jc(""+S),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?r.setAttribute(h,""+S):r.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?r.setAttribute(h,""):r.removeAttribute(h);break;case"capture":case"download":S===!0?r.setAttribute(h,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?r.setAttribute(h,S):r.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?r.setAttribute(h,S):r.removeAttribute(h);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?r.removeAttribute(h):r.setAttribute(h,S);break;case"popover":gt("beforetoggle",r),gt("toggle",r),Kn(r,"popover",S);break;case"xlinkActuate":$r(r,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":$r(r,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":$r(r,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":$r(r,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":$r(r,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":$r(r,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":$r(r,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":$r(r,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":$r(r,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Kn(r,"is",S);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=lT.get(h)||h,Kn(r,h,S))}}function wd(r,l,h,S,M,L){switch(h){case"style":X3(r,S,L);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(h=S.__html,h!=null){if(M.children!=null)throw Error(n(60));r.innerHTML=h}}break;case"children":typeof S=="string"?a0(r,S):(typeof S=="number"||typeof S=="bigint")&&a0(r,""+S);break;case"onScroll":S!=null&&gt("scroll",r);break;case"onScrollEnd":S!=null&&gt("scrollend",r);break;case"onClick":S!=null&&(r.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(M=h.endsWith("Capture"),l=h.slice(2,M?h.length-7:void 0),L=r[Ze]||null,L=L!=null?L[h]:null,typeof L=="function"&&r.removeEventListener(l,L,M),typeof S=="function")){typeof L!="function"&&L!==null&&(h in r?r[h]=null:r.hasAttribute(h)&&r.removeAttribute(h)),r.addEventListener(l,S,M);break e}h in r?r[h]=S:S===!0?r.setAttribute(h,""):Kn(r,h,S)}}}function Ln(r,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",r),gt("load",r);var S=!1,M=!1,L;for(L in h)if(h.hasOwnProperty(L)){var Z=h[L];if(Z!=null)switch(L){case"src":S=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Dt(r,l,L,Z,h,null)}}M&&Dt(r,l,"srcSet",h.srcSet,h,null),S&&Dt(r,l,"src",h.src,h,null);return;case"input":gt("invalid",r);var J=L=Z=M=null,ie=null,me=null;for(S in h)if(h.hasOwnProperty(S)){var Ee=h[S];if(Ee!=null)switch(S){case"name":M=Ee;break;case"type":Z=Ee;break;case"checked":ie=Ee;break;case"defaultChecked":me=Ee;break;case"value":L=Ee;break;case"defaultValue":J=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,l));break;default:Dt(r,l,S,Ee,h,null)}}U3(r,L,J,ie,me,Z,M,!1),Lc(r);return;case"select":gt("invalid",r),S=Z=L=null;for(M in h)if(h.hasOwnProperty(M)&&(J=h[M],J!=null))switch(M){case"value":L=J;break;case"defaultValue":Z=J;break;case"multiple":S=J;default:Dt(r,l,M,J,h,null)}l=L,h=Z,r.multiple=!!S,l!=null?i0(r,!!S,l,!1):h!=null&&i0(r,!!S,h,!0);return;case"textarea":gt("invalid",r),L=M=S=null;for(Z in h)if(h.hasOwnProperty(Z)&&(J=h[Z],J!=null))switch(Z){case"value":S=J;break;case"defaultValue":M=J;break;case"children":L=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Dt(r,l,Z,J,h,null)}G3(r,S,M,L),Lc(r);return;case"option":for(ie in h)if(h.hasOwnProperty(ie)&&(S=h[ie],S!=null))switch(ie){case"selected":r.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Dt(r,l,ie,S,h,null)}return;case"dialog":gt("beforetoggle",r),gt("toggle",r),gt("cancel",r),gt("close",r);break;case"iframe":case"object":gt("load",r);break;case"video":case"audio":for(S=0;S<hl.length;S++)gt(hl[S],r);break;case"image":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"embed":case"source":case"link":gt("error",r),gt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in h)if(h.hasOwnProperty(me)&&(S=h[me],S!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Dt(r,l,me,S,h,null)}return;default:if(jh(l)){for(Ee in h)h.hasOwnProperty(Ee)&&(S=h[Ee],S!==void 0&&wd(r,l,Ee,S,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(S=h[J],S!=null&&Dt(r,l,J,S,h,null))}function OC(r,l,h,S){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,L=null,Z=null,J=null,ie=null,me=null,Ee=null;for(_e in h){var Re=h[_e];if(h.hasOwnProperty(_e)&&Re!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":ie=Re;default:S.hasOwnProperty(_e)||Dt(r,l,_e,null,S,Re)}}for(var be in S){var _e=S[be];if(Re=h[be],S.hasOwnProperty(be)&&(_e!=null||Re!=null))switch(be){case"type":L=_e;break;case"name":M=_e;break;case"checked":me=_e;break;case"defaultChecked":Ee=_e;break;case"value":Z=_e;break;case"defaultValue":J=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,l));break;default:_e!==Re&&Dt(r,l,be,_e,S,Re)}}Lh(r,Z,J,ie,me,Ee,L,M);return;case"select":_e=Z=J=be=null;for(L in h)if(ie=h[L],h.hasOwnProperty(L)&&ie!=null)switch(L){case"value":break;case"multiple":_e=ie;default:S.hasOwnProperty(L)||Dt(r,l,L,null,S,ie)}for(M in S)if(L=S[M],ie=h[M],S.hasOwnProperty(M)&&(L!=null||ie!=null))switch(M){case"value":be=L;break;case"defaultValue":J=L;break;case"multiple":Z=L;default:L!==ie&&Dt(r,l,M,L,S,ie)}l=J,h=Z,S=_e,be!=null?i0(r,!!h,be,!1):!!S!=!!h&&(l!=null?i0(r,!!h,l,!0):i0(r,!!h,h?[]:"",!1));return;case"textarea":_e=be=null;for(J in h)if(M=h[J],h.hasOwnProperty(J)&&M!=null&&!S.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Dt(r,l,J,null,S,M)}for(Z in S)if(M=S[Z],L=h[Z],S.hasOwnProperty(Z)&&(M!=null||L!=null))switch(Z){case"value":be=M;break;case"defaultValue":_e=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:M!==L&&Dt(r,l,Z,M,S,L)}F3(r,be,_e);return;case"option":for(var nt in h)if(be=h[nt],h.hasOwnProperty(nt)&&be!=null&&!S.hasOwnProperty(nt))switch(nt){case"selected":r.selected=!1;break;default:Dt(r,l,nt,null,S,be)}for(ie in S)if(be=S[ie],_e=h[ie],S.hasOwnProperty(ie)&&be!==_e&&(be!=null||_e!=null))switch(ie){case"selected":r.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Dt(r,l,ie,be,S,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in h)be=h[Je],h.hasOwnProperty(Je)&&be!=null&&!S.hasOwnProperty(Je)&&Dt(r,l,Je,null,S,be);for(me in S)if(be=S[me],_e=h[me],S.hasOwnProperty(me)&&be!==_e&&(be!=null||_e!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(n(137,l));break;default:Dt(r,l,me,be,S,_e)}return;default:if(jh(l)){for(var Ot in h)be=h[Ot],h.hasOwnProperty(Ot)&&be!==void 0&&!S.hasOwnProperty(Ot)&&wd(r,l,Ot,void 0,S,be);for(Ee in S)be=S[Ee],_e=h[Ee],!S.hasOwnProperty(Ee)||be===_e||be===void 0&&_e===void 0||wd(r,l,Ee,be,S,_e);return}}for(var ge in h)be=h[ge],h.hasOwnProperty(ge)&&be!=null&&!S.hasOwnProperty(ge)&&Dt(r,l,ge,null,S,be);for(Re in S)be=S[Re],_e=h[Re],!S.hasOwnProperty(Re)||be===_e||be==null&&_e==null||Dt(r,l,Re,be,S,_e)}var Sd=null,Td=null;function Ru(r){return r.nodeType===9?r:r.ownerDocument}function $5(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X5(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Cd(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ed=null;function zC(){var r=window.event;return r&&r.type==="popstate"?r===Ed?!1:(Ed=r,!0):(Ed=null,!1)}var V5=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,I5=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof I5<"u"?function(r){return I5.resolve(null).then(r).catch(qC)}:V5;function qC(r){setTimeout(function(){throw r})}function Ya(r){return r==="head"}function Z5(r,l){var h=l,S=0,M=0;do{var L=h.nextSibling;if(r.removeChild(h),L&&L.nodeType===8)if(h=L.data,h==="/$"){if(0<S&&8>S){h=S;var Z=r.ownerDocument;if(h&1&&pl(Z.documentElement),h&2&&pl(Z.body),h&4)for(h=Z.head,pl(h),Z=h.firstChild;Z;){var J=Z.nextSibling,ie=Z.nodeName;Z[Wt]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||h.removeChild(Z),Z=J}}if(M===0){r.removeChild(L),wl(l);return}M--}else h==="$"||h==="$?"||h==="$!"?M++:S=h.charCodeAt(0)-48;else S=0;h=L}while(h);wl(l)}function Ad(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Ad(h),qt(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}r.removeChild(h)}}function jC(r,l,h,S){for(;r.nodeType===1;){var M=h;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!S&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(S){if(!r[Wt])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(L=r.getAttribute("rel"),L==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(L!==M.rel||r.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||r.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||r.getAttribute("title")!==(M.title==null?null:M.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(L=r.getAttribute("src"),(L!==(M.src==null?null:M.src)||r.getAttribute("type")!==(M.type==null?null:M.type)||r.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&L&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var L=M.name==null?null:""+M.name;if(M.type==="hidden"&&r.getAttribute("name")===L)return r}else return r;if(r=gi(r.nextSibling),r===null)break}return null}function PC(r,l,h){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!h||(r=gi(r.nextSibling),r===null))return null;return r}function Md(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function HC(r,l){var h=r.ownerDocument;if(r.data!=="$?"||h.readyState==="complete")l();else{var S=function(){l(),h.removeEventListener("DOMContentLoaded",S)};h.addEventListener("DOMContentLoaded",S),r._reactRetry=S}}function gi(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var kd=null;function Q5(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return r;l--}else h==="/$"&&l++}r=r.previousSibling}return null}function K5(r,l,h){switch(l=Ru(h),r){case"html":if(r=l.documentElement,!r)throw Error(n(452));return r;case"head":if(r=l.head,!r)throw Error(n(453));return r;case"body":if(r=l.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function pl(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);qt(r)}var ni=new Map,W5=new Set;function Du(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var oa=X.d;X.d={f:YC,r:UC,D:FC,C:GC,L:$C,m:XC,X:IC,S:VC,M:ZC};function YC(){var r=oa.f(),l=Su();return r||l}function UC(r){var l=bt(r);l!==null&&l.tag===5&&l.type==="form"?yy(l):oa.r(r)}var z0=typeof document>"u"?null:document;function J5(r,l,h){var S=z0;if(S&&typeof l=="string"&&l){var M=Zr(l);M='link[rel="'+r+'"][href="'+M+'"]',typeof h=="string"&&(M+='[crossorigin="'+h+'"]'),W5.has(M)||(W5.add(M),r={rel:r,crossOrigin:h,href:l},S.querySelector(M)===null&&(l=S.createElement("link"),Ln(l,"link",r),St(l),S.head.appendChild(l)))}}function FC(r){oa.D(r),J5("dns-prefetch",r,null)}function GC(r,l){oa.C(r,l),J5("preconnect",r,l)}function $C(r,l,h){oa.L(r,l,h);var S=z0;if(S&&r&&l){var M='link[rel="preload"][as="'+Zr(l)+'"]';l==="image"&&h&&h.imageSrcSet?(M+='[imagesrcset="'+Zr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(M+='[imagesizes="'+Zr(h.imageSizes)+'"]')):M+='[href="'+Zr(r)+'"]';var L=M;switch(l){case"style":L=B0(r);break;case"script":L=L0(r)}ni.has(L)||(r=b({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:r,as:l},h),ni.set(L,r),S.querySelector(M)!==null||l==="style"&&S.querySelector(gl(L))||l==="script"&&S.querySelector(vl(L))||(l=S.createElement("link"),Ln(l,"link",r),St(l),S.head.appendChild(l)))}}function XC(r,l){oa.m(r,l);var h=z0;if(h&&r){var S=l&&typeof l.as=="string"?l.as:"script",M='link[rel="modulepreload"][as="'+Zr(S)+'"][href="'+Zr(r)+'"]',L=M;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=L0(r)}if(!ni.has(L)&&(r=b({rel:"modulepreload",href:r},l),ni.set(L,r),h.querySelector(M)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(vl(L)))return}S=h.createElement("link"),Ln(S,"link",r),St(S),h.head.appendChild(S)}}}function VC(r,l,h){oa.S(r,l,h);var S=z0;if(S&&r){var M=At(S).hoistableStyles,L=B0(r);l=l||"default";var Z=M.get(L);if(!Z){var J={loading:0,preload:null};if(Z=S.querySelector(gl(L)))J.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":l},h),(h=ni.get(L))&&Nd(r,h);var ie=Z=S.createElement("link");St(ie),Ln(ie,"link",r),ie._p=new Promise(function(me,Ee){ie.onload=me,ie.onerror=Ee}),ie.addEventListener("load",function(){J.loading|=1}),ie.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Ou(Z,l,S)}Z={type:"stylesheet",instance:Z,count:1,state:J},M.set(L,Z)}}}function IC(r,l){oa.X(r,l);var h=z0;if(h&&r){var S=At(h).hoistableScripts,M=L0(r),L=S.get(M);L||(L=h.querySelector(vl(M)),L||(r=b({src:r,async:!0},l),(l=ni.get(M))&&Rd(r,l),L=h.createElement("script"),St(L),Ln(L,"link",r),h.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(M,L))}}function ZC(r,l){oa.M(r,l);var h=z0;if(h&&r){var S=At(h).hoistableScripts,M=L0(r),L=S.get(M);L||(L=h.querySelector(vl(M)),L||(r=b({src:r,async:!0,type:"module"},l),(l=ni.get(M))&&Rd(r,l),L=h.createElement("script"),St(L),Ln(L,"link",r),h.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(M,L))}}function e4(r,l,h,S){var M=(M=re.current)?Du(M):null;if(!M)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=B0(h.href),h=At(M).hoistableStyles,S=h.get(l),S||(S={type:"style",instance:null,count:0,state:null},h.set(l,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){r=B0(h.href);var L=At(M).hoistableStyles,Z=L.get(r);if(Z||(M=M.ownerDocument||M,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(r,Z),(L=M.querySelector(gl(r)))&&!L._p&&(Z.instance=L,Z.state.loading=5),ni.has(r)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ni.set(r,h),L||QC(M,r,h,Z.state))),l&&S===null)throw Error(n(528,""));return Z}if(l&&S!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=L0(h),h=At(M).hoistableScripts,S=h.get(l),S||(S={type:"script",instance:null,count:0,state:null},h.set(l,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function B0(r){return'href="'+Zr(r)+'"'}function gl(r){return'link[rel="stylesheet"]['+r+"]"}function t4(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function QC(r,l,h,S){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?S.loading=1:(l=r.createElement("link"),S.preload=l,l.addEventListener("load",function(){return S.loading|=1}),l.addEventListener("error",function(){return S.loading|=2}),Ln(l,"link",h),St(l),r.head.appendChild(l))}function L0(r){return'[src="'+Zr(r)+'"]'}function vl(r){return"script[async]"+r}function n4(r,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var S=r.querySelector('style[data-href~="'+Zr(h.href)+'"]');if(S)return l.instance=S,St(S),S;var M=b({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return S=(r.ownerDocument||r).createElement("style"),St(S),Ln(S,"style",M),Ou(S,h.precedence,r),l.instance=S;case"stylesheet":M=B0(h.href);var L=r.querySelector(gl(M));if(L)return l.state.loading|=4,l.instance=L,St(L),L;S=t4(h),(M=ni.get(M))&&Nd(S,M),L=(r.ownerDocument||r).createElement("link"),St(L);var Z=L;return Z._p=new Promise(function(J,ie){Z.onload=J,Z.onerror=ie}),Ln(L,"link",S),l.state.loading|=4,Ou(L,h.precedence,r),l.instance=L;case"script":return L=L0(h.src),(M=r.querySelector(vl(L)))?(l.instance=M,St(M),M):(S=h,(M=ni.get(L))&&(S=b({},h),Rd(S,M)),r=r.ownerDocument||r,M=r.createElement("script"),St(M),Ln(M,"link",S),r.head.appendChild(M),l.instance=M);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(S=l.instance,l.state.loading|=4,Ou(S,h.precedence,r));return l.instance}function Ou(r,l,h){for(var S=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=S.length?S[S.length-1]:null,L=M,Z=0;Z<S.length;Z++){var J=S[Z];if(J.dataset.precedence===l)L=J;else if(L!==M)break}L?L.parentNode.insertBefore(r,L.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(r,l.firstChild))}function Nd(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function Rd(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var zu=null;function r4(r,l,h){if(zu===null){var S=new Map,M=zu=new Map;M.set(h,S)}else M=zu,S=M.get(h),S||(S=new Map,M.set(h,S));if(S.has(r))return S;for(S.set(r,null),h=h.getElementsByTagName(r),M=0;M<h.length;M++){var L=h[M];if(!(L[Wt]||L[Oe]||r==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=L.getAttribute(l)||"";Z=r+Z;var J=S.get(Z);J?J.push(L):S.set(Z,[L])}}return S}function i4(r,l,h){r=r.ownerDocument||r,r.head.insertBefore(h,l==="title"?r.querySelector("head > title"):null)}function KC(r,l,h){if(h===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function a4(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ml=null;function WC(){}function JC(r,l,h){if(ml===null)throw Error(n(475));var S=ml;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var M=B0(h.href),L=r.querySelector(gl(M));if(L){r=L._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(S.count++,S=Bu.bind(S),r.then(S,S)),l.state.loading|=4,l.instance=L,St(L);return}L=r.ownerDocument||r,h=t4(h),(M=ni.get(M))&&Nd(h,M),L=L.createElement("link"),St(L);var Z=L;Z._p=new Promise(function(J,ie){Z.onload=J,Z.onerror=ie}),Ln(L,"link",h),l.instance=L}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(S.count++,l=Bu.bind(S),r.addEventListener("load",l),r.addEventListener("error",l))}}function eE(){if(ml===null)throw Error(n(475));var r=ml;return r.stylesheets&&r.count===0&&Dd(r,r.stylesheets),0<r.count?function(l){var h=setTimeout(function(){if(r.stylesheets&&Dd(r,r.stylesheets),r.unsuspend){var S=r.unsuspend;r.unsuspend=null,S()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(h)}}:null}function Bu(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Lu=null;function Dd(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Lu=new Map,l.forEach(tE,r),Lu=null,Bu.call(r))}function tE(r,l){if(!(l.state.loading&4)){var h=Lu.get(r);if(h)var S=h.get(null);else{h=new Map,Lu.set(r,h);for(var M=r.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<M.length;L++){var Z=M[L];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(h.set(Z.dataset.precedence,Z),S=Z)}S&&h.set(null,S)}M=l.instance,Z=M.getAttribute("data-precedence"),L=h.get(Z)||S,L===S&&h.set(null,M),h.set(Z,M),this.count++,S=Bu.bind(this),M.addEventListener("load",S),M.addEventListener("error",S),L?L.parentNode.insertBefore(M,L.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(M,r.firstChild)),l.state.loading|=4}}var yl={$$typeof:N,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function nE(r,l,h,S,M,L,Z,J){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=at(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=at(0),this.hiddenUpdates=at(null),this.identifierPrefix=S,this.onUncaughtError=M,this.onCaughtError=L,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function s4(r,l,h,S,M,L,Z,J,ie,me,Ee,Re){return r=new nE(r,l,h,Z,J,ie,me,Re),l=1,L===!0&&(l|=24),L=Cr(3,null,null,l),r.current=L,L.stateNode=r,l=d1(),l.refCount++,r.pooledCache=l,l.refCount++,L.memoizedState={element:S,isDehydrated:h,cache:l},m1(L),r}function o4(r){return r?(r=d0,r):d0}function l4(r,l,h,S,M,L){M=o4(M),S.context===null?S.context=M:S.pendingContext=M,S=Ma(l),S.payload={element:h},L=L===void 0?null:L,L!==null&&(S.callback=L),h=ka(r,S,l),h!==null&&(Nr(h,r,l),Io(h,r,l))}function c4(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<l?h:l}}function Od(r,l){c4(r,l),(r=r.alternate)&&c4(r,l)}function u4(r){if(r.tag===13){var l=h0(r,67108864);l!==null&&Nr(l,r,67108864),Od(r,67108864)}}var qu=!0;function rE(r,l,h,S){var M=U.T;U.T=null;var L=X.p;try{X.p=2,zd(r,l,h,S)}finally{X.p=L,U.T=M}}function iE(r,l,h,S){var M=U.T;U.T=null;var L=X.p;try{X.p=8,zd(r,l,h,S)}finally{X.p=L,U.T=M}}function zd(r,l,h,S){if(qu){var M=Bd(S);if(M===null)xd(r,l,S,ju,h),h4(r,S);else if(sE(M,r,l,h,S))S.stopPropagation();else if(h4(r,S),l&4&&-1<aE.indexOf(r)){for(;M!==null;){var L=bt(M);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var Z=Ue(L.pendingLanes);if(Z!==0){var J=L;for(J.pendingLanes|=2,J.entangledLanes|=2;Z;){var ie=1<<31-ze(Z);J.entanglements[1]|=ie,Z&=~ie}Ai(L),(kt&6)===0&&(xu=te()+500,fl(0))}}break;case 13:J=h0(L,2),J!==null&&Nr(J,L,2),Su(),Od(L,2)}if(L=Bd(S),L===null&&xd(r,l,S,ju,h),L===M)break;M=L}M!==null&&S.stopPropagation()}else xd(r,l,S,null,h)}}function Bd(r){return r=Hh(r),Ld(r)}var ju=null;function Ld(r){if(ju=null,r=Ct(r),r!==null){var l=c(r);if(l===null)r=null;else{var h=l.tag;if(h===13){if(r=u(l),r!==null)return r;r=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return ju=r,null}function f4(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Be:return 2;case je:return 8;case Pe:case ce:return 32;case ye:return 268435456;default:return 32}default:return 32}}var qd=!1,Ua=null,Fa=null,Ga=null,bl=new Map,_l=new Map,$a=[],aE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h4(r,l){switch(r){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":bl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(l.pointerId)}}function xl(r,l,h,S,M,L){return r===null||r.nativeEvent!==L?(r={blockedOn:l,domEventName:h,eventSystemFlags:S,nativeEvent:L,targetContainers:[M]},l!==null&&(l=bt(l),l!==null&&u4(l)),r):(r.eventSystemFlags|=S,l=r.targetContainers,M!==null&&l.indexOf(M)===-1&&l.push(M),r)}function sE(r,l,h,S,M){switch(l){case"focusin":return Ua=xl(Ua,r,l,h,S,M),!0;case"dragenter":return Fa=xl(Fa,r,l,h,S,M),!0;case"mouseover":return Ga=xl(Ga,r,l,h,S,M),!0;case"pointerover":var L=M.pointerId;return bl.set(L,xl(bl.get(L)||null,r,l,h,S,M)),!0;case"gotpointercapture":return L=M.pointerId,_l.set(L,xl(_l.get(L)||null,r,l,h,S,M)),!0}return!1}function d4(r){var l=Ct(r.target);if(l!==null){var h=c(l);if(h!==null){if(l=h.tag,l===13){if(l=u(h),l!==null){r.blockedOn=l,Me(r.priority,function(){if(h.tag===13){var S=kr();S=fn(S);var M=h0(h,S);M!==null&&Nr(M,h,S),Od(h,S)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pu(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var h=Bd(r.nativeEvent);if(h===null){h=r.nativeEvent;var S=new h.constructor(h.type,h);Ph=S,h.target.dispatchEvent(S),Ph=null}else return l=bt(h),l!==null&&u4(l),r.blockedOn=h,!1;l.shift()}return!0}function p4(r,l,h){Pu(r)&&h.delete(l)}function oE(){qd=!1,Ua!==null&&Pu(Ua)&&(Ua=null),Fa!==null&&Pu(Fa)&&(Fa=null),Ga!==null&&Pu(Ga)&&(Ga=null),bl.forEach(p4),_l.forEach(p4)}function Hu(r,l){r.blockedOn===l&&(r.blockedOn=null,qd||(qd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oE)))}var Yu=null;function g4(r){Yu!==r&&(Yu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yu===r&&(Yu=null);for(var l=0;l<r.length;l+=3){var h=r[l],S=r[l+1],M=r[l+2];if(typeof S!="function"){if(Ld(S||h)===null)continue;break}var L=bt(h);L!==null&&(r.splice(l,3),l-=3,L1(L,{pending:!0,data:M,method:h.method,action:S},S,M))}}))}function wl(r){function l(ie){return Hu(ie,r)}Ua!==null&&Hu(Ua,r),Fa!==null&&Hu(Fa,r),Ga!==null&&Hu(Ga,r),bl.forEach(l),_l.forEach(l);for(var h=0;h<$a.length;h++){var S=$a[h];S.blockedOn===r&&(S.blockedOn=null)}for(;0<$a.length&&(h=$a[0],h.blockedOn===null);)d4(h),h.blockedOn===null&&$a.shift();if(h=(r.ownerDocument||r).$$reactFormReplay,h!=null)for(S=0;S<h.length;S+=3){var M=h[S],L=h[S+1],Z=M[Ze]||null;if(typeof L=="function")Z||g4(h);else if(Z){var J=null;if(L&&L.hasAttribute("formAction")){if(M=L,Z=L[Ze]||null)J=Z.formAction;else if(Ld(M)!==null)continue}else J=Z.action;typeof J=="function"?h[S+1]=J:(h.splice(S,3),S-=3),g4(h)}}}function jd(r){this._internalRoot=r}Uu.prototype.render=jd.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,S=kr();l4(h,S,r,l,null,null)},Uu.prototype.unmount=jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;l4(r.current,2,null,r,null,null),Su(),l[Qe]=null}};function Uu(r){this._internalRoot=r}Uu.prototype.unstable_scheduleHydration=function(r){if(r){var l=We();r={blockedOn:null,target:r,priority:l};for(var h=0;h<$a.length&&l!==0&&l<$a[h].priority;h++);$a.splice(h,0,r),h===0&&d4(r)}};var v4=e.version;if(v4!=="19.1.0")throw Error(n(527,v4,"19.1.0"));X.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=d(l),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var lE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{xe=Fu.inject(lE),Te=Fu}catch{}}return Tl.createRoot=function(r,l){if(!a(r))throw Error(n(299));var h=!1,S="",M=Dy,L=Oy,Z=zy,J=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(S=l.identifierPrefix),l.onUncaughtError!==void 0&&(M=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(Z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=s4(r,1,!1,null,null,h,S,M,L,Z,J,null),r[Qe]=l.current,_d(r),new jd(l)},Tl.hydrateRoot=function(r,l,h){if(!a(r))throw Error(n(299));var S=!1,M="",L=Dy,Z=Oy,J=zy,ie=null,me=null;return h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(M=h.identifierPrefix),h.onUncaughtError!==void 0&&(L=h.onUncaughtError),h.onCaughtError!==void 0&&(Z=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ie=h.unstable_transitionCallbacks),h.formState!==void 0&&(me=h.formState)),l=s4(r,1,!0,l,h??null,S,M,L,Z,J,ie,me),l.context=o4(null),h=l.current,S=kr(),S=fn(S),M=Ma(S),M.callback=null,ka(h,M,S),h=S,l.current.lanes=h,wt(l,h),Ai(l),r[Qe]=l.current,_d(r),new Uu(l)},Tl.version="19.1.0",Tl}var E4;function bE(){if(E4)return Yd.exports;E4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yd.exports=yE(),Yd.exports}var _E=bE(),Cl={},A4;function xE(){if(A4)return Cl;A4=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=u,Cl.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,m){const _=new c,p=y.length;if(p<2)return _;const w=m?.decode||b;let T=0;do{const C=y.indexOf("=",T);if(C===-1)break;const N=y.indexOf(";",T),k=N===-1?p:N;if(C>k){T=y.lastIndexOf(";",C-1)+1;continue}const D=f(y,T,C),F=d(y,C,D),G=y.slice(D,F);if(_[G]===void 0){let E=f(y,C+1,k),R=d(y,k,E);const O=w(y.slice(E,R));_[G]=O}T=k+1}while(T<p);return _}function f(y,m,_){do{const p=y.charCodeAt(m);if(p!==32&&p!==9)return m}while(++m<_);return _}function d(y,m,_){for(;m>_;){const p=y.charCodeAt(--m);if(p!==32&&p!==9)return m+1}return _}function g(y,m,_){const p=_?.encode||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const w=p(m);if(!e.test(w))throw new TypeError(`argument val is invalid: ${m}`);let T=y+"="+w;if(!_)return T;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);T+="; Max-Age="+_.maxAge}if(_.domain){if(!o.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);T+="; Domain="+_.domain}if(_.path){if(!n.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);T+="; Path="+_.path}if(_.expires){if(!x(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);T+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(T+="; HttpOnly"),_.secure&&(T+="; Secure"),_.partitioned&&(T+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return T}function b(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function x(y){return a.call(y)==="[object Date]"}return Cl}xE();var M4="popstate";function wE(t={}){function e(n,a){let{pathname:c,search:u,hash:f}=n.location;return xv("",{pathname:c,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function o(n,a){return typeof a=="string"?a:fc(a)}return TE(e,o,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SE(){return Math.random().toString(36).substring(2,10)}function k4(t,e){return{usr:t.state,key:t.key,idx:e}}function xv(t,e,o=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:o,key:e&&e.key||n||SE()}}function fc({pathname:t="/",search:e="",hash:o=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function To(t){let e={};if(t){let o=t.indexOf("#");o>=0&&(e.hash=t.substring(o),t=t.substring(0,o));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function TE(t,e,o,n={}){let{window:a=document.defaultView,v5Compat:c=!1}=n,u=a.history,f="POP",d=null,g=b();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function b(){return(u.state||{idx:null}).idx}function x(){f="POP";let w=b(),T=w==null?null:w-g;g=w,d&&d({action:f,location:p.location,delta:T})}function y(w,T){f="PUSH";let C=xv(p.location,w,T);g=b()+1;let N=k4(C,g),k=p.createHref(C);try{u.pushState(N,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(k)}c&&d&&d({action:f,location:p.location,delta:1})}function m(w,T){f="REPLACE";let C=xv(p.location,w,T);g=b();let N=k4(C,g),k=p.createHref(C);u.replaceState(N,"",k),c&&d&&d({action:f,location:p.location,delta:0})}function _(w){return CE(w)}let p={get action(){return f},get location(){return t(a,u)},listen(w){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(M4,x),d=w,()=>{a.removeEventListener(M4,x),d=null}},createHref(w){return e(a,w)},createURL:_,encodeLocation(w){let T=_(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:m,go(w){return u.go(w)}};return p}function CE(t,e=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),$t(o,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:fc(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=o+n),new URL(n,o)}function g_(t,e,o="/"){return EE(t,e,o,!1)}function EE(t,e,o,n){let a=typeof e=="string"?To(e):e,c=ya(a.pathname||"/",o);if(c==null)return null;let u=v_(t);AE(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let g=jE(c);f=LE(u[d],g,n)}return f}function v_(t,e=[],o=[],n=""){let a=(c,u,f)=>{let d={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};d.relativePath.startsWith("/")&&($t(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let g=va([n,d.relativePath]),b=o.concat(d);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),v_(c.children,e,b,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:zE(g,c.index),routesMeta:b})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))a(c,u);else for(let f of m_(c.path))a(c,u,f)}),e}function m_(t){let e=t.split("/");if(e.length===0)return[];let[o,...n]=e,a=o.endsWith("?"),c=o.replace(/\?$/,"");if(n.length===0)return a?[c,""]:[c];let u=m_(n.join("/")),f=[];return f.push(...u.map(d=>d===""?c:[c,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function AE(t){t.sort((e,o)=>e.score!==o.score?o.score-e.score:BE(e.routesMeta.map(n=>n.childrenIndex),o.routesMeta.map(n=>n.childrenIndex)))}var ME=/^:[\w-]+$/,kE=3,NE=2,RE=1,DE=10,OE=-2,N4=t=>t==="*";function zE(t,e){let o=t.split("/"),n=o.length;return o.some(N4)&&(n+=OE),e&&(n+=NE),o.filter(a=>!N4(a)).reduce((a,c)=>a+(ME.test(c)?kE:c===""?RE:DE),n)}function BE(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function LE(t,e,o=!1){let{routesMeta:n}=t,a={},c="/",u=[];for(let f=0;f<n.length;++f){let d=n[f],g=f===n.length-1,b=c==="/"?e:e.slice(c.length)||"/",x=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},b),y=d.route;if(!x&&g&&o&&!n[n.length-1].route.index&&(x=Lf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},b)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:va([c,x.pathname]),pathnameBase:UE(va([c,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(c=va([c,x.pathnameBase]))}return u}function Lf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,n]=qE(t.path,t.caseSensitive,t.end),a=e.match(o);if(!a)return null;let c=a[0],u=c.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((g,{paramName:b,isOptional:x},y)=>{if(b==="*"){let _=f[y]||"";u=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const m=f[y];return x&&!m?g[b]=void 0:g[b]=(m||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:t}}function qE(t,e=!1,o=!0){bi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(n.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function jE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,n=t.charAt(o);return n&&n!=="/"?null:t.slice(o)||"/"}function PE(t,e="/"){let{pathname:o,search:n="",hash:a=""}=typeof t=="string"?To(t):t;return{pathname:o?o.startsWith("/")?o:HE(o,e):e,search:FE(n),hash:GE(a)}}function HE(t,e){let o=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?o.length>1&&o.pop():a!=="."&&o.push(a)}),o.length>1?o.join("/"):"/"}function $d(t,e,o,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YE(t){return t.filter((e,o)=>o===0||e.route.path&&e.route.path.length>0)}function km(t){let e=YE(t);return e.map((o,n)=>n===e.length-1?o.pathname:o.pathnameBase)}function Nm(t,e,o,n=!1){let a;typeof t=="string"?a=To(t):(a={...t},$t(!a.pathname||!a.pathname.includes("?"),$d("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),$d("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),$d("#","search","hash",a)));let c=t===""||a.pathname==="",u=c?"/":a.pathname,f;if(u==null)f=o;else{let x=e.length-1;if(!n&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}f=x>=0?e[x]:"/"}let d=PE(a,f),g=u&&u!=="/"&&u.endsWith("/"),b=(c||u===".")&&o.endsWith("/");return!d.pathname.endsWith("/")&&(g||b)&&(d.pathname+="/"),d}var va=t=>t.join("/").replace(/\/\/+/g,"/"),UE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $E(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y_=["POST","PUT","PATCH","DELETE"];new Set(y_);var XE=["GET",...y_];new Set(XE);var Co=oe.createContext(null);Co.displayName="DataRouter";var yh=oe.createContext(null);yh.displayName="DataRouterState";var b_=oe.createContext({isTransitioning:!1});b_.displayName="ViewTransition";var VE=oe.createContext(new Map);VE.displayName="Fetchers";var IE=oe.createContext(null);IE.displayName="Await";var _i=oe.createContext(null);_i.displayName="Navigation";var kc=oe.createContext(null);kc.displayName="Location";var Ui=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var Rm=oe.createContext(null);Rm.displayName="RouteError";function ZE(t,{relative:e}={}){$t(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:n}=oe.useContext(_i),{hash:a,pathname:c,search:u}=Nc(t,{relative:e}),f=c;return o!=="/"&&(f=c==="/"?o:va([o,c])),n.createHref({pathname:f,search:u,hash:a})}function Eo(){return oe.useContext(kc)!=null}function xi(){return $t(Eo(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(kc).location}var __="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x_(t){oe.useContext(_i).static||oe.useLayoutEffect(t)}function Ao(){let{isDataRoute:t}=oe.useContext(Ui);return t?lA():QE()}function QE(){$t(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let t=oe.useContext(Co),{basename:e,navigator:o}=oe.useContext(_i),{matches:n}=oe.useContext(Ui),{pathname:a}=xi(),c=JSON.stringify(km(n)),u=oe.useRef(!1);return x_(()=>{u.current=!0}),oe.useCallback((d,g={})=>{if(bi(u.current,__),!u.current)return;if(typeof d=="number"){o.go(d);return}let b=Nm(d,JSON.parse(c),a,g.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:va([e,b.pathname])),(g.replace?o.replace:o.push)(b,g.state,g)},[e,o,c,a,t])}oe.createContext(null);function Nc(t,{relative:e}={}){let{matches:o}=oe.useContext(Ui),{pathname:n}=xi(),a=JSON.stringify(km(o));return oe.useMemo(()=>Nm(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function KE(t,e){return w_(t,e)}function w_(t,e,o,n){$t(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=oe.useContext(_i),{matches:c}=oe.useContext(Ui),u=c[c.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",b=u&&u.route;{let T=b&&b.path||"";S_(d,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let x=xi(),y;if(e){let T=typeof e=="string"?To(e):e;$t(g==="/"||T.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=x;let m=y.pathname||"/",_=m;if(g!=="/"){let T=g.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let p=g_(t,{pathname:_});bi(b||p!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),bi(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=nA(p&&p.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:va([g,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:va([g,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,o,n);return e&&w?oe.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function WE(){let t=oA(),e=$E(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},c={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=oe.createElement(oe.Fragment,null,oe.createElement("p",null,"💿 Hey developer 👋"),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:c},"ErrorBoundary")," or"," ",oe.createElement("code",{style:c},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),o?oe.createElement("pre",{style:a},o):null,u)}var JE=oe.createElement(WE,null),eA=class extends oe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?oe.createElement(Ui.Provider,{value:this.props.routeContext},oe.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tA({routeContext:t,match:e,children:o}){let n=oe.useContext(Co);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Ui.Provider,{value:t},o)}function nA(t,e=[],o=null,n=null){if(t==null){if(!o)return null;if(o.errors)t=o.matches;else if(e.length===0&&!o.initialized&&o.matches.length>0)t=o.matches;else return null}let a=t,c=o?.errors;if(c!=null){let d=a.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);$t(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(o)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=d),g.route.id){let{loaderData:b,errors:x}=o,y=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||y){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,g,b)=>{let x,y=!1,m=null,_=null;o&&(x=c&&g.route.id?c[g.route.id]:void 0,m=g.route.errorElement||JE,u&&(f<0&&b===0?(S_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):f===b&&(y=!0,_=g.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,b+1)),w=()=>{let T;return x?T=m:y?T=_:g.route.Component?T=oe.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=d,oe.createElement(tA,{match:g,routeContext:{outlet:d,matches:p,isDataRoute:o!=null},children:T})};return o&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?oe.createElement(eA,{location:o.location,revalidation:o.revalidation,component:m,error:x,children:w(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):w()},null)}function Dm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rA(t){let e=oe.useContext(Co);return $t(e,Dm(t)),e}function iA(t){let e=oe.useContext(yh);return $t(e,Dm(t)),e}function aA(t){let e=oe.useContext(Ui);return $t(e,Dm(t)),e}function Om(t){let e=aA(t),o=e.matches[e.matches.length-1];return $t(o.route.id,`${t} can only be used on routes that contain a unique "id"`),o.route.id}function sA(){return Om("useRouteId")}function oA(){let t=oe.useContext(Rm),e=iA("useRouteError"),o=Om("useRouteError");return t!==void 0?t:e.errors?.[o]}function lA(){let{router:t}=rA("useNavigate"),e=Om("useNavigate"),o=oe.useRef(!1);return x_(()=>{o.current=!0}),oe.useCallback(async(a,c={})=>{bi(o.current,__),o.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...c}))},[t,e])}var R4={};function S_(t,e,o){!e&&!R4[t]&&(R4[t]=!0,bi(!1,o))}oe.memo(cA);function cA({routes:t,future:e,state:o}){return w_(t,void 0,o,e)}function uA({to:t,replace:e,state:o,relative:n}){$t(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=oe.useContext(_i);bi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=oe.useContext(Ui),{pathname:u}=xi(),f=Ao(),d=Nm(t,km(c),u,n==="path"),g=JSON.stringify(d);return oe.useEffect(()=>{f(JSON.parse(g),{replace:e,state:o,relative:n})},[f,g,n,e,o]),null}function Ol(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fA({basename:t="/",children:e=null,location:o,navigationType:n="POP",navigator:a,static:c=!1}){$t(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=oe.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);typeof o=="string"&&(o=To(o));let{pathname:d="/",search:g="",hash:b="",state:x=null,key:y="default"}=o,m=oe.useMemo(()=>{let _=ya(d,u);return _==null?null:{location:{pathname:_,search:g,hash:b,state:x,key:y},navigationType:n}},[u,d,g,b,x,y,n]);return bi(m!=null,`<Router basename="${u}"> is not able to match the URL "${d}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:oe.createElement(_i.Provider,{value:f},oe.createElement(kc.Provider,{children:e,value:m}))}function hA({children:t,location:e}){return KE(wv(t),e)}function wv(t,e=[]){let o=[];return oe.Children.forEach(t,(n,a)=>{if(!oe.isValidElement(n))return;let c=[...e,a];if(n.type===oe.Fragment){o.push.apply(o,wv(n.props.children,c));return}$t(n.type===Ol,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=wv(n.props.children,c)),o.push(u)}),o}var mf="get",yf="application/x-www-form-urlencoded";function bh(t){return t!=null&&typeof t.tagName=="string"}function dA(t){return bh(t)&&t.tagName.toLowerCase()==="button"}function pA(t){return bh(t)&&t.tagName.toLowerCase()==="form"}function gA(t){return bh(t)&&t.tagName.toLowerCase()==="input"}function vA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mA(t,e){return t.button===0&&(!e||e==="_self")&&!vA(t)}var Gu=null;function yA(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var bA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(t){return t!=null&&!bA.has(t)?(bi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):t}function _A(t,e){let o,n,a,c,u;if(pA(t)){let f=t.getAttribute("action");n=f?ya(f,e):null,o=t.getAttribute("method")||mf,a=Xd(t.getAttribute("enctype"))||yf,c=new FormData(t)}else if(dA(t)||gA(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(n=d?ya(d,e):null,o=t.getAttribute("formmethod")||f.getAttribute("method")||mf,a=Xd(t.getAttribute("formenctype"))||Xd(f.getAttribute("enctype"))||yf,c=new FormData(f,t),!yA()){let{name:g,type:b,value:x}=t;if(b==="image"){let y=g?`${g}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else g&&c.append(g,x)}}else{if(bh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=mf,n=null,a=yf,u=t}return c&&a==="text/plain"&&(u=c,c=void 0),{action:n,method:o.toLowerCase(),encType:a,formData:c,body:u}}function zm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function xA(t,e){if(t.id in e)return e[t.id];try{let o=await import(t.module);return e[t.id]=o,o}catch(o){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function SA(t,e,o){let n=await Promise.all(t.map(async a=>{let c=e.routes[a.route.id];if(c){let u=await xA(c,o);return u.links?u.links():[]}return[]}));return AA(n.flat(1).filter(wA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function D4(t,e,o,n,a,c){let u=(d,g)=>o[g]?d.route.id!==o[g].route.id:!0,f=(d,g)=>o[g].pathname!==d.pathname||o[g].route.path?.endsWith("*")&&o[g].params["*"]!==d.params["*"];return c==="assets"?e.filter((d,g)=>u(d,g)||f(d,g)):c==="data"?e.filter((d,g)=>{let b=n.routes[d.route.id];if(!b||!b.hasLoader)return!1;if(u(d,g)||f(d,g))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function TA(t,e,{includeHydrateFallback:o}={}){return CA(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),o&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function CA(t){return[...new Set(t)]}function EA(t){let e={},o=Object.keys(t).sort();for(let n of o)e[n]=t[n];return e}function AA(t,e){let o=new Set;return new Set(e),t.reduce((n,a)=>{let c=JSON.stringify(EA(a));return o.has(c)||(o.add(c),n.push({key:c,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MA=new Set([100,101,204,205]);function kA(t,e){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o.pathname==="/"?o.pathname="_root.data":e&&ya(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.data`:o.pathname=`${o.pathname.replace(/\/$/,"")}.data`,o}function T_(){let t=oe.useContext(Co);return zm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NA(){let t=oe.useContext(yh);return zm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bm=oe.createContext(void 0);Bm.displayName="FrameworkContext";function C_(){let t=oe.useContext(Bm);return zm(t,"You must render this element inside a <HydratedRouter> element"),t}function RA(t,e){let o=oe.useContext(Bm),[n,a]=oe.useState(!1),[c,u]=oe.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:g,onMouseLeave:b,onTouchStart:x}=e,y=oe.useRef(null);oe.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let p=T=>{T.forEach(C=>{u(C.isIntersecting)})},w=new IntersectionObserver(p,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[t]),oe.useEffect(()=>{if(n){let p=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(p)}}},[n]);let m=()=>{a(!0)},_=()=>{a(!1),u(!1)};return o?t!=="intent"?[c,y,{}]:[c,y,{onFocus:El(f,m),onBlur:El(d,_),onMouseEnter:El(g,m),onMouseLeave:El(b,_),onTouchStart:El(x,m)}]:[!1,y,{}]}function El(t,e){return o=>{t&&t(o),o.defaultPrevented||e(o)}}function DA({page:t,...e}){let{router:o}=T_(),n=oe.useMemo(()=>g_(o.routes,t,o.basename),[o.routes,t,o.basename]);return n?oe.createElement(zA,{page:t,matches:n,...e}):null}function OA(t){let{manifest:e,routeModules:o}=C_(),[n,a]=oe.useState([]);return oe.useEffect(()=>{let c=!1;return SA(t,e,o).then(u=>{c||a(u)}),()=>{c=!0}},[t,e,o]),n}function zA({page:t,matches:e,...o}){let n=xi(),{manifest:a,routeModules:c}=C_(),{basename:u}=T_(),{loaderData:f,matches:d}=NA(),g=oe.useMemo(()=>D4(t,e,d,a,n,"data"),[t,e,d,a,n]),b=oe.useMemo(()=>D4(t,e,d,a,n,"assets"),[t,e,d,a,n]),x=oe.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,p=!1;if(e.forEach(T=>{let C=a.routes[T.route.id];!C||!C.hasLoader||(!g.some(N=>N.route.id===T.route.id)&&T.route.id in f&&c[T.route.id]?.shouldRevalidate||C.hasClientLoader?p=!0:_.add(T.route.id))}),_.size===0)return[];let w=kA(t,u);return p&&_.size>0&&w.searchParams.set("_routes",e.filter(T=>_.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[u,f,n,a,g,e,t,c]),y=oe.useMemo(()=>TA(b,a),[b,a]),m=OA(b);return oe.createElement(oe.Fragment,null,x.map(_=>oe.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...o})),y.map(_=>oe.createElement("link",{key:_,rel:"modulepreload",href:_,...o})),m.map(({key:_,link:p})=>oe.createElement("link",{key:_,...p})))}function BA(...t){return e=>{t.forEach(o=>{typeof o=="function"?o(e):o!=null&&(o.current=e)})}}var E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E_&&(window.__reactRouterVersion="7.6.3")}catch{}function LA({basename:t,children:e,window:o}){let n=oe.useRef();n.current==null&&(n.current=wE({window:o,v5Compat:!0}));let a=n.current,[c,u]=oe.useState({action:a.action,location:a.location}),f=oe.useCallback(d=>{oe.startTransition(()=>u(d))},[u]);return oe.useLayoutEffect(()=>a.listen(f),[a,f]),oe.createElement(fA,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a})}var A_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M_=oe.forwardRef(function({onClick:e,discover:o="render",prefetch:n="none",relative:a,reloadDocument:c,replace:u,state:f,target:d,to:g,preventScrollReset:b,viewTransition:x,...y},m){let{basename:_}=oe.useContext(_i),p=typeof g=="string"&&A_.test(g),w,T=!1;if(typeof g=="string"&&p&&(w=g,E_))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ya(O.pathname,_);O.origin===R.origin&&P!=null?g=P+O.search+O.hash:T=!0}catch{bi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=ZE(g,{relative:a}),[N,k,D]=RA(n,y),F=HA(g,{replace:u,state:f,target:d,preventScrollReset:b,relative:a,viewTransition:x});function G(R){e&&e(R),R.defaultPrevented||F(R)}let E=oe.createElement("a",{...y,...D,href:w||C,onClick:T||c?e:G,ref:BA(m,k),target:d,"data-discover":!p&&o==="render"?"true":void 0});return N&&!p?oe.createElement(oe.Fragment,null,E,oe.createElement(DA,{page:C})):E});M_.displayName="Link";var qA=oe.forwardRef(function({"aria-current":e="page",caseSensitive:o=!1,className:n="",end:a=!1,style:c,to:u,viewTransition:f,children:d,...g},b){let x=Nc(u,{relative:g.relative}),y=xi(),m=oe.useContext(yh),{navigator:_,basename:p}=oe.useContext(_i),w=m!=null&&$A(x)&&f===!0,T=_.encodeLocation?_.encodeLocation(x).pathname:x.pathname,C=y.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(C=C.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&p&&(N=ya(N,p)||N);const k=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=C===T||!a&&C.startsWith(T)&&C.charAt(k)==="/",F=N!=null&&(N===T||!a&&N.startsWith(T)&&N.charAt(T.length)==="/"),G={isActive:D,isPending:F,isTransitioning:w},E=D?e:void 0,R;typeof n=="function"?R=n(G):R=[n,D?"active":null,F?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(G):c;return oe.createElement(M_,{...g,"aria-current":E,className:R,ref:b,style:O,to:u,viewTransition:f},typeof d=="function"?d(G):d)});qA.displayName="NavLink";var jA=oe.forwardRef(({discover:t="render",fetcherKey:e,navigate:o,reloadDocument:n,replace:a,state:c,method:u=mf,action:f,onSubmit:d,relative:g,preventScrollReset:b,viewTransition:x,...y},m)=>{let _=FA(),p=GA(f,{relative:g}),w=u.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&A_.test(f),C=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,D=k?.getAttribute("formmethod")||u;_(k||N.currentTarget,{fetcherKey:e,method:D,navigate:o,replace:a,state:c,relative:g,preventScrollReset:b,viewTransition:x})};return oe.createElement("form",{ref:m,method:w,action:p,onSubmit:n?d:C,...y,"data-discover":!T&&t==="render"?"true":void 0})});jA.displayName="Form";function PA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k_(t){let e=oe.useContext(Co);return $t(e,PA(t)),e}function HA(t,{target:e,replace:o,state:n,preventScrollReset:a,relative:c,viewTransition:u}={}){let f=Ao(),d=xi(),g=Nc(t,{relative:c});return oe.useCallback(b=>{if(mA(b,e)){b.preventDefault();let x=o!==void 0?o:fc(d)===fc(g);f(t,{replace:x,state:n,preventScrollReset:a,relative:c,viewTransition:u})}},[d,f,g,o,n,e,t,a,c,u])}var YA=0,UA=()=>`__${String(++YA)}__`;function FA(){let{router:t}=k_("useSubmit"),{basename:e}=oe.useContext(_i),o=sA();return oe.useCallback(async(n,a={})=>{let{action:c,method:u,encType:f,formData:d,body:g}=_A(n,e);if(a.navigate===!1){let b=a.fetcherKey||UA();await t.fetch(b,o,a.action||c,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:o,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,o])}function GA(t,{relative:e}={}){let{basename:o}=oe.useContext(_i),n=oe.useContext(Ui);$t(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),c={...Nc(t||".",{relative:e})},u=xi();if(t==null){c.search=u.search;let f=new URLSearchParams(c.search),d=f.getAll("index");if(d.some(b=>b==="")){f.delete("index"),d.filter(x=>x).forEach(x=>f.append("index",x));let b=f.toString();c.search=b?`?${b}`:""}}return(!t||t===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(c.pathname=c.pathname==="/"?o:va([o,c.pathname])),fc(c)}function $A(t,e={}){let o=oe.useContext(b_);$t(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=k_("useViewTransitionState"),a=Nc(t,{relative:e.relative});if(!o.isTransitioning)return!1;let c=ya(o.currentLocation.pathname,n)||o.currentLocation.pathname,u=ya(o.nextLocation.pathname,n)||o.nextLocation.pathname;return Lf(a.pathname,u)!=null||Lf(a.pathname,c)!=null}[...MA];const N_=()=>{const t=Ao(),e=xi(),[o,n]=oe.useState(!1),[a,c]=oe.useState(!1),u=()=>{c(!a)};return $.jsxs($.Fragment,{children:[$.jsx("div",{className:"hamburger-menu",onClick:u,children:$.jsxs("div",{className:`hamburger-icon ${a?"open":""}`,children:[$.jsx("span",{}),$.jsx("span",{}),$.jsx("span",{})]})}),$.jsx("div",{className:"nav-container",children:$.jsxs("div",{className:`nav-menu ${o?"menu-open":"menu-closed"}`,children:[$.jsx("button",{onClick:()=>{t("/portuguese"),n(!1)},className:`nav-button ${e.pathname==="/portuguese"?"active":"inactive"}`,children:"Portuguese Geographical FolkData"}),$.jsx("button",{onClick:()=>{t("/irish"),n(!1)},className:`nav-button ${e.pathname==="/irish"?"active":"inactive"}`,children:"Irish Musical FolkData"})]})}),$.jsx("div",{className:`context-overlay ${a?"show":""}`,onClick:u,children:$.jsx("div",{className:"context-panel",onClick:f=>f.stopPropagation(),children:$.jsxs("div",{className:"context-content",children:[$.jsx("div",{className:"context-section",children:$.jsx("h2",{children:"Context"})}),$.jsxs("div",{className:"context-section",children:[$.jsx("h2",{onClick:()=>{t("/portuguese"),c(!1)},style:{cursor:"pointer"},children:"Portuguese Geographical FolkData"}),$.jsxs("ol",{children:[$.jsx("li",{onClick:()=>{t({pathname:"/portuguese",search:"?vis=1"}),c(!1)},style:{cursor:"pointer"},children:"Portuguese Musical Roots"}),$.jsx("li",{onClick:()=>{t({pathname:"/portuguese",search:"?vis=2"}),c(!1)},style:{cursor:"pointer"},children:"Echoes across the Land"}),$.jsx("li",{onClick:()=>{t({pathname:"/portuguese",search:"?vis=3"}),c(!1)},style:{cursor:"pointer"},children:"Wandering Melodies"}),$.jsx("li",{onClick:()=>{t({pathname:"/portuguese",search:"?vis=4"}),c(!1)},style:{cursor:"pointer"},children:"The Spiral of time"})]})]}),$.jsxs("div",{className:"context-section",children:[$.jsx("h2",{onClick:()=>{t("/irish"),c(!1)},style:{cursor:"pointer"},children:"Irish Musical FolkData"}),$.jsxs("ol",{children:[$.jsx("li",{onClick:()=>{t({pathname:"/irish",search:"?vis=1"}),c(!1)},style:{cursor:"pointer"},children:"Irish Musical Roots"}),$.jsx("li",{onClick:()=>{t({pathname:"/irish",search:"?vis=2"}),c(!1)},style:{cursor:"pointer"},children:"Types of Irish Folk"}),$.jsx("li",{onClick:()=>{t({pathname:"/irish",search:"?vis=3"}),c(!1)},style:{cursor:"pointer"},children:"Heat of the Melody"}),$.jsx("li",{onClick:()=>{t({pathname:"/irish",search:"?vis=4"}),c(!1)},style:{cursor:"pointer"},children:"Strings of Connections"})]})]})]})})})]})};function zi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R_(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D_(t){let e,o,n;t.length!==2?(e=zi,o=(f,d)=>zi(t(f),d),n=(f,d)=>t(f)-d):(e=t===zi||t===R_?t:XA,o=t,n=t);function a(f,d,g=0,b=f.length){if(g<b){if(e(d,d)!==0)return b;do{const x=g+b>>>1;o(f[x],d)<0?g=x+1:b=x}while(g<b)}return g}function c(f,d,g=0,b=f.length){if(g<b){if(e(d,d)!==0)return b;do{const x=g+b>>>1;o(f[x],d)<=0?g=x+1:b=x}while(g<b)}return g}function u(f,d,g=0,b=f.length){const x=a(f,d,g,b-1);return x>g&&n(f[x-1],d)>-n(f[x],d)?x-1:x}return{left:a,center:u,right:c}}function XA(){return 0}function VA(t){return t===null?NaN:+t}const IA=D_(zi),ZA=IA.right;D_(VA).center;function Ql(t,e){let o,n;if(e===void 0)for(const a of t)a!=null&&(o===void 0?a>=a&&(o=n=a):(o>a&&(o=a),n<a&&(n=a)));else{let a=-1;for(let c of t)(c=e(c,++a,t))!=null&&(o===void 0?c>=c&&(o=n=c):(o>c&&(o=c),n<c&&(n=c)))}return[o,n]}class $s{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const o=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const c=o[a],u=e+c,f=Math.abs(e)<Math.abs(c)?e-(u-c):c-(u-e);f&&(o[n++]=f),e=u}return o[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let o=this._n,n,a,c,u=0;if(o>0){for(u=e[--o];o>0&&(n=u,a=e[--o],u=n+a,c=a-(u-n),!c););o>0&&(c<0&&e[o-1]<0||c>0&&e[o-1]>0)&&(a=c*2,n=u+a,a==n-u&&(u=n))}return u}}class Sv extends Map{constructor(e,o=WA){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:o}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(O4(this,e))}has(e){return super.has(O4(this,e))}set(e,o){return super.set(QA(this,e),o)}delete(e){return super.delete(KA(this,e))}}function O4({_intern:t,_key:e},o){const n=e(o);return t.has(n)?t.get(n):o}function QA({_intern:t,_key:e},o){const n=e(o);return t.has(n)?t.get(n):(t.set(n,o),o)}function KA({_intern:t,_key:e},o){const n=e(o);return t.has(n)&&(o=t.get(n),t.delete(n)),o}function WA(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tv(t){return t}function JA(t,...e){return Lm(t,Tv,Tv,e)}function eo(t,e,...o){return Lm(t,Tv,e,o)}function Vd(t,e,...o){return Lm(t,Array.from,e,o)}function Lm(t,e,o,n){return function a(c,u){if(u>=n.length)return o(c);const f=new Sv,d=n[u++];let g=-1;for(const b of c){const x=d(b,++g,c),y=f.get(x);y?y.push(b):f.set(x,[b])}for(const[b,x]of f)f.set(b,a(x,u));return e(f)}(t,0)}const eM=Math.sqrt(50),tM=Math.sqrt(10),nM=Math.sqrt(2);function qf(t,e,o){const n=(e-t)/Math.max(0,o),a=Math.floor(Math.log10(n)),c=n/Math.pow(10,a),u=c>=eM?10:c>=tM?5:c>=nM?2:1;let f,d,g;return a<0?(g=Math.pow(10,-a)/u,f=Math.round(t*g),d=Math.round(e*g),f/g<t&&++f,d/g>e&&--d,g=-g):(g=Math.pow(10,a)*u,f=Math.round(t/g),d=Math.round(e/g),f*g<t&&++f,d*g>e&&--d),d<f&&.5<=o&&o<2?qf(t,e,o*2):[f,d,g]}function O_(t,e,o){if(e=+e,t=+t,o=+o,!(o>0))return[];if(t===e)return[t];const n=e<t,[a,c,u]=n?qf(e,t,o):qf(t,e,o);if(!(c>=a))return[];const f=c-a+1,d=new Array(f);if(n)if(u<0)for(let g=0;g<f;++g)d[g]=(c-g)/-u;else for(let g=0;g<f;++g)d[g]=(c-g)*u;else if(u<0)for(let g=0;g<f;++g)d[g]=(a+g)/-u;else for(let g=0;g<f;++g)d[g]=(a+g)*u;return d}function Cv(t,e,o){return e=+e,t=+t,o=+o,qf(t,e,o)[2]}function rM(t,e,o){e=+e,t=+t,o=+o;const n=e<t,a=n?Cv(e,t,o):Cv(t,e,o);return(n?-1:1)*(a<0?1/-a:a)}function oi(t,e){let o;if(e===void 0)for(const n of t)n!=null&&(o<n||o===void 0&&n>=n)&&(o=n);else{let n=-1;for(let a of t)(a=e(a,++n,t))!=null&&(o<a||o===void 0&&a>=a)&&(o=a)}return o}function qm(t,e){let o;if(e===void 0)for(const n of t)n!=null&&(o>n||o===void 0&&n>=n)&&(o=n);else{let n=-1;for(let a of t)(a=e(a,++n,t))!=null&&(o>a||o===void 0&&a>=a)&&(o=a)}return o}function*iM(t){for(const e of t)yield*e}function z_(t){return Array.from(iM(t))}function aM(t,e,o){t=+t,e=+e,o=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+o;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/o))|0,c=new Array(a);++n<a;)c[n]=t+n*o;return c}const z4=sM(Math.random);function sM(t){return function(o,n=0,a=o.length){let c=a-(n=+n);for(;c;){const u=t()*c--|0,f=o[c+n];o[c+n]=o[u+n],o[u+n]=f}return o}}function oM(t){return t}var bf=1,_f=2,Ev=3,zl=4,B4=1e-6;function lM(t){return"translate("+t+",0)"}function cM(t){return"translate(0,"+t+")"}function uM(t){return e=>+t(e)}function fM(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),o=>+t(o)+e}function hM(){return!this.__axis}function _h(t,e){var o=[],n=null,a=null,c=6,u=6,f=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,g=t===bf||t===zl?-1:1,b=t===zl||t===_f?"x":"y",x=t===bf||t===Ev?lM:cM;function y(m){var _=n??(e.ticks?e.ticks.apply(e,o):e.domain()),p=a??(e.tickFormat?e.tickFormat.apply(e,o):oM),w=Math.max(c,0)+f,T=e.range(),C=+T[0]+d,N=+T[T.length-1]+d,k=(e.bandwidth?fM:uM)(e.copy(),d),D=m.selection?m.selection():m,F=D.selectAll(".domain").data([null]),G=D.selectAll(".tick").data(_,e).order(),E=G.exit(),R=G.enter().append("g").attr("class","tick"),O=G.select("line"),P=G.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),G=G.merge(R),O=O.merge(R.append("line").attr("stroke","currentColor").attr(b+"2",g*c)),P=P.merge(R.append("text").attr("fill","currentColor").attr(b,g*w).attr("dy",t===bf?"0em":t===Ev?"0.71em":"0.32em")),m!==D&&(F=F.transition(m),G=G.transition(m),O=O.transition(m),P=P.transition(m),E=E.transition(m).attr("opacity",B4).attr("transform",function(j){return isFinite(j=k(j))?x(j+d):this.getAttribute("transform")}),R.attr("opacity",B4).attr("transform",function(j){var Y=this.parentNode.__axis;return x((Y&&isFinite(Y=Y(j))?Y:k(j))+d)})),E.remove(),F.attr("d",t===zl||t===_f?u?"M"+g*u+","+C+"H"+d+"V"+N+"H"+g*u:"M"+d+","+C+"V"+N:u?"M"+C+","+g*u+"V"+d+"H"+N+"V"+g*u:"M"+C+","+d+"H"+N),G.attr("opacity",1).attr("transform",function(j){return x(k(j)+d)}),O.attr(b+"2",g*c),P.attr(b,g*w).text(p),D.filter(hM).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===_f?"start":t===zl?"end":"middle"),D.each(function(){this.__axis=k})}return y.scale=function(m){return arguments.length?(e=m,y):e},y.ticks=function(){return o=Array.from(arguments),y},y.tickArguments=function(m){return arguments.length?(o=m==null?[]:Array.from(m),y):o.slice()},y.tickValues=function(m){return arguments.length?(n=m==null?null:Array.from(m),y):n&&n.slice()},y.tickFormat=function(m){return arguments.length?(a=m,y):a},y.tickSize=function(m){return arguments.length?(c=u=+m,y):c},y.tickSizeInner=function(m){return arguments.length?(c=+m,y):c},y.tickSizeOuter=function(m){return arguments.length?(u=+m,y):u},y.tickPadding=function(m){return arguments.length?(f=+m,y):f},y.offset=function(m){return arguments.length?(d=+m,y):d},y}function B_(t){return _h(bf,t)}function dM(t){return _h(_f,t)}function Av(t){return _h(Ev,t)}function xh(t){return _h(zl,t)}var pM={value:()=>{}};function Rc(){for(var t=0,e=arguments.length,o={},n;t<e;++t){if(!(n=arguments[t]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new xf(o)}function xf(t){this._=t}function gM(t,e){return t.trim().split(/^|\s+/).map(function(o){var n="",a=o.indexOf(".");if(a>=0&&(n=o.slice(a+1),o=o.slice(0,a)),o&&!e.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:n}})}xf.prototype=Rc.prototype={constructor:xf,on:function(t,e){var o=this._,n=gM(t+"",o),a,c=-1,u=n.length;if(arguments.length<2){for(;++c<u;)if((a=(t=n[c]).type)&&(a=vM(o[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++c<u;)if(a=(t=n[c]).type)o[a]=L4(o[a],t.name,e);else if(e==null)for(a in o)o[a]=L4(o[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var o in e)t[o]=e[o].slice();return new xf(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var o=new Array(a),n=0,a,c;n<a;++n)o[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],n=0,a=c.length;n<a;++n)c[n].value.apply(e,o)},apply:function(t,e,o){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],a=0,c=n.length;a<c;++a)n[a].value.apply(e,o)}};function vM(t,e){for(var o=0,n=t.length,a;o<n;++o)if((a=t[o]).name===e)return a.value}function L4(t,e,o){for(var n=0,a=t.length;n<a;++n)if(t[n].name===e){t[n]=pM,t=t.slice(0,n).concat(t.slice(n+1));break}return o!=null&&t.push({name:e,value:o}),t}var Mv="http://www.w3.org/1999/xhtml";const q4={svg:"http://www.w3.org/2000/svg",xhtml:Mv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wh(t){var e=t+="",o=e.indexOf(":");return o>=0&&(e=t.slice(0,o))!=="xmlns"&&(t=t.slice(o+1)),q4.hasOwnProperty(e)?{space:q4[e],local:t}:t}function mM(t){return function(){var e=this.ownerDocument,o=this.namespaceURI;return o===Mv&&e.documentElement.namespaceURI===Mv?e.createElement(t):e.createElementNS(o,t)}}function yM(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function L_(t){var e=wh(t);return(e.local?yM:mM)(e)}function bM(){}function jm(t){return t==null?bM:function(){return this.querySelector(t)}}function _M(t){typeof t!="function"&&(t=jm(t));for(var e=this._groups,o=e.length,n=new Array(o),a=0;a<o;++a)for(var c=e[a],u=c.length,f=n[a]=new Array(u),d,g,b=0;b<u;++b)(d=c[b])&&(g=t.call(d,d.__data__,b,c))&&("__data__"in d&&(g.__data__=d.__data__),f[b]=g);return new Yr(n,this._parents)}function xM(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wM(){return[]}function q_(t){return t==null?wM:function(){return this.querySelectorAll(t)}}function SM(t){return function(){return xM(t.apply(this,arguments))}}function TM(t){typeof t=="function"?t=SM(t):t=q_(t);for(var e=this._groups,o=e.length,n=[],a=[],c=0;c<o;++c)for(var u=e[c],f=u.length,d,g=0;g<f;++g)(d=u[g])&&(n.push(t.call(d,d.__data__,g,u)),a.push(d));return new Yr(n,a)}function j_(t){return function(){return this.matches(t)}}function P_(t){return function(e){return e.matches(t)}}var CM=Array.prototype.find;function EM(t){return function(){return CM.call(this.children,t)}}function AM(){return this.firstElementChild}function MM(t){return this.select(t==null?AM:EM(typeof t=="function"?t:P_(t)))}var kM=Array.prototype.filter;function NM(){return Array.from(this.children)}function RM(t){return function(){return kM.call(this.children,t)}}function DM(t){return this.selectAll(t==null?NM:RM(typeof t=="function"?t:P_(t)))}function OM(t){typeof t!="function"&&(t=j_(t));for(var e=this._groups,o=e.length,n=new Array(o),a=0;a<o;++a)for(var c=e[a],u=c.length,f=n[a]=[],d,g=0;g<u;++g)(d=c[g])&&t.call(d,d.__data__,g,c)&&f.push(d);return new Yr(n,this._parents)}function H_(t){return new Array(t.length)}function zM(){return new Yr(this._enter||this._groups.map(H_),this._parents)}function jf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}jf.prototype={constructor:jf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function BM(t){return function(){return t}}function LM(t,e,o,n,a,c){for(var u=0,f,d=e.length,g=c.length;u<g;++u)(f=e[u])?(f.__data__=c[u],n[u]=f):o[u]=new jf(t,c[u]);for(;u<d;++u)(f=e[u])&&(a[u]=f)}function qM(t,e,o,n,a,c,u){var f,d,g=new Map,b=e.length,x=c.length,y=new Array(b),m;for(f=0;f<b;++f)(d=e[f])&&(y[f]=m=u.call(d,d.__data__,f,e)+"",g.has(m)?a[f]=d:g.set(m,d));for(f=0;f<x;++f)m=u.call(t,c[f],f,c)+"",(d=g.get(m))?(n[f]=d,d.__data__=c[f],g.delete(m)):o[f]=new jf(t,c[f]);for(f=0;f<b;++f)(d=e[f])&&g.get(y[f])===d&&(a[f]=d)}function jM(t){return t.__data__}function PM(t,e){if(!arguments.length)return Array.from(this,jM);var o=e?qM:LM,n=this._parents,a=this._groups;typeof t!="function"&&(t=BM(t));for(var c=a.length,u=new Array(c),f=new Array(c),d=new Array(c),g=0;g<c;++g){var b=n[g],x=a[g],y=x.length,m=HM(t.call(b,b&&b.__data__,g,n)),_=m.length,p=f[g]=new Array(_),w=u[g]=new Array(_),T=d[g]=new Array(y);o(b,x,p,w,T,m,e);for(var C=0,N=0,k,D;C<_;++C)if(k=p[C]){for(C>=N&&(N=C+1);!(D=w[N])&&++N<_;);k._next=D||null}}return u=new Yr(u,n),u._enter=f,u._exit=d,u}function HM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YM(){return new Yr(this._exit||this._groups.map(H_),this._parents)}function UM(t,e,o){var n=this.enter(),a=this,c=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),o==null?c.remove():o(c),n&&a?n.merge(a).order():a}function FM(t){for(var e=t.selection?t.selection():t,o=this._groups,n=e._groups,a=o.length,c=n.length,u=Math.min(a,c),f=new Array(a),d=0;d<u;++d)for(var g=o[d],b=n[d],x=g.length,y=f[d]=new Array(x),m,_=0;_<x;++_)(m=g[_]||b[_])&&(y[_]=m);for(;d<a;++d)f[d]=o[d];return new Yr(f,this._parents)}function GM(){for(var t=this._groups,e=-1,o=t.length;++e<o;)for(var n=t[e],a=n.length-1,c=n[a],u;--a>=0;)(u=n[a])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function $M(t){t||(t=XM);function e(x,y){return x&&y?t(x.__data__,y.__data__):!x-!y}for(var o=this._groups,n=o.length,a=new Array(n),c=0;c<n;++c){for(var u=o[c],f=u.length,d=a[c]=new Array(f),g,b=0;b<f;++b)(g=u[b])&&(d[b]=g);d.sort(e)}return new Yr(a,this._parents).order()}function XM(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function VM(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function IM(){return Array.from(this)}function ZM(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],a=0,c=n.length;a<c;++a){var u=n[a];if(u)return u}return null}function QM(){let t=0;for(const e of this)++t;return t}function KM(){return!this.node()}function WM(t){for(var e=this._groups,o=0,n=e.length;o<n;++o)for(var a=e[o],c=0,u=a.length,f;c<u;++c)(f=a[c])&&t.call(f,f.__data__,c,a);return this}function JM(t){return function(){this.removeAttribute(t)}}function ek(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tk(t,e){return function(){this.setAttribute(t,e)}}function nk(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function rk(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttribute(t):this.setAttribute(t,o)}}function ik(t,e){return function(){var o=e.apply(this,arguments);o==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}}function ak(t,e){var o=wh(t);if(arguments.length<2){var n=this.node();return o.local?n.getAttributeNS(o.space,o.local):n.getAttribute(o)}return this.each((e==null?o.local?ek:JM:typeof e=="function"?o.local?ik:rk:o.local?nk:tk)(o,e))}function Y_(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sk(t){return function(){this.style.removeProperty(t)}}function ok(t,e,o){return function(){this.style.setProperty(t,e,o)}}function lk(t,e,o){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,o)}}function ck(t,e,o){return arguments.length>1?this.each((e==null?sk:typeof e=="function"?lk:ok)(t,e,o??"")):uo(this.node(),t)}function uo(t,e){return t.style.getPropertyValue(e)||Y_(t).getComputedStyle(t,null).getPropertyValue(e)}function uk(t){return function(){delete this[t]}}function fk(t,e){return function(){this[t]=e}}function hk(t,e){return function(){var o=e.apply(this,arguments);o==null?delete this[t]:this[t]=o}}function dk(t,e){return arguments.length>1?this.each((e==null?uk:typeof e=="function"?hk:fk)(t,e)):this.node()[t]}function U_(t){return t.trim().split(/^|\s+/)}function Pm(t){return t.classList||new F_(t)}function F_(t){this._node=t,this._names=U_(t.getAttribute("class")||"")}F_.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function G_(t,e){for(var o=Pm(t),n=-1,a=e.length;++n<a;)o.add(e[n])}function $_(t,e){for(var o=Pm(t),n=-1,a=e.length;++n<a;)o.remove(e[n])}function pk(t){return function(){G_(this,t)}}function gk(t){return function(){$_(this,t)}}function vk(t,e){return function(){(e.apply(this,arguments)?G_:$_)(this,t)}}function mk(t,e){var o=U_(t+"");if(arguments.length<2){for(var n=Pm(this.node()),a=-1,c=o.length;++a<c;)if(!n.contains(o[a]))return!1;return!0}return this.each((typeof e=="function"?vk:e?pk:gk)(o,e))}function yk(){this.textContent=""}function bk(t){return function(){this.textContent=t}}function _k(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xk(t){return arguments.length?this.each(t==null?yk:(typeof t=="function"?_k:bk)(t)):this.node().textContent}function wk(){this.innerHTML=""}function Sk(t){return function(){this.innerHTML=t}}function Tk(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ck(t){return arguments.length?this.each(t==null?wk:(typeof t=="function"?Tk:Sk)(t)):this.node().innerHTML}function Ek(){this.nextSibling&&this.parentNode.appendChild(this)}function Ak(){return this.each(Ek)}function Mk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kk(){return this.each(Mk)}function Nk(t){var e=typeof t=="function"?t:L_(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Rk(){return null}function Dk(t,e){var o=typeof t=="function"?t:L_(t),n=e==null?Rk:typeof e=="function"?e:jm(e);return this.select(function(){return this.insertBefore(o.apply(this,arguments),n.apply(this,arguments)||null)})}function Ok(){var t=this.parentNode;t&&t.removeChild(this)}function zk(){return this.each(Ok)}function Bk(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lk(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qk(t){return this.select(t?Lk:Bk)}function jk(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Pk(t){return function(e){t.call(this,e,this.__data__)}}function Hk(t){return t.trim().split(/^|\s+/).map(function(e){var o="",n=e.indexOf(".");return n>=0&&(o=e.slice(n+1),e=e.slice(0,n)),{type:e,name:o}})}function Yk(t){return function(){var e=this.__on;if(e){for(var o=0,n=-1,a=e.length,c;o<a;++o)c=e[o],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):e[++n]=c;++n?e.length=n:delete this.__on}}}function Uk(t,e,o){return function(){var n=this.__on,a,c=Pk(e);if(n){for(var u=0,f=n.length;u<f;++u)if((a=n[u]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=c,a.options=o),a.value=e;return}}this.addEventListener(t.type,c,o),a={type:t.type,name:t.name,value:e,listener:c,options:o},n?n.push(a):this.__on=[a]}}function Fk(t,e,o){var n=Hk(t+""),a,c=n.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var d=0,g=f.length,b;d<g;++d)for(a=0,b=f[d];a<c;++a)if((u=n[a]).type===b.type&&u.name===b.name)return b.value}return}for(f=e?Uk:Yk,a=0;a<c;++a)this.each(f(n[a],e,o));return this}function X_(t,e,o){var n=Y_(t),a=n.CustomEvent;typeof a=="function"?a=new a(e,o):(a=n.document.createEvent("Event"),o?(a.initEvent(e,o.bubbles,o.cancelable),a.detail=o.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function Gk(t,e){return function(){return X_(this,t,e)}}function $k(t,e){return function(){return X_(this,t,e.apply(this,arguments))}}function Xk(t,e){return this.each((typeof e=="function"?$k:Gk)(t,e))}function*Vk(){for(var t=this._groups,e=0,o=t.length;e<o;++e)for(var n=t[e],a=0,c=n.length,u;a<c;++a)(u=n[a])&&(yield u)}var V_=[null];function Yr(t,e){this._groups=t,this._parents=e}function Dc(){return new Yr([[document.documentElement]],V_)}function Ik(){return this}Yr.prototype=Dc.prototype={constructor:Yr,select:_M,selectAll:TM,selectChild:MM,selectChildren:DM,filter:OM,data:PM,enter:zM,exit:YM,join:UM,merge:FM,selection:Ik,order:GM,sort:$M,call:VM,nodes:IM,node:ZM,size:QM,empty:KM,each:WM,attr:ak,style:ck,property:dk,classed:mk,text:xk,html:Ck,raise:Ak,lower:kk,append:Nk,insert:Dk,remove:zk,clone:qk,datum:jk,on:Fk,dispatch:Xk,[Symbol.iterator]:Vk};function rt(t){return typeof t=="string"?new Yr([[document.querySelector(t)]],[document.documentElement]):new Yr([[t]],V_)}function Zk(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Pf(t,e){if(t=Zk(t),e===void 0&&(e=t.currentTarget),e){var o=e.ownerSVGElement||e;if(o.createSVGPoint){var n=o.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const Qk={passive:!1},hc={capture:!0,passive:!1};function Id(t){t.stopImmediatePropagation()}function to(t){t.preventDefault(),t.stopImmediatePropagation()}function I_(t){var e=t.document.documentElement,o=rt(t).on("dragstart.drag",to,hc);"onselectstart"in e?o.on("selectstart.drag",to,hc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Z_(t,e){var o=t.document.documentElement,n=rt(t).on("dragstart.drag",null);e&&(n.on("click.drag",to,hc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in o?n.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const $u=t=>()=>t;function kv(t,{sourceEvent:e,subject:o,target:n,identifier:a,active:c,x:u,y:f,dx:d,dy:g,dispatch:b}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:b}})}kv.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Kk(t){return!t.ctrlKey&&!t.button}function Wk(){return this.parentNode}function Jk(t,e){return e??{x:t.x,y:t.y}}function eN(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kl(){var t=Kk,e=Wk,o=Jk,n=eN,a={},c=Rc("start","drag","end"),u=0,f,d,g,b,x=0;function y(k){k.on("mousedown.drag",m).filter(n).on("touchstart.drag",w).on("touchmove.drag",T,Qk).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(k,D){if(!(b||!t.call(this,k,D))){var F=N(this,e.call(this,k,D),k,D,"mouse");F&&(rt(k.view).on("mousemove.drag",_,hc).on("mouseup.drag",p,hc),I_(k.view),Id(k),g=!1,f=k.clientX,d=k.clientY,F("start",k))}}function _(k){if(to(k),!g){var D=k.clientX-f,F=k.clientY-d;g=D*D+F*F>x}a.mouse("drag",k)}function p(k){rt(k.view).on("mousemove.drag mouseup.drag",null),Z_(k.view,g),to(k),a.mouse("end",k)}function w(k,D){if(t.call(this,k,D)){var F=k.changedTouches,G=e.call(this,k,D),E=F.length,R,O;for(R=0;R<E;++R)(O=N(this,G,k,D,F[R].identifier,F[R]))&&(Id(k),O("start",k,F[R]))}}function T(k){var D=k.changedTouches,F=D.length,G,E;for(G=0;G<F;++G)(E=a[D[G].identifier])&&(to(k),E("drag",k,D[G]))}function C(k){var D=k.changedTouches,F=D.length,G,E;for(b&&clearTimeout(b),b=setTimeout(function(){b=null},500),G=0;G<F;++G)(E=a[D[G].identifier])&&(Id(k),E("end",k,D[G]))}function N(k,D,F,G,E,R){var O=c.copy(),P=Pf(R||F,D),j,Y,H;if((H=o.call(k,new kv("beforestart",{sourceEvent:F,target:y,identifier:E,active:u,x:P[0],y:P[1],dx:0,dy:0,dispatch:O}),G))!=null)return j=H.x-P[0]||0,Y=H.y-P[1]||0,function q(U,X,I){var z=P,A;switch(U){case"start":a[E]=q,A=u++;break;case"end":delete a[E],--u;case"drag":P=Pf(I||X,D),A=u;break}O.call(U,k,new kv(U,{sourceEvent:X,subject:H,target:y,identifier:E,active:A,x:P[0]+j,y:P[1]+Y,dx:P[0]-z[0],dy:P[1]-z[1],dispatch:O}),G)}}return y.filter=function(k){return arguments.length?(t=typeof k=="function"?k:$u(!!k),y):t},y.container=function(k){return arguments.length?(e=typeof k=="function"?k:$u(k),y):e},y.subject=function(k){return arguments.length?(o=typeof k=="function"?k:$u(k),y):o},y.touchable=function(k){return arguments.length?(n=typeof k=="function"?k:$u(!!k),y):n},y.on=function(){var k=c.on.apply(c,arguments);return k===c?y:k},y.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,y):Math.sqrt(x)},y}function Oc(t,e,o){t.prototype=e.prototype=o,o.constructor=t}function Sh(t,e){var o=Object.create(t.prototype);for(var n in e)o[n]=e[n];return o}function Js(){}var dc=.7,Hf=1/dc,no="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tN=/^#([0-9a-f]{3,8})$/,nN=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),rN=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),iN=new RegExp(`^rgba\\(${no},${no},${no},${pc}\\)$`),aN=new RegExp(`^rgba\\(${ji},${ji},${ji},${pc}\\)$`),sN=new RegExp(`^hsl\\(${pc},${ji},${ji}\\)$`),oN=new RegExp(`^hsla\\(${pc},${ji},${ji},${pc}\\)$`),j4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oc(Js,Xs,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:P4,formatHex:P4,formatHex8:lN,formatHsl:cN,formatRgb:H4,toString:H4});function P4(){return this.rgb().formatHex()}function lN(){return this.rgb().formatHex8()}function cN(){return K_(this).formatHsl()}function H4(){return this.rgb().formatRgb()}function Xs(t){var e,o;return t=(t+"").trim().toLowerCase(),(e=tN.exec(t))?(o=e[1].length,e=parseInt(e[1],16),o===6?Y4(e):o===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):o===8?Xu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):o===4?Xu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nN.exec(t))?new Zn(e[1],e[2],e[3],1):(e=rN.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iN.exec(t))?Xu(e[1],e[2],e[3],e[4]):(e=aN.exec(t))?Xu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sN.exec(t))?G4(e[1],e[2]/100,e[3]/100,1):(e=oN.exec(t))?G4(e[1],e[2]/100,e[3]/100,e[4]):j4.hasOwnProperty(t)?Y4(j4[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function Y4(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Xu(t,e,o,n){return n<=0&&(t=e=o=NaN),new Zn(t,e,o,n)}function Q_(t){return t instanceof Js||(t=Xs(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function Nv(t,e,o,n){return arguments.length===1?Q_(t):new Zn(t,e,o,n??1)}function Zn(t,e,o,n){this.r=+t,this.g=+e,this.b=+o,this.opacity=+n}Oc(Zn,Nv,Sh(Js,{brighter(t){return t=t==null?Hf:Math.pow(Hf,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dc:Math.pow(dc,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(qs(this.r),qs(this.g),qs(this.b),Yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U4,formatHex:U4,formatHex8:uN,formatRgb:F4,toString:F4}));function U4(){return`#${Os(this.r)}${Os(this.g)}${Os(this.b)}`}function uN(){return`#${Os(this.r)}${Os(this.g)}${Os(this.b)}${Os((isNaN(this.opacity)?1:this.opacity)*255)}`}function F4(){const t=Yf(this.opacity);return`${t===1?"rgb(":"rgba("}${qs(this.r)}, ${qs(this.g)}, ${qs(this.b)}${t===1?")":`, ${t})`}`}function Yf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Os(t){return t=qs(t),(t<16?"0":"")+t.toString(16)}function G4(t,e,o,n){return n<=0?t=e=o=NaN:o<=0||o>=1?t=e=NaN:e<=0&&(t=NaN),new yi(t,e,o,n)}function K_(t){if(t instanceof yi)return new yi(t.h,t.s,t.l,t.opacity);if(t instanceof Js||(t=Xs(t)),!t)return new yi;if(t instanceof yi)return t;t=t.rgb();var e=t.r/255,o=t.g/255,n=t.b/255,a=Math.min(e,o,n),c=Math.max(e,o,n),u=NaN,f=c-a,d=(c+a)/2;return f?(e===c?u=(o-n)/f+(o<n)*6:o===c?u=(n-e)/f+2:u=(e-o)/f+4,f/=d<.5?c+a:2-c-a,u*=60):f=d>0&&d<1?0:u,new yi(u,f,d,t.opacity)}function fN(t,e,o,n){return arguments.length===1?K_(t):new yi(t,e,o,n??1)}function yi(t,e,o,n){this.h=+t,this.s=+e,this.l=+o,this.opacity=+n}Oc(yi,fN,Sh(Js,{brighter(t){return t=t==null?Hf:Math.pow(Hf,t),new yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dc:Math.pow(dc,t),new yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,o=this.l,n=o+(o<.5?o:1-o)*e,a=2*o-n;return new Zn(Zd(t>=240?t-240:t+120,a,n),Zd(t,a,n),Zd(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new yi($4(this.h),Vu(this.s),Vu(this.l),Yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yf(this.opacity);return`${t===1?"hsl(":"hsla("}${$4(this.h)}, ${Vu(this.s)*100}%, ${Vu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $4(t){return t=(t||0)%360,t<0?t+360:t}function Vu(t){return Math.max(0,Math.min(1,t||0))}function Zd(t,e,o){return(t<60?e+(o-e)*t/60:t<180?o:t<240?e+(o-e)*(240-t)/60:e)*255}const hN=Math.PI/180,dN=180/Math.PI,Uf=18,W_=.96422,J_=1,ex=.82521,tx=4/29,ro=6/29,nx=3*ro*ro,pN=ro*ro*ro;function rx(t){if(t instanceof Pi)return new Pi(t.l,t.a,t.b,t.opacity);if(t instanceof pa)return ix(t);t instanceof Zn||(t=Q_(t));var e=Jd(t.r),o=Jd(t.g),n=Jd(t.b),a=Qd((.2225045*e+.7168786*o+.0606169*n)/J_),c,u;return e===o&&o===n?c=u=a:(c=Qd((.4360747*e+.3850649*o+.1430804*n)/W_),u=Qd((.0139322*e+.0971045*o+.7141733*n)/ex)),new Pi(116*a-16,500*(c-a),200*(a-u),t.opacity)}function Rv(t,e,o,n){return arguments.length===1?rx(t):new Pi(t,e,o,n??1)}function Pi(t,e,o,n){this.l=+t,this.a=+e,this.b=+o,this.opacity=+n}Oc(Pi,Rv,Sh(Js,{brighter(t){return new Pi(this.l+Uf*(t??1),this.a,this.b,this.opacity)},darker(t){return new Pi(this.l-Uf*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,o=isNaN(this.b)?t:t-this.b/200;return e=W_*Kd(e),t=J_*Kd(t),o=ex*Kd(o),new Zn(Wd(3.1338561*e-1.6168667*t-.4906146*o),Wd(-.9787684*e+1.9161415*t+.033454*o),Wd(.0719453*e-.2289914*t+1.4052427*o),this.opacity)}}));function Qd(t){return t>pN?Math.pow(t,1/3):t/nx+tx}function Kd(t){return t>ro?t*t*t:nx*(t-tx)}function Wd(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Jd(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function gN(t){if(t instanceof pa)return new pa(t.h,t.c,t.l,t.opacity);if(t instanceof Pi||(t=rx(t)),t.a===0&&t.b===0)return new pa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*dN;return new pa(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function vN(t,e,o,n){return arguments.length===1?gN(t):new pa(t,e,o,n??1)}function pa(t,e,o,n){this.h=+t,this.c=+e,this.l=+o,this.opacity=+n}function ix(t){if(isNaN(t.h))return new Pi(t.l,0,0,t.opacity);var e=t.h*hN;return new Pi(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Oc(pa,vN,Sh(Js,{brighter(t){return new pa(this.h,this.c,this.l+Uf*(t??1),this.opacity)},darker(t){return new pa(this.h,this.c,this.l-Uf*(t??1),this.opacity)},rgb(){return ix(this).rgb()}}));const Hm=t=>()=>t;function mN(t,e){return function(o){return t+o*e}}function yN(t,e,o){return t=Math.pow(t,o),e=Math.pow(e,o)-t,o=1/o,function(n){return Math.pow(t+n*e,o)}}function bN(t){return(t=+t)==1?I0:function(e,o){return o-e?yN(e,o,t):Hm(isNaN(e)?o:e)}}function I0(t,e){var o=e-t;return o?mN(t,o):Hm(isNaN(t)?e:t)}const Ff=function t(e){var o=bN(e);function n(a,c){var u=o((a=Nv(a)).r,(c=Nv(c)).r),f=o(a.g,c.g),d=o(a.b,c.b),g=I0(a.opacity,c.opacity);return function(b){return a.r=u(b),a.g=f(b),a.b=d(b),a.opacity=g(b),a+""}}return n.gamma=t,n}(1);function _N(t,e){e||(e=[]);var o=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(c){for(a=0;a<o;++a)n[a]=t[a]*(1-c)+e[a]*c;return n}}function xN(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wN(t,e){var o=e?e.length:0,n=t?Math.min(o,t.length):0,a=new Array(n),c=new Array(o),u;for(u=0;u<n;++u)a[u]=Th(t[u],e[u]);for(;u<o;++u)c[u]=e[u];return function(f){for(u=0;u<n;++u)c[u]=a[u](f);return c}}function SN(t,e){var o=new Date;return t=+t,e=+e,function(n){return o.setTime(t*(1-n)+e*n),o}}function mi(t,e){return t=+t,e=+e,function(o){return t*(1-o)+e*o}}function TN(t,e){var o={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?o[a]=Th(t[a],e[a]):n[a]=e[a];return function(c){for(a in o)n[a]=o[a](c);return n}}var Dv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ep=new RegExp(Dv.source,"g");function CN(t){return function(){return t}}function EN(t){return function(e){return t(e)+""}}function ax(t,e){var o=Dv.lastIndex=ep.lastIndex=0,n,a,c,u=-1,f=[],d=[];for(t=t+"",e=e+"";(n=Dv.exec(t))&&(a=ep.exec(e));)(c=a.index)>o&&(c=e.slice(o,c),f[u]?f[u]+=c:f[++u]=c),(n=n[0])===(a=a[0])?f[u]?f[u]+=a:f[++u]=a:(f[++u]=null,d.push({i:u,x:mi(n,a)})),o=ep.lastIndex;return o<e.length&&(c=e.slice(o),f[u]?f[u]+=c:f[++u]=c),f.length<2?d[0]?EN(d[0].x):CN(e):(e=d.length,function(g){for(var b=0,x;b<e;++b)f[(x=d[b]).i]=x.x(g);return f.join("")})}function Th(t,e){var o=typeof e,n;return e==null||o==="boolean"?Hm(e):(o==="number"?mi:o==="string"?(n=Xs(e))?(e=n,Ff):ax:e instanceof Xs?Ff:e instanceof Date?SN:xN(e)?_N:Array.isArray(e)?wN:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TN:mi)(t,e)}function AN(t,e){return t=+t,e=+e,function(o){return Math.round(t*(1-o)+e*o)}}var X4=180/Math.PI,Ov={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sx(t,e,o,n,a,c){var u,f,d;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(d=t*o+e*n)&&(o-=t*d,n-=e*d),(f=Math.sqrt(o*o+n*n))&&(o/=f,n/=f,d/=f),t*n<e*o&&(t=-t,e=-e,d=-d,u=-u),{translateX:a,translateY:c,rotate:Math.atan2(e,t)*X4,skewX:Math.atan(d)*X4,scaleX:u,scaleY:f}}var Iu;function MN(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ov:sx(e.a,e.b,e.c,e.d,e.e,e.f)}function kN(t){return t==null||(Iu||(Iu=document.createElementNS("http://www.w3.org/2000/svg","g")),Iu.setAttribute("transform",t),!(t=Iu.transform.baseVal.consolidate()))?Ov:(t=t.matrix,sx(t.a,t.b,t.c,t.d,t.e,t.f))}function ox(t,e,o,n){function a(g){return g.length?g.pop()+" ":""}function c(g,b,x,y,m,_){if(g!==x||b!==y){var p=m.push("translate(",null,e,null,o);_.push({i:p-4,x:mi(g,x)},{i:p-2,x:mi(b,y)})}else(x||y)&&m.push("translate("+x+e+y+o)}function u(g,b,x,y){g!==b?(g-b>180?b+=360:b-g>180&&(g+=360),y.push({i:x.push(a(x)+"rotate(",null,n)-2,x:mi(g,b)})):b&&x.push(a(x)+"rotate("+b+n)}function f(g,b,x,y){g!==b?y.push({i:x.push(a(x)+"skewX(",null,n)-2,x:mi(g,b)}):b&&x.push(a(x)+"skewX("+b+n)}function d(g,b,x,y,m,_){if(g!==x||b!==y){var p=m.push(a(m)+"scale(",null,",",null,")");_.push({i:p-4,x:mi(g,x)},{i:p-2,x:mi(b,y)})}else(x!==1||y!==1)&&m.push(a(m)+"scale("+x+","+y+")")}return function(g,b){var x=[],y=[];return g=t(g),b=t(b),c(g.translateX,g.translateY,b.translateX,b.translateY,x,y),u(g.rotate,b.rotate,x,y),f(g.skewX,b.skewX,x,y),d(g.scaleX,g.scaleY,b.scaleX,b.scaleY,x,y),g=b=null,function(m){for(var _=-1,p=y.length,w;++_<p;)x[(w=y[_]).i]=w.x(m);return x.join("")}}}var NN=ox(MN,"px, ","px)","deg)"),RN=ox(kN,", ",")",")");function V4(t,e){var o=I0((t=Rv(t)).l,(e=Rv(e)).l),n=I0(t.a,e.a),a=I0(t.b,e.b),c=I0(t.opacity,e.opacity);return function(u){return t.l=o(u),t.a=n(u),t.b=a(u),t.opacity=c(u),t+""}}var fo=0,Bl=0,Al=0,lx=1e3,Gf,Ll,$f=0,Vs=0,Ch=0,gc=typeof performance=="object"&&performance.now?performance:Date,cx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ym(){return Vs||(cx(DN),Vs=gc.now()+Ch)}function DN(){Vs=0}function Xf(){this._call=this._time=this._next=null}Xf.prototype=Um.prototype={constructor:Xf,restart:function(t,e,o){if(typeof t!="function")throw new TypeError("callback is not a function");o=(o==null?Ym():+o)+(e==null?0:+e),!this._next&&Ll!==this&&(Ll?Ll._next=this:Gf=this,Ll=this),this._call=t,this._time=o,zv()},stop:function(){this._call&&(this._call=null,this._time=1/0,zv())}};function Um(t,e,o){var n=new Xf;return n.restart(t,e,o),n}function ON(){Ym(),++fo;for(var t=Gf,e;t;)(e=Vs-t._time)>=0&&t._call.call(void 0,e),t=t._next;--fo}function I4(){Vs=($f=gc.now())+Ch,fo=Bl=0;try{ON()}finally{fo=0,BN(),Vs=0}}function zN(){var t=gc.now(),e=t-$f;e>lx&&(Ch-=e,$f=t)}function BN(){for(var t,e=Gf,o,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(o=e._next,e._next=null,e=t?t._next=o:Gf=o);Ll=t,zv(n)}function zv(t){if(!fo){Bl&&(Bl=clearTimeout(Bl));var e=t-Vs;e>24?(t<1/0&&(Bl=setTimeout(I4,t-gc.now()-Ch)),Al&&(Al=clearInterval(Al))):(Al||($f=gc.now(),Al=setInterval(zN,lx)),fo=1,cx(I4))}}function Z4(t,e,o){var n=new Xf;return e=e==null?0:+e,n.restart(a=>{n.stop(),t(a+e)},e,o),n}var LN=Rc("start","end","cancel","interrupt"),qN=[],ux=0,Q4=1,Bv=2,wf=3,K4=4,Lv=5,Sf=6;function Eh(t,e,o,n,a,c){var u=t.__transition;if(!u)t.__transition={};else if(o in u)return;jN(t,o,{name:e,index:n,group:a,on:LN,tween:qN,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:ux})}function Fm(t,e){var o=wi(t,e);if(o.state>ux)throw new Error("too late; already scheduled");return o}function Fi(t,e){var o=wi(t,e);if(o.state>wf)throw new Error("too late; already running");return o}function wi(t,e){var o=t.__transition;if(!o||!(o=o[e]))throw new Error("transition not found");return o}function jN(t,e,o){var n=t.__transition,a;n[e]=o,o.timer=Um(c,0,o.time);function c(g){o.state=Q4,o.timer.restart(u,o.delay,o.time),o.delay<=g&&u(g-o.delay)}function u(g){var b,x,y,m;if(o.state!==Q4)return d();for(b in n)if(m=n[b],m.name===o.name){if(m.state===wf)return Z4(u);m.state===K4?(m.state=Sf,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete n[b]):+b<e&&(m.state=Sf,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete n[b])}if(Z4(function(){o.state===wf&&(o.state=K4,o.timer.restart(f,o.delay,o.time),f(g))}),o.state=Bv,o.on.call("start",t,t.__data__,o.index,o.group),o.state===Bv){for(o.state=wf,a=new Array(y=o.tween.length),b=0,x=-1;b<y;++b)(m=o.tween[b].value.call(t,t.__data__,o.index,o.group))&&(a[++x]=m);a.length=x+1}}function f(g){for(var b=g<o.duration?o.ease.call(null,g/o.duration):(o.timer.restart(d),o.state=Lv,1),x=-1,y=a.length;++x<y;)a[x].call(t,b);o.state===Lv&&(o.on.call("end",t,t.__data__,o.index,o.group),d())}function d(){o.state=Sf,o.timer.stop(),delete n[e];for(var g in n)return;delete t.__transition}}function qv(t,e){var o=t.__transition,n,a,c=!0,u;if(o){e=e==null?null:e+"";for(u in o){if((n=o[u]).name!==e){c=!1;continue}a=n.state>Bv&&n.state<Lv,n.state=Sf,n.timer.stop(),n.on.call(a?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[u]}c&&delete t.__transition}}function PN(t){return this.each(function(){qv(this,t)})}function HN(t,e){var o,n;return function(){var a=Fi(this,t),c=a.tween;if(c!==o){n=o=c;for(var u=0,f=n.length;u<f;++u)if(n[u].name===e){n=n.slice(),n.splice(u,1);break}}a.tween=n}}function YN(t,e,o){var n,a;if(typeof o!="function")throw new Error;return function(){var c=Fi(this,t),u=c.tween;if(u!==n){a=(n=u).slice();for(var f={name:e,value:o},d=0,g=a.length;d<g;++d)if(a[d].name===e){a[d]=f;break}d===g&&a.push(f)}c.tween=a}}function UN(t,e){var o=this._id;if(t+="",arguments.length<2){for(var n=wi(this.node(),o).tween,a=0,c=n.length,u;a<c;++a)if((u=n[a]).name===t)return u.value;return null}return this.each((e==null?HN:YN)(o,t,e))}function Gm(t,e,o){var n=t._id;return t.each(function(){var a=Fi(this,n);(a.value||(a.value={}))[e]=o.apply(this,arguments)}),function(a){return wi(a,n).value[e]}}function fx(t,e){var o;return(typeof e=="number"?mi:e instanceof Xs?Ff:(o=Xs(e))?(e=o,Ff):ax)(t,e)}function FN(t){return function(){this.removeAttribute(t)}}function GN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $N(t,e,o){var n,a=o+"",c;return function(){var u=this.getAttribute(t);return u===a?null:u===n?c:c=e(n=u,o)}}function XN(t,e,o){var n,a=o+"",c;return function(){var u=this.getAttributeNS(t.space,t.local);return u===a?null:u===n?c:c=e(n=u,o)}}function VN(t,e,o){var n,a,c;return function(){var u,f=o(this),d;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),d=f+"",u===d?null:u===n&&d===a?c:(a=d,c=e(n=u,f)))}}function IN(t,e,o){var n,a,c;return function(){var u,f=o(this),d;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),d=f+"",u===d?null:u===n&&d===a?c:(a=d,c=e(n=u,f)))}}function ZN(t,e){var o=wh(t),n=o==="transform"?RN:fx;return this.attrTween(t,typeof e=="function"?(o.local?IN:VN)(o,n,Gm(this,"attr."+t,e)):e==null?(o.local?GN:FN)(o):(o.local?XN:$N)(o,n,e))}function QN(t,e){return function(o){this.setAttribute(t,e.call(this,o))}}function KN(t,e){return function(o){this.setAttributeNS(t.space,t.local,e.call(this,o))}}function WN(t,e){var o,n;function a(){var c=e.apply(this,arguments);return c!==n&&(o=(n=c)&&KN(t,c)),o}return a._value=e,a}function JN(t,e){var o,n;function a(){var c=e.apply(this,arguments);return c!==n&&(o=(n=c)&&QN(t,c)),o}return a._value=e,a}function eR(t,e){var o="attr."+t;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;var n=wh(t);return this.tween(o,(n.local?WN:JN)(n,e))}function tR(t,e){return function(){Fm(this,t).delay=+e.apply(this,arguments)}}function nR(t,e){return e=+e,function(){Fm(this,t).delay=e}}function rR(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tR:nR)(e,t)):wi(this.node(),e).delay}function iR(t,e){return function(){Fi(this,t).duration=+e.apply(this,arguments)}}function aR(t,e){return e=+e,function(){Fi(this,t).duration=e}}function sR(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?iR:aR)(e,t)):wi(this.node(),e).duration}function oR(t,e){if(typeof e!="function")throw new Error;return function(){Fi(this,t).ease=e}}function lR(t){var e=this._id;return arguments.length?this.each(oR(e,t)):wi(this.node(),e).ease}function cR(t,e){return function(){var o=e.apply(this,arguments);if(typeof o!="function")throw new Error;Fi(this,t).ease=o}}function uR(t){if(typeof t!="function")throw new Error;return this.each(cR(this._id,t))}function fR(t){typeof t!="function"&&(t=j_(t));for(var e=this._groups,o=e.length,n=new Array(o),a=0;a<o;++a)for(var c=e[a],u=c.length,f=n[a]=[],d,g=0;g<u;++g)(d=c[g])&&t.call(d,d.__data__,g,c)&&f.push(d);return new ba(n,this._parents,this._name,this._id)}function hR(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,o=t._groups,n=e.length,a=o.length,c=Math.min(n,a),u=new Array(n),f=0;f<c;++f)for(var d=e[f],g=o[f],b=d.length,x=u[f]=new Array(b),y,m=0;m<b;++m)(y=d[m]||g[m])&&(x[m]=y);for(;f<n;++f)u[f]=e[f];return new ba(u,this._parents,this._name,this._id)}function dR(t){return(t+"").trim().split(/^|\s+/).every(function(e){var o=e.indexOf(".");return o>=0&&(e=e.slice(0,o)),!e||e==="start"})}function pR(t,e,o){var n,a,c=dR(e)?Fm:Fi;return function(){var u=c(this,t),f=u.on;f!==n&&(a=(n=f).copy()).on(e,o),u.on=a}}function gR(t,e){var o=this._id;return arguments.length<2?wi(this.node(),o).on.on(t):this.each(pR(o,t,e))}function vR(t){return function(){var e=this.parentNode;for(var o in this.__transition)if(+o!==t)return;e&&e.removeChild(this)}}function mR(){return this.on("end.remove",vR(this._id))}function yR(t){var e=this._name,o=this._id;typeof t!="function"&&(t=jm(t));for(var n=this._groups,a=n.length,c=new Array(a),u=0;u<a;++u)for(var f=n[u],d=f.length,g=c[u]=new Array(d),b,x,y=0;y<d;++y)(b=f[y])&&(x=t.call(b,b.__data__,y,f))&&("__data__"in b&&(x.__data__=b.__data__),g[y]=x,Eh(g[y],e,o,y,g,wi(b,o)));return new ba(c,this._parents,e,o)}function bR(t){var e=this._name,o=this._id;typeof t!="function"&&(t=q_(t));for(var n=this._groups,a=n.length,c=[],u=[],f=0;f<a;++f)for(var d=n[f],g=d.length,b,x=0;x<g;++x)if(b=d[x]){for(var y=t.call(b,b.__data__,x,d),m,_=wi(b,o),p=0,w=y.length;p<w;++p)(m=y[p])&&Eh(m,e,o,p,y,_);c.push(y),u.push(b)}return new ba(c,u,e,o)}var _R=Dc.prototype.constructor;function xR(){return new _R(this._groups,this._parents)}function wR(t,e){var o,n,a;return function(){var c=uo(this,t),u=(this.style.removeProperty(t),uo(this,t));return c===u?null:c===o&&u===n?a:a=e(o=c,n=u)}}function hx(t){return function(){this.style.removeProperty(t)}}function SR(t,e,o){var n,a=o+"",c;return function(){var u=uo(this,t);return u===a?null:u===n?c:c=e(n=u,o)}}function TR(t,e,o){var n,a,c;return function(){var u=uo(this,t),f=o(this),d=f+"";return f==null&&(d=f=(this.style.removeProperty(t),uo(this,t))),u===d?null:u===n&&d===a?c:(a=d,c=e(n=u,f))}}function CR(t,e){var o,n,a,c="style."+e,u="end."+c,f;return function(){var d=Fi(this,t),g=d.on,b=d.value[c]==null?f||(f=hx(e)):void 0;(g!==o||a!==b)&&(n=(o=g).copy()).on(u,a=b),d.on=n}}function ER(t,e,o){var n=(t+="")=="transform"?NN:fx;return e==null?this.styleTween(t,wR(t,n)).on("end.style."+t,hx(t)):typeof e=="function"?this.styleTween(t,TR(t,n,Gm(this,"style."+t,e))).each(CR(this._id,t)):this.styleTween(t,SR(t,n,e),o).on("end.style."+t,null)}function AR(t,e,o){return function(n){this.style.setProperty(t,e.call(this,n),o)}}function MR(t,e,o){var n,a;function c(){var u=e.apply(this,arguments);return u!==a&&(n=(a=u)&&AR(t,u,o)),n}return c._value=e,c}function kR(t,e,o){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,MR(t,e,o??""))}function NR(t){return function(){this.textContent=t}}function RR(t){return function(){var e=t(this);this.textContent=e??""}}function DR(t){return this.tween("text",typeof t=="function"?RR(Gm(this,"text",t)):NR(t==null?"":t+""))}function OR(t){return function(e){this.textContent=t.call(this,e)}}function zR(t){var e,o;function n(){var a=t.apply(this,arguments);return a!==o&&(e=(o=a)&&OR(a)),e}return n._value=t,n}function BR(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zR(t))}function LR(){for(var t=this._name,e=this._id,o=dx(),n=this._groups,a=n.length,c=0;c<a;++c)for(var u=n[c],f=u.length,d,g=0;g<f;++g)if(d=u[g]){var b=wi(d,e);Eh(d,t,o,g,u,{time:b.time+b.delay+b.duration,delay:0,duration:b.duration,ease:b.ease})}return new ba(n,this._parents,t,o)}function qR(){var t,e,o=this,n=o._id,a=o.size();return new Promise(function(c,u){var f={value:u},d={value:function(){--a===0&&c()}};o.each(function(){var g=Fi(this,n),b=g.on;b!==t&&(e=(t=b).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(d)),g.on=e}),a===0&&c()})}var jR=0;function ba(t,e,o,n){this._groups=t,this._parents=e,this._name=o,this._id=n}function dx(){return++jR}var la=Dc.prototype;ba.prototype={constructor:ba,select:yR,selectAll:bR,selectChild:la.selectChild,selectChildren:la.selectChildren,filter:fR,merge:hR,selection:xR,transition:LR,call:la.call,nodes:la.nodes,node:la.node,size:la.size,empty:la.empty,each:la.each,on:gR,attr:ZN,attrTween:eR,style:ER,styleTween:kR,text:DR,textTween:BR,remove:mR,tween:UN,delay:rR,duration:sR,ease:lR,easeVarying:uR,end:qR,[Symbol.iterator]:la[Symbol.iterator]};const PR=t=>+t;function HR(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var $m=1.70158;(function t(e){e=+e;function o(n){return(n=+n)*n*(e*(n-1)+n)}return o.overshoot=t,o})($m);var YR=function t(e){e=+e;function o(n){return--n*n*((n+1)*e+n)+1}return o.overshoot=t,o}($m);(function t(e){e=+e;function o(n){return((n*=2)<1?n*n*((e+1)*n-e):(n-=2)*n*((e+1)*n+e)+2)/2}return o.overshoot=t,o})($m);var UR={time:null,delay:0,duration:250,ease:HR};function FR(t,e){for(var o;!(o=t.__transition)||!(o=o[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return o}function GR(t){var e,o;t instanceof ba?(e=t._id,t=t._name):(e=dx(),(o=UR).time=Ym(),t=t==null?null:t+"");for(var n=this._groups,a=n.length,c=0;c<a;++c)for(var u=n[c],f=u.length,d,g=0;g<f;++g)(d=u[g])&&Eh(d,t,e,g,u,o||FR(d,e));return new ba(n,this._parents,t,e)}Dc.prototype.interrupt=PN;Dc.prototype.transition=GR;const tp=t=>()=>t;function $R(t,{sourceEvent:e,target:o,selection:n,mode:a,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}function XR(t){t.stopImmediatePropagation()}function np(t){t.preventDefault(),t.stopImmediatePropagation()}var W4={name:"drag"},rp={name:"space"},q0={name:"handle"},j0={name:"center"};const{abs:J4,max:Un,min:Fn}=Math;function eb(t){return[+t[0],+t[1]]}function tb(t){return[eb(t[0]),eb(t[1])]}var Tf={name:"x",handles:["w","e"].map(jv),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ip={},ca={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},nb={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},rb={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},VR={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},IR={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function jv(t){return{type:t}}function ZR(t){return!t.ctrlKey&&!t.button}function QR(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function KR(){return navigator.maxTouchPoints||"ontouchstart"in this}function ap(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function WR(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function JR(){return eD(Tf)}function eD(t){var e=QR,o=ZR,n=KR,a=!0,c=Rc("start","brush","end"),u=6,f;function d(w){var T=w.property("__brush",p).selectAll(".overlay").data([jv("overlay")]);T.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ca.overlay).merge(T).each(function(){var N=ap(this).extent;rt(this).attr("x",N[0][0]).attr("y",N[0][1]).attr("width",N[1][0]-N[0][0]).attr("height",N[1][1]-N[0][1])}),w.selectAll(".selection").data([jv("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ca.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=w.selectAll(".handle").data(t.handles,function(N){return N.type});C.exit().remove(),C.enter().append("rect").attr("class",function(N){return"handle handle--"+N.type}).attr("cursor",function(N){return ca[N.type]}),w.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",y).filter(n).on("touchstart.brush",y).on("touchmove.brush",m).on("touchend.brush touchcancel.brush",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.move=function(w,T,C){w.tween?w.on("start.brush",function(N){b(this,arguments).beforestart().start(N)}).on("interrupt.brush end.brush",function(N){b(this,arguments).end(N)}).tween("brush",function(){var N=this,k=N.__brush,D=b(N,arguments),F=k.selection,G=t.input(typeof T=="function"?T.apply(this,arguments):T,k.extent),E=Th(F,G);function R(O){k.selection=O===1&&G===null?null:E(O),g.call(N),D.brush()}return F!==null&&G!==null?R:R(1)}):w.each(function(){var N=this,k=arguments,D=N.__brush,F=t.input(typeof T=="function"?T.apply(N,k):T,D.extent),G=b(N,k).beforestart();qv(N),D.selection=F===null?null:F,g.call(N),G.start(C).brush(C).end(C)})},d.clear=function(w,T){d.move(w,null,T)};function g(){var w=rt(this),T=ap(this).selection;T?(w.selectAll(".selection").style("display",null).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?T[1][0]-u/2:T[0][0]-u/2}).attr("y",function(C){return C.type[0]==="s"?T[1][1]-u/2:T[0][1]-u/2}).attr("width",function(C){return C.type==="n"||C.type==="s"?T[1][0]-T[0][0]+u:u}).attr("height",function(C){return C.type==="e"||C.type==="w"?T[1][1]-T[0][1]+u:u})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function b(w,T,C){var N=w.__brush.emitter;return N&&(!C||!N.clean)?N:new x(w,T,C)}function x(w,T,C){this.that=w,this.args=T,this.state=w.__brush,this.active=0,this.clean=C}x.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(w,T){return this.starting?(this.starting=!1,this.emit("start",w,T)):this.emit("brush",w),this},brush:function(w,T){return this.emit("brush",w,T),this},end:function(w,T){return--this.active===0&&(delete this.state.emitter,this.emit("end",w,T)),this},emit:function(w,T,C){var N=rt(this.that).datum();c.call(w,this.that,new $R(w,{sourceEvent:T,target:d,selection:t.output(this.state.selection),mode:C,dispatch:c}),N)}};function y(w){if(f&&!w.touches||!o.apply(this,arguments))return;var T=this,C=w.target.__data__.type,N=(a&&w.metaKey?C="overlay":C)==="selection"?W4:a&&w.altKey?j0:q0,k=t===ip?null:VR[C],D=t===Tf?null:IR[C],F=ap(T),G=F.extent,E=F.selection,R=G[0][0],O,P,j=G[0][1],Y,H,q=G[1][0],U,X,I=G[1][1],z,A,B=0,V=0,Q,W=k&&D&&a&&w.shiftKey,K,re,he=Array.from(w.touches||[w],te=>{const ke=te.identifier;return te=Pf(te,T),te.point0=te.slice(),te.identifier=ke,te});qv(T);var ee=b(T,arguments,!0).beforestart();if(C==="overlay"){E&&(Q=!0);const te=[he[0],he[1]||he[0]];F.selection=E=[[O=t===ip?R:Fn(te[0][0],te[1][0]),Y=t===Tf?j:Fn(te[0][1],te[1][1])],[U=t===ip?q:Un(te[0][0],te[1][0]),z=t===Tf?I:Un(te[0][1],te[1][1])]],he.length>1&&fe(w)}else O=E[0][0],Y=E[0][1],U=E[1][0],z=E[1][1];P=O,H=Y,X=U,A=z;var pe=rt(T).attr("pointer-events","none"),Ce=pe.selectAll(".overlay").attr("cursor",ca[C]);if(w.touches)ee.moved=se,ee.ended=ae;else{var le=rt(w.view).on("mousemove.brush",se,!0).on("mouseup.brush",ae,!0);a&&le.on("keydown.brush",Se,!0).on("keyup.brush",we,!0),I_(w.view)}g.call(T),ee.start(w,N.name);function se(te){for(const ke of te.changedTouches||[te])for(const Be of he)Be.identifier===ke.identifier&&(Be.cur=Pf(ke,T));if(W&&!K&&!re&&he.length===1){const ke=he[0];J4(ke.cur[0]-ke[0])>J4(ke.cur[1]-ke[1])?re=!0:K=!0}for(const ke of he)ke.cur&&(ke[0]=ke.cur[0],ke[1]=ke.cur[1]);Q=!0,np(te),fe(te)}function fe(te){const ke=he[0],Be=ke.point0;var je;switch(B=ke[0]-Be[0],V=ke[1]-Be[1],N){case rp:case W4:{k&&(B=Un(R-O,Fn(q-U,B)),P=O+B,X=U+B),D&&(V=Un(j-Y,Fn(I-z,V)),H=Y+V,A=z+V);break}case q0:{he[1]?(k&&(P=Un(R,Fn(q,he[0][0])),X=Un(R,Fn(q,he[1][0])),k=1),D&&(H=Un(j,Fn(I,he[0][1])),A=Un(j,Fn(I,he[1][1])),D=1)):(k<0?(B=Un(R-O,Fn(q-O,B)),P=O+B,X=U):k>0&&(B=Un(R-U,Fn(q-U,B)),P=O,X=U+B),D<0?(V=Un(j-Y,Fn(I-Y,V)),H=Y+V,A=z):D>0&&(V=Un(j-z,Fn(I-z,V)),H=Y,A=z+V));break}case j0:{k&&(P=Un(R,Fn(q,O-B*k)),X=Un(R,Fn(q,U+B*k))),D&&(H=Un(j,Fn(I,Y-V*D)),A=Un(j,Fn(I,z+V*D)));break}}X<P&&(k*=-1,je=O,O=U,U=je,je=P,P=X,X=je,C in nb&&Ce.attr("cursor",ca[C=nb[C]])),A<H&&(D*=-1,je=Y,Y=z,z=je,je=H,H=A,A=je,C in rb&&Ce.attr("cursor",ca[C=rb[C]])),F.selection&&(E=F.selection),K&&(P=E[0][0],X=E[1][0]),re&&(H=E[0][1],A=E[1][1]),(E[0][0]!==P||E[0][1]!==H||E[1][0]!==X||E[1][1]!==A)&&(F.selection=[[P,H],[X,A]],g.call(T),ee.brush(te,N.name))}function ae(te){if(XR(te),te.touches){if(te.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else Z_(te.view,Q),le.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);pe.attr("pointer-events","all"),Ce.attr("cursor",ca.overlay),F.selection&&(E=F.selection),WR(E)&&(F.selection=null,g.call(T)),ee.end(te,N.name)}function Se(te){switch(te.keyCode){case 16:{W=k&&D;break}case 18:{N===q0&&(k&&(U=X-B*k,O=P+B*k),D&&(z=A-V*D,Y=H+V*D),N=j0,fe(te));break}case 32:{(N===q0||N===j0)&&(k<0?U=X-B:k>0&&(O=P-B),D<0?z=A-V:D>0&&(Y=H-V),N=rp,Ce.attr("cursor",ca.selection),fe(te));break}default:return}np(te)}function we(te){switch(te.keyCode){case 16:{W&&(K=re=W=!1,fe(te));break}case 18:{N===j0&&(k<0?U=X:k>0&&(O=P),D<0?z=A:D>0&&(Y=H),N=q0,fe(te));break}case 32:{N===rp&&(te.altKey?(k&&(U=X-B*k,O=P+B*k),D&&(z=A-V*D,Y=H+V*D),N=j0):(k<0?U=X:k>0&&(O=P),D<0?z=A:D>0&&(Y=H),N=q0),Ce.attr("cursor",ca[C]),fe(te));break}default:return}np(te)}}function m(w){b(this,arguments).moved(w)}function _(w){b(this,arguments).ended(w)}function p(){var w=this.__brush||{selection:null};return w.extent=tb(e.apply(this,arguments)),w.dim=t,w}return d.extent=function(w){return arguments.length?(e=typeof w=="function"?w:tp(tb(w)),d):e},d.filter=function(w){return arguments.length?(o=typeof w=="function"?w:tp(!!w),d):o},d.touchable=function(w){return arguments.length?(n=typeof w=="function"?w:tp(!!w),d):n},d.handleSize=function(w){return arguments.length?(u=+w,d):u},d.keyModifiers=function(w){return arguments.length?(a=!!w,d):a},d.on=function(){var w=c.on.apply(c,arguments);return w===c?d:w},d}var ib=Math.abs,sp=Math.cos,op=Math.sin,px=Math.PI,Zu=px/2,ab=px*2,sb=Math.max,lp=1e-12;function ob(t,e){return Array.from({length:e-t},(o,n)=>t+n)}function tD(t){return function(e,o){return t(e.source.value+e.target.value,o.source.value+o.target.value)}}function nD(){return rD(!1)}function rD(t,e){var o=0,n=null,a=null,c=null;function u(f){var d=f.length,g=new Array(d),b=ob(0,d),x=new Array(d*d),y=new Array(d),m=0,_;f=Float64Array.from({length:d*d},(p,w)=>f[w/d|0][w%d]);for(let p=0;p<d;++p){let w=0;for(let T=0;T<d;++T)w+=f[p*d+T]+t*f[T*d+p];m+=g[p]=w}m=sb(0,ab-o*d)/m,_=m?o:ab/d;{let p=0;n&&b.sort((w,T)=>n(g[w],g[T]));for(const w of b){const T=p;{const C=ob(0,d).filter(N=>f[w*d+N]||f[N*d+w]);a&&C.sort((N,k)=>a(f[w*d+N],f[w*d+k]));for(const N of C){let k;if(w<N?(k=x[w*d+N]||(x[w*d+N]={source:null,target:null}),k.source={index:w,startAngle:p,endAngle:p+=f[w*d+N]*m,value:f[w*d+N]}):(k=x[N*d+w]||(x[N*d+w]={source:null,target:null}),k.target={index:w,startAngle:p,endAngle:p+=f[w*d+N]*m,value:f[w*d+N]},w===N&&(k.source=k.target)),k.source&&k.target&&k.source.value<k.target.value){const D=k.source;k.source=k.target,k.target=D}}y[w]={index:w,startAngle:T,endAngle:p,value:g[w]}}p+=_}}return x=Object.values(x),x.groups=y,c?x.sort(c):x}return u.padAngle=function(f){return arguments.length?(o=sb(0,f),u):o},u.sortGroups=function(f){return arguments.length?(n=f,u):n},u.sortSubgroups=function(f){return arguments.length?(a=f,u):a},u.sortChords=function(f){return arguments.length?(f==null?c=null:(c=tD(f))._=f,u):c&&c._},u}const Pv=Math.PI,Hv=2*Pv,ks=1e-6,iD=Hv-ks;function gx(t){this._+=t[0];for(let e=1,o=t.length;e<o;++e)this._+=arguments[e]+t[e]}function aD(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gx;const o=10**e;return function(n){this._+=n[0];for(let a=1,c=n.length;a<c;++a)this._+=Math.round(arguments[a]*o)/o+n[a]}}class Xm{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gx:aD(e)}moveTo(e,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,o){this._append`L${this._x1=+e},${this._y1=+o}`}quadraticCurveTo(e,o,n,a){this._append`Q${+e},${+o},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,o,n,a,c,u){this._append`C${+e},${+o},${+n},${+a},${this._x1=+c},${this._y1=+u}`}arcTo(e,o,n,a,c){if(e=+e,o=+o,n=+n,a=+a,c=+c,c<0)throw new Error(`negative radius: ${c}`);let u=this._x1,f=this._y1,d=n-e,g=a-o,b=u-e,x=f-o,y=b*b+x*x;if(this._x1===null)this._append`M${this._x1=e},${this._y1=o}`;else if(y>ks)if(!(Math.abs(x*d-g*b)>ks)||!c)this._append`L${this._x1=e},${this._y1=o}`;else{let m=n-u,_=a-f,p=d*d+g*g,w=m*m+_*_,T=Math.sqrt(p),C=Math.sqrt(y),N=c*Math.tan((Pv-Math.acos((p+y-w)/(2*T*C)))/2),k=N/C,D=N/T;Math.abs(k-1)>ks&&this._append`L${e+k*b},${o+k*x}`,this._append`A${c},${c},0,0,${+(x*m>b*_)},${this._x1=e+D*d},${this._y1=o+D*g}`}}arc(e,o,n,a,c,u){if(e=+e,o=+o,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(a),d=n*Math.sin(a),g=e+f,b=o+d,x=1^u,y=u?a-c:c-a;this._x1===null?this._append`M${g},${b}`:(Math.abs(this._x1-g)>ks||Math.abs(this._y1-b)>ks)&&this._append`L${g},${b}`,n&&(y<0&&(y=y%Hv+Hv),y>iD?this._append`A${n},${n},0,1,${x},${e-f},${o-d}A${n},${n},0,1,${x},${this._x1=g},${this._y1=b}`:y>ks&&this._append`A${n},${n},0,${+(y>=Pv)},${x},${this._x1=e+n*Math.cos(c)},${this._y1=o+n*Math.sin(c)}`)}rect(e,o,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+o}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function vx(){return new Xm}vx.prototype=Xm.prototype;var sD=Array.prototype.slice;function P0(t){return function(){return t}}function oD(t){return t.source}function lD(t){return t.target}function lb(t){return t.radius}function cD(t){return t.startAngle}function uD(t){return t.endAngle}function fD(){return 0}function hD(t){var e=oD,o=lD,n=lb,a=lb,c=cD,u=uD,f=fD,d=null;function g(){var b,x=e.apply(this,arguments),y=o.apply(this,arguments),m=f.apply(this,arguments)/2,_=sD.call(arguments),p=+n.apply(this,(_[0]=x,_)),w=c.apply(this,_)-Zu,T=u.apply(this,_)-Zu,C=+a.apply(this,(_[0]=y,_)),N=c.apply(this,_)-Zu,k=u.apply(this,_)-Zu;if(d||(d=b=vx()),m>lp&&(ib(T-w)>m*2+lp?T>w?(w+=m,T-=m):(w-=m,T+=m):w=T=(w+T)/2,ib(k-N)>m*2+lp?k>N?(N+=m,k-=m):(N-=m,k+=m):N=k=(N+k)/2),d.moveTo(p*sp(w),p*op(w)),d.arc(0,0,p,w,T),(w!==N||T!==k)&&(d.quadraticCurveTo(0,0,C*sp(N),C*op(N)),d.arc(0,0,C,N,k)),d.quadraticCurveTo(0,0,p*sp(w),p*op(w)),d.closePath(),b)return d=null,b+""||null}return g.radius=function(b){return arguments.length?(n=a=typeof b=="function"?b:P0(+b),g):n},g.sourceRadius=function(b){return arguments.length?(n=typeof b=="function"?b:P0(+b),g):n},g.targetRadius=function(b){return arguments.length?(a=typeof b=="function"?b:P0(+b),g):a},g.startAngle=function(b){return arguments.length?(c=typeof b=="function"?b:P0(+b),g):c},g.endAngle=function(b){return arguments.length?(u=typeof b=="function"?b:P0(+b),g):u},g.padAngle=function(b){return arguments.length?(f=typeof b=="function"?b:P0(+b),g):f},g.source=function(b){return arguments.length?(e=b,g):e},g.target=function(b){return arguments.length?(o=b,g):o},g.context=function(b){return arguments.length?(d=b??null,g):d},g}function dD(){return hD()}var cb={},cp={},up=34,Ml=10,fp=13;function mx(t){return new Function("d","return {"+t.map(function(e,o){return JSON.stringify(e)+": d["+o+'] || ""'}).join(",")+"}")}function pD(t,e){var o=mx(t);return function(n,a){return e(o(n),a,t)}}function ub(t){var e=Object.create(null),o=[];return t.forEach(function(n){for(var a in n)a in e||o.push(e[a]=a)}),o}function dr(t,e){var o=t+"",n=o.length;return n<e?new Array(e-n+1).join(0)+o:o}function gD(t){return t<0?"-"+dr(-t,6):t>9999?"+"+dr(t,6):dr(t,4)}function vD(t){var e=t.getUTCHours(),o=t.getUTCMinutes(),n=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":gD(t.getUTCFullYear())+"-"+dr(t.getUTCMonth()+1,2)+"-"+dr(t.getUTCDate(),2)+(a?"T"+dr(e,2)+":"+dr(o,2)+":"+dr(n,2)+"."+dr(a,3)+"Z":n?"T"+dr(e,2)+":"+dr(o,2)+":"+dr(n,2)+"Z":o||e?"T"+dr(e,2)+":"+dr(o,2)+"Z":"")}function mD(t){var e=new RegExp('["'+t+`
\r]`),o=t.charCodeAt(0);function n(x,y){var m,_,p=a(x,function(w,T){if(m)return m(w,T-1);_=w,m=y?pD(w,y):mx(w)});return p.columns=_||[],p}function a(x,y){var m=[],_=x.length,p=0,w=0,T,C=_<=0,N=!1;x.charCodeAt(_-1)===Ml&&--_,x.charCodeAt(_-1)===fp&&--_;function k(){if(C)return cp;if(N)return N=!1,cb;var F,G=p,E;if(x.charCodeAt(G)===up){for(;p++<_&&x.charCodeAt(p)!==up||x.charCodeAt(++p)===up;);return(F=p)>=_?C=!0:(E=x.charCodeAt(p++))===Ml?N=!0:E===fp&&(N=!0,x.charCodeAt(p)===Ml&&++p),x.slice(G+1,F-1).replace(/""/g,'"')}for(;p<_;){if((E=x.charCodeAt(F=p++))===Ml)N=!0;else if(E===fp)N=!0,x.charCodeAt(p)===Ml&&++p;else if(E!==o)continue;return x.slice(G,F)}return C=!0,x.slice(G,_)}for(;(T=k())!==cp;){for(var D=[];T!==cb&&T!==cp;)D.push(T),T=k();y&&(D=y(D,w++))==null||m.push(D)}return m}function c(x,y){return x.map(function(m){return y.map(function(_){return b(m[_])}).join(t)})}function u(x,y){return y==null&&(y=ub(x)),[y.map(b).join(t)].concat(c(x,y)).join(`
`)}function f(x,y){return y==null&&(y=ub(x)),c(x,y).join(`
`)}function d(x){return x.map(g).join(`
`)}function g(x){return x.map(b).join(t)}function b(x){return x==null?"":x instanceof Date?vD(x):e.test(x+="")?'"'+x.replace(/"/g,'""')+'"':x}return{parse:n,parseRows:a,format:u,formatBody:f,formatRows:d,formatRow:g,formatValue:b}}var yD=mD(","),bD=yD.parse;function _D(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function xD(t,e){return fetch(t,e).then(_D)}function wD(t){return function(e,o,n){return arguments.length===2&&typeof o=="function"&&(n=o,o=void 0),xD(e,o).then(function(a){return t(a,n)})}}var e0=wD(bD);function SD(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Ah(t,e){return fetch(t,e).then(SD)}function yx(t,e){var o,n=1;t==null&&(t=0),e==null&&(e=0);function a(){var c,u=o.length,f,d=0,g=0;for(c=0;c<u;++c)f=o[c],d+=f.x,g+=f.y;for(d=(d/u-t)*n,g=(g/u-e)*n,c=0;c<u;++c)f=o[c],f.x-=d,f.y-=g}return a.initialize=function(c){o=c},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(e=+c,a):e},a.strength=function(c){return arguments.length?(n=+c,a):n},a}function TD(t){const e=+this._x.call(null,t),o=+this._y.call(null,t);return bx(this.cover(e,o),e,o,t)}function bx(t,e,o,n){if(isNaN(e)||isNaN(o))return t;var a,c=t._root,u={data:n},f=t._x0,d=t._y0,g=t._x1,b=t._y1,x,y,m,_,p,w,T,C;if(!c)return t._root=u,t;for(;c.length;)if((p=e>=(x=(f+g)/2))?f=x:g=x,(w=o>=(y=(d+b)/2))?d=y:b=y,a=c,!(c=c[T=w<<1|p]))return a[T]=u,t;if(m=+t._x.call(null,c.data),_=+t._y.call(null,c.data),e===m&&o===_)return u.next=c,a?a[T]=u:t._root=u,t;do a=a?a[T]=new Array(4):t._root=new Array(4),(p=e>=(x=(f+g)/2))?f=x:g=x,(w=o>=(y=(d+b)/2))?d=y:b=y;while((T=w<<1|p)===(C=(_>=y)<<1|m>=x));return a[C]=c,a[T]=u,t}function CD(t){var e,o,n=t.length,a,c,u=new Array(n),f=new Array(n),d=1/0,g=1/0,b=-1/0,x=-1/0;for(o=0;o<n;++o)isNaN(a=+this._x.call(null,e=t[o]))||isNaN(c=+this._y.call(null,e))||(u[o]=a,f[o]=c,a<d&&(d=a),a>b&&(b=a),c<g&&(g=c),c>x&&(x=c));if(d>b||g>x)return this;for(this.cover(d,g).cover(b,x),o=0;o<n;++o)bx(this,u[o],f[o],t[o]);return this}function ED(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var o=this._x0,n=this._y0,a=this._x1,c=this._y1;if(isNaN(o))a=(o=Math.floor(t))+1,c=(n=Math.floor(e))+1;else{for(var u=a-o||1,f=this._root,d,g;o>t||t>=a||n>e||e>=c;)switch(g=(e<n)<<1|t<o,d=new Array(4),d[g]=f,f=d,u*=2,g){case 0:a=o+u,c=n+u;break;case 1:o=a-u,c=n+u;break;case 2:a=o+u,n=c-u;break;case 3:o=a-u,n=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=o,this._y0=n,this._x1=a,this._y1=c,this}function AD(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function MD(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ir(t,e,o,n,a){this.node=t,this.x0=e,this.y0=o,this.x1=n,this.y1=a}function kD(t,e,o){var n,a=this._x0,c=this._y0,u,f,d,g,b=this._x1,x=this._y1,y=[],m=this._root,_,p;for(m&&y.push(new ir(m,a,c,b,x)),o==null?o=1/0:(a=t-o,c=e-o,b=t+o,x=e+o,o*=o);_=y.pop();)if(!(!(m=_.node)||(u=_.x0)>b||(f=_.y0)>x||(d=_.x1)<a||(g=_.y1)<c))if(m.length){var w=(u+d)/2,T=(f+g)/2;y.push(new ir(m[3],w,T,d,g),new ir(m[2],u,T,w,g),new ir(m[1],w,f,d,T),new ir(m[0],u,f,w,T)),(p=(e>=T)<<1|t>=w)&&(_=y[y.length-1],y[y.length-1]=y[y.length-1-p],y[y.length-1-p]=_)}else{var C=t-+this._x.call(null,m.data),N=e-+this._y.call(null,m.data),k=C*C+N*N;if(k<o){var D=Math.sqrt(o=k);a=t-D,c=e-D,b=t+D,x=e+D,n=m.data}}return n}function ND(t){if(isNaN(b=+this._x.call(null,t))||isNaN(x=+this._y.call(null,t)))return this;var e,o=this._root,n,a,c,u=this._x0,f=this._y0,d=this._x1,g=this._y1,b,x,y,m,_,p,w,T;if(!o)return this;if(o.length)for(;;){if((_=b>=(y=(u+d)/2))?u=y:d=y,(p=x>=(m=(f+g)/2))?f=m:g=m,e=o,!(o=o[w=p<<1|_]))return this;if(!o.length)break;(e[w+1&3]||e[w+2&3]||e[w+3&3])&&(n=e,T=w)}for(;o.data!==t;)if(a=o,!(o=o.next))return this;return(c=o.next)&&delete o.next,a?(c?a.next=c:delete a.next,this):e?(c?e[w]=c:delete e[w],(o=e[0]||e[1]||e[2]||e[3])&&o===(e[3]||e[2]||e[1]||e[0])&&!o.length&&(n?n[T]=o:this._root=o),this):(this._root=c,this)}function RD(t){for(var e=0,o=t.length;e<o;++e)this.remove(t[e]);return this}function DD(){return this._root}function OD(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function zD(t){var e=[],o,n=this._root,a,c,u,f,d;for(n&&e.push(new ir(n,this._x0,this._y0,this._x1,this._y1));o=e.pop();)if(!t(n=o.node,c=o.x0,u=o.y0,f=o.x1,d=o.y1)&&n.length){var g=(c+f)/2,b=(u+d)/2;(a=n[3])&&e.push(new ir(a,g,b,f,d)),(a=n[2])&&e.push(new ir(a,c,b,g,d)),(a=n[1])&&e.push(new ir(a,g,u,f,b)),(a=n[0])&&e.push(new ir(a,c,u,g,b))}return this}function BD(t){var e=[],o=[],n;for(this._root&&e.push(new ir(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var a=n.node;if(a.length){var c,u=n.x0,f=n.y0,d=n.x1,g=n.y1,b=(u+d)/2,x=(f+g)/2;(c=a[0])&&e.push(new ir(c,u,f,b,x)),(c=a[1])&&e.push(new ir(c,b,f,d,x)),(c=a[2])&&e.push(new ir(c,u,x,b,g)),(c=a[3])&&e.push(new ir(c,b,x,d,g))}o.push(n)}for(;n=o.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function LD(t){return t[0]}function qD(t){return arguments.length?(this._x=t,this):this._x}function jD(t){return t[1]}function PD(t){return arguments.length?(this._y=t,this):this._y}function _x(t,e,o){var n=new Vm(e??LD,o??jD,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function Vm(t,e,o,n,a,c){this._x=t,this._y=e,this._x0=o,this._y0=n,this._x1=a,this._y1=c,this._root=void 0}function fb(t){for(var e={data:t.data},o=e;t=t.next;)o=o.next={data:t.data};return e}var or=_x.prototype=Vm.prototype;or.copy=function(){var t=new Vm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,o,n;if(!e)return t;if(!e.length)return t._root=fb(e),t;for(o=[{source:e,target:t._root=new Array(4)}];e=o.pop();)for(var a=0;a<4;++a)(n=e.source[a])&&(n.length?o.push({source:n,target:e.target[a]=new Array(4)}):e.target[a]=fb(n));return t};or.add=TD;or.addAll=CD;or.cover=ED;or.data=AD;or.extent=MD;or.find=kD;or.remove=ND;or.removeAll=RD;or.root=DD;or.size=OD;or.visit=zD;or.visitAfter=BD;or.x=qD;or.y=PD;function Wl(t){return function(){return t}}function Z0(t){return(t()-.5)*1e-6}function HD(t){return t.index}function hb(t,e){var o=t.get(e);if(!o)throw new Error("node not found: "+e);return o}function xx(t){var e=HD,o=x,n,a=Wl(30),c,u,f,d,g,b=1;t==null&&(t=[]);function x(w){return 1/Math.min(f[w.source.index],f[w.target.index])}function y(w){for(var T=0,C=t.length;T<b;++T)for(var N=0,k,D,F,G,E,R,O;N<C;++N)k=t[N],D=k.source,F=k.target,G=F.x+F.vx-D.x-D.vx||Z0(g),E=F.y+F.vy-D.y-D.vy||Z0(g),R=Math.sqrt(G*G+E*E),R=(R-c[N])/R*w*n[N],G*=R,E*=R,F.vx-=G*(O=d[N]),F.vy-=E*O,D.vx+=G*(O=1-O),D.vy+=E*O}function m(){if(u){var w,T=u.length,C=t.length,N=new Map(u.map((D,F)=>[e(D,F,u),D])),k;for(w=0,f=new Array(T);w<C;++w)k=t[w],k.index=w,typeof k.source!="object"&&(k.source=hb(N,k.source)),typeof k.target!="object"&&(k.target=hb(N,k.target)),f[k.source.index]=(f[k.source.index]||0)+1,f[k.target.index]=(f[k.target.index]||0)+1;for(w=0,d=new Array(C);w<C;++w)k=t[w],d[w]=f[k.source.index]/(f[k.source.index]+f[k.target.index]);n=new Array(C),_(),c=new Array(C),p()}}function _(){if(u)for(var w=0,T=t.length;w<T;++w)n[w]=+o(t[w],w,t)}function p(){if(u)for(var w=0,T=t.length;w<T;++w)c[w]=+a(t[w],w,t)}return y.initialize=function(w,T){u=w,g=T,m()},y.links=function(w){return arguments.length?(t=w,m(),y):t},y.id=function(w){return arguments.length?(e=w,y):e},y.iterations=function(w){return arguments.length?(b=+w,y):b},y.strength=function(w){return arguments.length?(o=typeof w=="function"?w:Wl(+w),_(),y):o},y.distance=function(w){return arguments.length?(a=typeof w=="function"?w:Wl(+w),p(),y):a},y}const YD=1664525,UD=1013904223,db=4294967296;function FD(){let t=1;return()=>(t=(YD*t+UD)%db)/db}function GD(t){return t.x}function $D(t){return t.y}var XD=10,VD=Math.PI*(3-Math.sqrt(5));function wx(t){var e,o=1,n=.001,a=1-Math.pow(n,1/300),c=0,u=.6,f=new Map,d=Um(x),g=Rc("tick","end"),b=FD();t==null&&(t=[]);function x(){y(),g.call("tick",e),o<n&&(d.stop(),g.call("end",e))}function y(p){var w,T=t.length,C;p===void 0&&(p=1);for(var N=0;N<p;++N)for(o+=(c-o)*a,f.forEach(function(k){k(o)}),w=0;w<T;++w)C=t[w],C.fx==null?C.x+=C.vx*=u:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=u:(C.y=C.fy,C.vy=0);return e}function m(){for(var p=0,w=t.length,T;p<w;++p){if(T=t[p],T.index=p,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var C=XD*Math.sqrt(.5+p),N=p*VD;T.x=C*Math.cos(N),T.y=C*Math.sin(N)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function _(p){return p.initialize&&p.initialize(t,b),p}return m(),e={tick:y,restart:function(){return d.restart(x),e},stop:function(){return d.stop(),e},nodes:function(p){return arguments.length?(t=p,m(),f.forEach(_),e):t},alpha:function(p){return arguments.length?(o=+p,e):o},alphaMin:function(p){return arguments.length?(n=+p,e):n},alphaDecay:function(p){return arguments.length?(a=+p,e):+a},alphaTarget:function(p){return arguments.length?(c=+p,e):c},velocityDecay:function(p){return arguments.length?(u=1-p,e):1-u},randomSource:function(p){return arguments.length?(b=p,f.forEach(_),e):b},force:function(p,w){return arguments.length>1?(w==null?f.delete(p):f.set(p,_(w)),e):f.get(p)},find:function(p,w,T){var C=0,N=t.length,k,D,F,G,E;for(T==null?T=1/0:T*=T,C=0;C<N;++C)G=t[C],k=p-G.x,D=w-G.y,F=k*k+D*D,F<T&&(E=G,T=F);return E},on:function(p,w){return arguments.length>1?(g.on(p,w),e):g.on(p)}}}function Sx(){var t,e,o,n,a=Wl(-30),c,u=1,f=1/0,d=.81;function g(m){var _,p=t.length,w=_x(t,GD,$D).visitAfter(x);for(n=m,_=0;_<p;++_)e=t[_],w.visit(y)}function b(){if(t){var m,_=t.length,p;for(c=new Array(_),m=0;m<_;++m)p=t[m],c[p.index]=+a(p,m,t)}}function x(m){var _=0,p,w,T=0,C,N,k;if(m.length){for(C=N=k=0;k<4;++k)(p=m[k])&&(w=Math.abs(p.value))&&(_+=p.value,T+=w,C+=w*p.x,N+=w*p.y);m.x=C/T,m.y=N/T}else{p=m,p.x=p.data.x,p.y=p.data.y;do _+=c[p.data.index];while(p=p.next)}m.value=_}function y(m,_,p,w){if(!m.value)return!0;var T=m.x-e.x,C=m.y-e.y,N=w-_,k=T*T+C*C;if(N*N/d<k)return k<f&&(T===0&&(T=Z0(o),k+=T*T),C===0&&(C=Z0(o),k+=C*C),k<u&&(k=Math.sqrt(u*k)),e.vx+=T*m.value*n/k,e.vy+=C*m.value*n/k),!0;if(m.length||k>=f)return;(m.data!==e||m.next)&&(T===0&&(T=Z0(o),k+=T*T),C===0&&(C=Z0(o),k+=C*C),k<u&&(k=Math.sqrt(u*k)));do m.data!==e&&(N=c[m.data.index]*n/k,e.vx+=T*N,e.vy+=C*N);while(m=m.next)}return g.initialize=function(m,_){t=m,o=_,b()},g.strength=function(m){return arguments.length?(a=typeof m=="function"?m:Wl(+m),b(),g):a},g.distanceMin=function(m){return arguments.length?(u=m*m,g):Math.sqrt(u)},g.distanceMax=function(m){return arguments.length?(f=m*m,g):Math.sqrt(f)},g.theta=function(m){return arguments.length?(d=m*m,g):Math.sqrt(d)},g}function ID(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vf(t,e){if((o=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var o,n=t.slice(0,o);return[n.length>1?n[0]+n.slice(2):n,+t.slice(o+1)]}function ho(t){return t=Vf(Math.abs(t)),t?t[1]:NaN}function ZD(t,e){return function(o,n){for(var a=o.length,c=[],u=0,f=t[0],d=0;a>0&&f>0&&(d+f+1>n&&(f=Math.max(1,n-d)),c.push(o.substring(a-=f,a+f)),!((d+=f+1)>n));)f=t[u=(u+1)%t.length];return c.reverse().join(e)}}function QD(t){return function(e){return e.replace(/[0-9]/g,function(o){return t[+o]})}}var KD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function If(t){if(!(e=KD.exec(t)))throw new Error("invalid format: "+t);var e;return new Im({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}If.prototype=Im.prototype;function Im(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Im.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WD(t){e:for(var e=t.length,o=1,n=-1,a;o<e;++o)switch(t[o]){case".":n=a=o;break;case"0":n===0&&(n=o),a=o;break;default:if(!+t[o])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Tx;function JD(t,e){var o=Vf(t,e);if(!o)return t+"";var n=o[0],a=o[1],c=a-(Tx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=n.length;return c===u?n:c>u?n+new Array(c-u+1).join("0"):c>0?n.slice(0,c)+"."+n.slice(c):"0."+new Array(1-c).join("0")+Vf(t,Math.max(0,e+c-1))[0]}function pb(t,e){var o=Vf(t,e);if(!o)return t+"";var n=o[0],a=o[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const gb={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ID,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pb(t*100,e),r:pb,s:JD,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vb(t){return t}var mb=Array.prototype.map,yb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eO(t){var e=t.grouping===void 0||t.thousands===void 0?vb:ZD(mb.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?vb:QD(mb.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function g(x){x=If(x);var y=x.fill,m=x.align,_=x.sign,p=x.symbol,w=x.zero,T=x.width,C=x.comma,N=x.precision,k=x.trim,D=x.type;D==="n"?(C=!0,D="g"):gb[D]||(N===void 0&&(N=12),k=!0,D="g"),(w||y==="0"&&m==="=")&&(w=!0,y="0",m="=");var F=p==="$"?o:p==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",G=p==="$"?n:/[%p]/.test(D)?u:"",E=gb[D],R=/[defgprs%]/.test(D);N=N===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function O(P){var j=F,Y=G,H,q,U;if(D==="c")Y=E(P)+Y,P="";else{P=+P;var X=P<0||1/P<0;if(P=isNaN(P)?d:E(Math.abs(P),N),k&&(P=WD(P)),X&&+P==0&&_!=="+"&&(X=!1),j=(X?_==="("?_:f:_==="-"||_==="("?"":_)+j,Y=(D==="s"?yb[8+Tx/3]:"")+Y+(X&&_==="("?")":""),R){for(H=-1,q=P.length;++H<q;)if(U=P.charCodeAt(H),48>U||U>57){Y=(U===46?a+P.slice(H+1):P.slice(H))+Y,P=P.slice(0,H);break}}}C&&!w&&(P=e(P,1/0));var I=j.length+P.length+Y.length,z=I<T?new Array(T-I+1).join(y):"";switch(C&&w&&(P=e(z+P,z.length?T-Y.length:1/0),z=""),m){case"<":P=j+P+Y+z;break;case"=":P=j+z+P+Y;break;case"^":P=z.slice(0,I=z.length>>1)+j+P+Y+z.slice(I);break;default:P=z+j+P+Y;break}return c(P)}return O.toString=function(){return x+""},O}function b(x,y){var m=g((x=If(x),x.type="f",x)),_=Math.max(-8,Math.min(8,Math.floor(ho(y)/3)))*3,p=Math.pow(10,-_),w=yb[8+_/3];return function(T){return m(p*T)+w}}return{format:g,formatPrefix:b}}var Qu,Zm,Cx;tO({thousands:",",grouping:[3],currency:["$",""]});function tO(t){return Qu=eO(t),Zm=Qu.format,Cx=Qu.formatPrefix,Qu}function nO(t){return Math.max(0,-ho(Math.abs(t)))}function rO(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ho(e)/3)))*3-ho(Math.abs(t)))}function iO(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ho(e)-ho(t))+1}var Ht=1e-6,xt=Math.PI,gr=xt/2,bb=xt/4,Ur=xt*2,Dr=180/xt,mn=xt/180,Kt=Math.abs,Ex=Math.atan,vc=Math.atan2,on=Math.cos,aO=Math.exp,sO=Math.log,ln=Math.sin,oO=Math.sign||function(t){return t>0?1:t<0?-1:0},t0=Math.sqrt,lO=Math.tan;function cO(t){return t>1?0:t<-1?xt:Math.acos(t)}function mc(t){return t>1?gr:t<-1?-gr:Math.asin(t)}function li(){}function Zf(t,e){t&&xb.hasOwnProperty(t.type)&&xb[t.type](t,e)}var _b={Feature:function(t,e){Zf(t.geometry,e)},FeatureCollection:function(t,e){for(var o=t.features,n=-1,a=o.length;++n<a;)Zf(o[n].geometry,e)}},xb={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var o=t.coordinates,n=-1,a=o.length;++n<a;)t=o[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Yv(t.coordinates,e,0)},MultiLineString:function(t,e){for(var o=t.coordinates,n=-1,a=o.length;++n<a;)Yv(o[n],e,0)},Polygon:function(t,e){wb(t.coordinates,e)},MultiPolygon:function(t,e){for(var o=t.coordinates,n=-1,a=o.length;++n<a;)wb(o[n],e)},GeometryCollection:function(t,e){for(var o=t.geometries,n=-1,a=o.length;++n<a;)Zf(o[n],e)}};function Yv(t,e,o){var n=-1,a=t.length-o,c;for(e.lineStart();++n<a;)c=t[n],e.point(c[0],c[1],c[2]);e.lineEnd()}function wb(t,e){var o=-1,n=t.length;for(e.polygonStart();++o<n;)Yv(t[o],e,1);e.polygonEnd()}function $0(t,e){t&&_b.hasOwnProperty(t.type)?_b[t.type](t,e):Zf(t,e)}function Uv(t){return[vc(t[1],t[0]),mc(t[2])]}function po(t){var e=t[0],o=t[1],n=on(o);return[n*on(e),n*ln(e),ln(o)]}function Ku(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Qf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function hp(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Wu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fv(t){var e=t0(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Gv(t,e){function o(n,a){return n=t(n,a),e(n[0],n[1])}return t.invert&&e.invert&&(o.invert=function(n,a){return n=e.invert(n,a),n&&t.invert(n[0],n[1])}),o}function $v(t,e){return Kt(t)>xt&&(t-=Math.round(t/Ur)*Ur),[t,e]}$v.invert=$v;function Ax(t,e,o){return(t%=Ur)?e||o?Gv(Tb(t),Cb(e,o)):Tb(t):e||o?Cb(e,o):$v}function Sb(t){return function(e,o){return e+=t,Kt(e)>xt&&(e-=Math.round(e/Ur)*Ur),[e,o]}}function Tb(t){var e=Sb(t);return e.invert=Sb(-t),e}function Cb(t,e){var o=on(t),n=ln(t),a=on(e),c=ln(e);function u(f,d){var g=on(d),b=on(f)*g,x=ln(f)*g,y=ln(d),m=y*o+b*n;return[vc(x*a-m*c,b*o-y*n),mc(m*a+x*c)]}return u.invert=function(f,d){var g=on(d),b=on(f)*g,x=ln(f)*g,y=ln(d),m=y*a-x*c;return[vc(x*a+y*c,b*o+m*n),mc(m*o-b*n)]},u}function uO(t){t=Ax(t[0]*mn,t[1]*mn,t.length>2?t[2]*mn:0);function e(o){return o=t(o[0]*mn,o[1]*mn),o[0]*=Dr,o[1]*=Dr,o}return e.invert=function(o){return o=t.invert(o[0]*mn,o[1]*mn),o[0]*=Dr,o[1]*=Dr,o},e}function fO(t,e,o,n,a,c){if(o){var u=on(e),f=ln(e),d=n*o;a==null?(a=e+n*Ur,c=e-d/2):(a=Eb(u,a),c=Eb(u,c),(n>0?a<c:a>c)&&(a+=n*Ur));for(var g,b=a;n>0?b>c:b<c;b-=d)g=Uv([u,-f*on(b),-f*ln(b)]),t.point(g[0],g[1])}}function Eb(t,e){e=po(e),e[0]-=t,Fv(e);var o=cO(-e[1]);return((-e[2]<0?-o:o)+Ur-Ht)%Ur}function Mx(){var t=[],e;return{point:function(o,n,a){e.push([o,n,a])},lineStart:function(){t.push(e=[])},lineEnd:li,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var o=t;return t=[],e=null,o}}}function Cf(t,e){return Kt(t[0]-e[0])<Ht&&Kt(t[1]-e[1])<Ht}function Ju(t,e,o,n){this.x=t,this.z=e,this.o=o,this.e=n,this.v=!1,this.n=this.p=null}function kx(t,e,o,n,a){var c=[],u=[],f,d;if(t.forEach(function(_){if(!((p=_.length-1)<=0)){var p,w=_[0],T=_[p],C;if(Cf(w,T)){if(!w[2]&&!T[2]){for(a.lineStart(),f=0;f<p;++f)a.point((w=_[f])[0],w[1]);a.lineEnd();return}T[0]+=2*Ht}c.push(C=new Ju(w,_,null,!0)),u.push(C.o=new Ju(w,null,C,!1)),c.push(C=new Ju(T,_,null,!1)),u.push(C.o=new Ju(T,null,C,!0))}}),!!c.length){for(u.sort(e),Ab(c),Ab(u),f=0,d=u.length;f<d;++f)u[f].e=o=!o;for(var g=c[0],b,x;;){for(var y=g,m=!0;y.v;)if((y=y.n)===g)return;b=y.z,a.lineStart();do{if(y.v=y.o.v=!0,y.e){if(m)for(f=0,d=b.length;f<d;++f)a.point((x=b[f])[0],x[1]);else n(y.x,y.n.x,1,a);y=y.n}else{if(m)for(b=y.p.z,f=b.length-1;f>=0;--f)a.point((x=b[f])[0],x[1]);else n(y.x,y.p.x,-1,a);y=y.p}y=y.o,b=y.z,m=!m}while(!y.v);a.lineEnd()}}}function Ab(t){if(e=t.length){for(var e,o=0,n=t[0],a;++o<e;)n.n=a=t[o],a.p=n,n=a;n.n=a=t[0],a.p=n}}function dp(t){return Kt(t[0])<=xt?t[0]:oO(t[0])*((Kt(t[0])+xt)%Ur-xt)}function hO(t,e){var o=dp(e),n=e[1],a=ln(n),c=[ln(o),-on(o),0],u=0,f=0,d=new $s;a===1?n=gr+Ht:a===-1&&(n=-gr-Ht);for(var g=0,b=t.length;g<b;++g)if(y=(x=t[g]).length)for(var x,y,m=x[y-1],_=dp(m),p=m[1]/2+bb,w=ln(p),T=on(p),C=0;C<y;++C,_=k,w=F,T=G,m=N){var N=x[C],k=dp(N),D=N[1]/2+bb,F=ln(D),G=on(D),E=k-_,R=E>=0?1:-1,O=R*E,P=O>xt,j=w*F;if(d.add(vc(j*R*ln(O),T*G+j*on(O))),u+=P?E+R*Ur:E,P^_>=o^k>=o){var Y=Qf(po(m),po(N));Fv(Y);var H=Qf(c,Y);Fv(H);var q=(P^E>=0?-1:1)*mc(H[2]);(n>q||n===q&&(Y[0]||Y[1]))&&(f+=P^E>=0?1:-1)}}return(u<-Ht||u<Ht&&d<-1e-12)^f&1}function Nx(t,e,o,n){return function(a){var c=e(a),u=Mx(),f=e(u),d=!1,g,b,x,y={point:m,lineStart:p,lineEnd:w,polygonStart:function(){y.point=T,y.lineStart=C,y.lineEnd=N,b=[],g=[]},polygonEnd:function(){y.point=m,y.lineStart=p,y.lineEnd=w,b=z_(b);var k=hO(g,n);b.length?(d||(a.polygonStart(),d=!0),kx(b,pO,k,o,a)):k&&(d||(a.polygonStart(),d=!0),a.lineStart(),o(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),b=g=null},sphere:function(){a.polygonStart(),a.lineStart(),o(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function m(k,D){t(k,D)&&a.point(k,D)}function _(k,D){c.point(k,D)}function p(){y.point=_,c.lineStart()}function w(){y.point=m,c.lineEnd()}function T(k,D){x.push([k,D]),f.point(k,D)}function C(){f.lineStart(),x=[]}function N(){T(x[0][0],x[0][1]),f.lineEnd();var k=f.clean(),D=u.result(),F,G=D.length,E,R,O;if(x.pop(),g.push(x),x=null,!!G){if(k&1){if(R=D[0],(E=R.length-1)>0){for(d||(a.polygonStart(),d=!0),a.lineStart(),F=0;F<E;++F)a.point((O=R[F])[0],O[1]);a.lineEnd()}return}G>1&&k&2&&D.push(D.pop().concat(D.shift())),b.push(D.filter(dO))}}return y}}function dO(t){return t.length>1}function pO(t,e){return((t=t.x)[0]<0?t[1]-gr-Ht:gr-t[1])-((e=e.x)[0]<0?e[1]-gr-Ht:gr-e[1])}const Mb=Nx(function(){return!0},gO,mO,[-xt,-gr]);function gO(t){var e=NaN,o=NaN,n=NaN,a;return{lineStart:function(){t.lineStart(),a=1},point:function(c,u){var f=c>0?xt:-xt,d=Kt(c-e);Kt(d-xt)<Ht?(t.point(e,o=(o+u)/2>0?gr:-gr),t.point(n,o),t.lineEnd(),t.lineStart(),t.point(f,o),t.point(c,o),a=0):n!==f&&d>=xt&&(Kt(e-n)<Ht&&(e-=n*Ht),Kt(c-f)<Ht&&(c-=f*Ht),o=vO(e,o,c,u),t.point(n,o),t.lineEnd(),t.lineStart(),t.point(f,o),a=0),t.point(e=c,o=u),n=f},lineEnd:function(){t.lineEnd(),e=o=NaN},clean:function(){return 2-a}}}function vO(t,e,o,n){var a,c,u=ln(t-o);return Kt(u)>Ht?Ex((ln(e)*(c=on(n))*ln(o)-ln(n)*(a=on(e))*ln(t))/(a*c*u)):(e+n)/2}function mO(t,e,o,n){var a;if(t==null)a=o*gr,n.point(-xt,a),n.point(0,a),n.point(xt,a),n.point(xt,0),n.point(xt,-a),n.point(0,-a),n.point(-xt,-a),n.point(-xt,0),n.point(-xt,a);else if(Kt(t[0]-e[0])>Ht){var c=t[0]<e[0]?xt:-xt;a=o*c/2,n.point(-c,a),n.point(0,a),n.point(c,a)}else n.point(e[0],e[1])}function yO(t){var e=on(t),o=2*mn,n=e>0,a=Kt(e)>Ht;function c(b,x,y,m){fO(m,t,o,y,b,x)}function u(b,x){return on(b)*on(x)>e}function f(b){var x,y,m,_,p;return{lineStart:function(){_=m=!1,p=1},point:function(w,T){var C=[w,T],N,k=u(w,T),D=n?k?0:g(w,T):k?g(w+(w<0?xt:-xt),T):0;if(!x&&(_=m=k)&&b.lineStart(),k!==m&&(N=d(x,C),(!N||Cf(x,N)||Cf(C,N))&&(C[2]=1)),k!==m)p=0,k?(b.lineStart(),N=d(C,x),b.point(N[0],N[1])):(N=d(x,C),b.point(N[0],N[1],2),b.lineEnd()),x=N;else if(a&&x&&n^k){var F;!(D&y)&&(F=d(C,x,!0))&&(p=0,n?(b.lineStart(),b.point(F[0][0],F[0][1]),b.point(F[1][0],F[1][1]),b.lineEnd()):(b.point(F[1][0],F[1][1]),b.lineEnd(),b.lineStart(),b.point(F[0][0],F[0][1],3)))}k&&(!x||!Cf(x,C))&&b.point(C[0],C[1]),x=C,m=k,y=D},lineEnd:function(){m&&b.lineEnd(),x=null},clean:function(){return p|(_&&m)<<1}}}function d(b,x,y){var m=po(b),_=po(x),p=[1,0,0],w=Qf(m,_),T=Ku(w,w),C=w[0],N=T-C*C;if(!N)return!y&&b;var k=e*T/N,D=-e*C/N,F=Qf(p,w),G=Wu(p,k),E=Wu(w,D);hp(G,E);var R=F,O=Ku(G,R),P=Ku(R,R),j=O*O-P*(Ku(G,G)-1);if(!(j<0)){var Y=t0(j),H=Wu(R,(-O-Y)/P);if(hp(H,G),H=Uv(H),!y)return H;var q=b[0],U=x[0],X=b[1],I=x[1],z;U<q&&(z=q,q=U,U=z);var A=U-q,B=Kt(A-xt)<Ht,V=B||A<Ht;if(!B&&I<X&&(z=X,X=I,I=z),V?B?X+I>0^H[1]<(Kt(H[0]-q)<Ht?X:I):X<=H[1]&&H[1]<=I:A>xt^(q<=H[0]&&H[0]<=U)){var Q=Wu(R,(-O+Y)/P);return hp(Q,G),[H,Uv(Q)]}}}function g(b,x){var y=n?t:xt-t,m=0;return b<-y?m|=1:b>y&&(m|=2),x<-y?m|=4:x>y&&(m|=8),m}return Nx(u,f,c,n?[0,-t]:[-xt,t-xt])}function bO(t,e,o,n,a,c){var u=t[0],f=t[1],d=e[0],g=e[1],b=0,x=1,y=d-u,m=g-f,_;if(_=o-u,!(!y&&_>0)){if(_/=y,y<0){if(_<b)return;_<x&&(x=_)}else if(y>0){if(_>x)return;_>b&&(b=_)}if(_=a-u,!(!y&&_<0)){if(_/=y,y<0){if(_>x)return;_>b&&(b=_)}else if(y>0){if(_<b)return;_<x&&(x=_)}if(_=n-f,!(!m&&_>0)){if(_/=m,m<0){if(_<b)return;_<x&&(x=_)}else if(m>0){if(_>x)return;_>b&&(b=_)}if(_=c-f,!(!m&&_<0)){if(_/=m,m<0){if(_>x)return;_>b&&(b=_)}else if(m>0){if(_<b)return;_<x&&(x=_)}return b>0&&(t[0]=u+b*y,t[1]=f+b*m),x<1&&(e[0]=u+x*y,e[1]=f+x*m),!0}}}}}var ql=1e9,ef=-ql;function _O(t,e,o,n){function a(g,b){return t<=g&&g<=o&&e<=b&&b<=n}function c(g,b,x,y){var m=0,_=0;if(g==null||(m=u(g,x))!==(_=u(b,x))||d(g,b)<0^x>0)do y.point(m===0||m===3?t:o,m>1?n:e);while((m=(m+x+4)%4)!==_);else y.point(b[0],b[1])}function u(g,b){return Kt(g[0]-t)<Ht?b>0?0:3:Kt(g[0]-o)<Ht?b>0?2:1:Kt(g[1]-e)<Ht?b>0?1:0:b>0?3:2}function f(g,b){return d(g.x,b.x)}function d(g,b){var x=u(g,1),y=u(b,1);return x!==y?x-y:x===0?b[1]-g[1]:x===1?g[0]-b[0]:x===2?g[1]-b[1]:b[0]-g[0]}return function(g){var b=g,x=Mx(),y,m,_,p,w,T,C,N,k,D,F,G={point:E,lineStart:j,lineEnd:Y,polygonStart:O,polygonEnd:P};function E(q,U){a(q,U)&&b.point(q,U)}function R(){for(var q=0,U=0,X=m.length;U<X;++U)for(var I=m[U],z=1,A=I.length,B=I[0],V,Q,W=B[0],K=B[1];z<A;++z)V=W,Q=K,B=I[z],W=B[0],K=B[1],Q<=n?K>n&&(W-V)*(n-Q)>(K-Q)*(t-V)&&++q:K<=n&&(W-V)*(n-Q)<(K-Q)*(t-V)&&--q;return q}function O(){b=x,y=[],m=[],F=!0}function P(){var q=R(),U=F&&q,X=(y=z_(y)).length;(U||X)&&(g.polygonStart(),U&&(g.lineStart(),c(null,null,1,g),g.lineEnd()),X&&kx(y,f,q,c,g),g.polygonEnd()),b=g,y=m=_=null}function j(){G.point=H,m&&m.push(_=[]),D=!0,k=!1,C=N=NaN}function Y(){y&&(H(p,w),T&&k&&x.rejoin(),y.push(x.result())),G.point=E,k&&b.lineEnd()}function H(q,U){var X=a(q,U);if(m&&_.push([q,U]),D)p=q,w=U,T=X,D=!1,X&&(b.lineStart(),b.point(q,U));else if(X&&k)b.point(q,U);else{var I=[C=Math.max(ef,Math.min(ql,C)),N=Math.max(ef,Math.min(ql,N))],z=[q=Math.max(ef,Math.min(ql,q)),U=Math.max(ef,Math.min(ql,U))];bO(I,z,t,e,o,n)?(k||(b.lineStart(),b.point(I[0],I[1])),b.point(z[0],z[1]),X||b.lineEnd(),F=!1):X&&(b.lineStart(),b.point(q,U),F=!1)}C=q,N=U,k=X}return G}}const Xv=t=>t;var pp=new $s,Vv=new $s,Rx,Dx,Iv,Zv,ha={point:li,lineStart:li,lineEnd:li,polygonStart:function(){ha.lineStart=xO,ha.lineEnd=SO},polygonEnd:function(){ha.lineStart=ha.lineEnd=ha.point=li,pp.add(Kt(Vv)),Vv=new $s},result:function(){var t=pp/2;return pp=new $s,t}};function xO(){ha.point=wO}function wO(t,e){ha.point=Ox,Rx=Iv=t,Dx=Zv=e}function Ox(t,e){Vv.add(Zv*t-Iv*e),Iv=t,Zv=e}function SO(){Ox(Rx,Dx)}var go=1/0,Kf=go,yc=-go,Wf=yc,Jf={point:TO,lineStart:li,lineEnd:li,polygonStart:li,polygonEnd:li,result:function(){var t=[[go,Kf],[yc,Wf]];return yc=Wf=-(Kf=go=1/0),t}};function TO(t,e){t<go&&(go=t),t>yc&&(yc=t),e<Kf&&(Kf=e),e>Wf&&(Wf=e)}var Qv=0,Kv=0,jl=0,eh=0,th=0,Q0=0,Wv=0,Jv=0,Pl=0,zx,Bx,Ri,Di,si={point:Is,lineStart:kb,lineEnd:Nb,polygonStart:function(){si.lineStart=AO,si.lineEnd=MO},polygonEnd:function(){si.point=Is,si.lineStart=kb,si.lineEnd=Nb},result:function(){var t=Pl?[Wv/Pl,Jv/Pl]:Q0?[eh/Q0,th/Q0]:jl?[Qv/jl,Kv/jl]:[NaN,NaN];return Qv=Kv=jl=eh=th=Q0=Wv=Jv=Pl=0,t}};function Is(t,e){Qv+=t,Kv+=e,++jl}function kb(){si.point=CO}function CO(t,e){si.point=EO,Is(Ri=t,Di=e)}function EO(t,e){var o=t-Ri,n=e-Di,a=t0(o*o+n*n);eh+=a*(Ri+t)/2,th+=a*(Di+e)/2,Q0+=a,Is(Ri=t,Di=e)}function Nb(){si.point=Is}function AO(){si.point=kO}function MO(){Lx(zx,Bx)}function kO(t,e){si.point=Lx,Is(zx=Ri=t,Bx=Di=e)}function Lx(t,e){var o=t-Ri,n=e-Di,a=t0(o*o+n*n);eh+=a*(Ri+t)/2,th+=a*(Di+e)/2,Q0+=a,a=Di*t-Ri*e,Wv+=a*(Ri+t),Jv+=a*(Di+e),Pl+=a*3,Is(Ri=t,Di=e)}function qx(t){this._context=t}qx.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ur);break}}},result:li};var em=new $s,gp,jx,Px,Hl,Yl,bc={point:li,lineStart:function(){bc.point=NO},lineEnd:function(){gp&&Hx(jx,Px),bc.point=li},polygonStart:function(){gp=!0},polygonEnd:function(){gp=null},result:function(){var t=+em;return em=new $s,t}};function NO(t,e){bc.point=Hx,jx=Hl=t,Px=Yl=e}function Hx(t,e){Hl-=t,Yl-=e,em.add(t0(Hl*Hl+Yl*Yl)),Hl=t,Yl=e}let Rb,nh,Db,Ob;class zb{constructor(e){this._append=e==null?Yx:RO(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,o){switch(this._point){case 0:{this._append`M${e},${o}`,this._point=1;break}case 1:{this._append`L${e},${o}`;break}default:{if(this._append`M${e},${o}`,this._radius!==Db||this._append!==nh){const n=this._radius,a=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Db=n,nh=this._append,Ob=this._,this._=a}this._+=Ob;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Yx(t){let e=1;this._+=t[0];for(const o=t.length;e<o;++e)this._+=arguments[e]+t[e]}function RO(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Yx;if(e!==Rb){const o=10**e;Rb=e,nh=function(a){let c=1;this._+=a[0];for(const u=a.length;c<u;++c)this._+=Math.round(arguments[c]*o)/o+a[c]}}return nh}function H0(t,e){let o=3,n=4.5,a,c;function u(f){return f&&(typeof n=="function"&&c.pointRadius(+n.apply(this,arguments)),$0(f,a(c))),c.result()}return u.area=function(f){return $0(f,a(ha)),ha.result()},u.measure=function(f){return $0(f,a(bc)),bc.result()},u.bounds=function(f){return $0(f,a(Jf)),Jf.result()},u.centroid=function(f){return $0(f,a(si)),si.result()},u.projection=function(f){return arguments.length?(a=f==null?(t=null,Xv):(t=f).stream,u):t},u.context=function(f){return arguments.length?(c=f==null?(e=null,new zb(o)):new qx(e=f),typeof n!="function"&&c.pointRadius(n),u):e},u.pointRadius=function(f){return arguments.length?(n=typeof f=="function"?f:(c.pointRadius(+f),+f),u):n},u.digits=function(f){if(!arguments.length)return o;if(f==null)o=null;else{const d=Math.floor(f);if(!(d>=0))throw new RangeError(`invalid digits: ${f}`);o=d}return e===null&&(c=new zb(o)),u},u.projection(t).digits(o).context(e)}function Qm(t){return function(e){var o=new tm;for(var n in t)o[n]=t[n];return o.stream=e,o}}function tm(){}tm.prototype={constructor:tm,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Km(t,e,o){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),$0(o,t.stream(Jf)),e(Jf.result()),n!=null&&t.clipExtent(n),t}function Ux(t,e,o){return Km(t,function(n){var a=e[1][0]-e[0][0],c=e[1][1]-e[0][1],u=Math.min(a/(n[1][0]-n[0][0]),c/(n[1][1]-n[0][1])),f=+e[0][0]+(a-u*(n[1][0]+n[0][0]))/2,d=+e[0][1]+(c-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([f,d])},o)}function DO(t,e,o){return Ux(t,[[0,0],e],o)}function OO(t,e,o){return Km(t,function(n){var a=+e,c=a/(n[1][0]-n[0][0]),u=(a-c*(n[1][0]+n[0][0]))/2,f=-c*n[0][1];t.scale(150*c).translate([u,f])},o)}function zO(t,e,o){return Km(t,function(n){var a=+e,c=a/(n[1][1]-n[0][1]),u=-c*n[0][0],f=(a-c*(n[1][1]+n[0][1]))/2;t.scale(150*c).translate([u,f])},o)}var Bb=16,BO=on(30*mn);function Lb(t,e){return+e?qO(t,e):LO(t)}function LO(t){return Qm({point:function(e,o){e=t(e,o),this.stream.point(e[0],e[1])}})}function qO(t,e){function o(n,a,c,u,f,d,g,b,x,y,m,_,p,w){var T=g-n,C=b-a,N=T*T+C*C;if(N>4*e&&p--){var k=u+y,D=f+m,F=d+_,G=t0(k*k+D*D+F*F),E=mc(F/=G),R=Kt(Kt(F)-1)<Ht||Kt(c-x)<Ht?(c+x)/2:vc(D,k),O=t(R,E),P=O[0],j=O[1],Y=P-n,H=j-a,q=C*Y-T*H;(q*q/N>e||Kt((T*Y+C*H)/N-.5)>.3||u*y+f*m+d*_<BO)&&(o(n,a,c,u,f,d,P,j,R,k/=G,D/=G,F,p,w),w.point(P,j),o(P,j,R,k,D,F,g,b,x,y,m,_,p,w))}}return function(n){var a,c,u,f,d,g,b,x,y,m,_,p,w={point:T,lineStart:C,lineEnd:k,polygonStart:function(){n.polygonStart(),w.lineStart=D},polygonEnd:function(){n.polygonEnd(),w.lineStart=C}};function T(E,R){E=t(E,R),n.point(E[0],E[1])}function C(){x=NaN,w.point=N,n.lineStart()}function N(E,R){var O=po([E,R]),P=t(E,R);o(x,y,b,m,_,p,x=P[0],y=P[1],b=E,m=O[0],_=O[1],p=O[2],Bb,n),n.point(x,y)}function k(){w.point=T,n.lineEnd()}function D(){C(),w.point=F,w.lineEnd=G}function F(E,R){N(a=E,R),c=x,u=y,f=m,d=_,g=p,w.point=N}function G(){o(x,y,b,m,_,p,c,u,a,f,d,g,Bb,n),w.lineEnd=k,k()}return w}}var jO=Qm({point:function(t,e){this.stream.point(t*mn,e*mn)}});function PO(t){return Qm({point:function(e,o){var n=t(e,o);return this.stream.point(n[0],n[1])}})}function HO(t,e,o,n,a){function c(u,f){return u*=n,f*=a,[e+t*u,o-t*f]}return c.invert=function(u,f){return[(u-e)/t*n,(o-f)/t*a]},c}function qb(t,e,o,n,a,c){if(!c)return HO(t,e,o,n,a);var u=on(c),f=ln(c),d=u*t,g=f*t,b=u/t,x=f/t,y=(f*o-u*e)/t,m=(f*e+u*o)/t;function _(p,w){return p*=n,w*=a,[d*p-g*w+e,o-g*p-d*w]}return _.invert=function(p,w){return[n*(b*p-x*w+y),a*(m-x*p-b*w)]},_}function YO(t){return UO(function(){return t})()}function UO(t){var e,o=150,n=480,a=250,c=0,u=0,f=0,d=0,g=0,b,x=0,y=1,m=1,_=null,p=Mb,w=null,T,C,N,k=Xv,D=.5,F,G,E,R,O;function P(q){return E(q[0]*mn,q[1]*mn)}function j(q){return q=E.invert(q[0],q[1]),q&&[q[0]*Dr,q[1]*Dr]}P.stream=function(q){return R&&O===q?R:R=jO(PO(b)(p(F(k(O=q)))))},P.preclip=function(q){return arguments.length?(p=q,_=void 0,H()):p},P.postclip=function(q){return arguments.length?(k=q,w=T=C=N=null,H()):k},P.clipAngle=function(q){return arguments.length?(p=+q?yO(_=q*mn):(_=null,Mb),H()):_*Dr},P.clipExtent=function(q){return arguments.length?(k=q==null?(w=T=C=N=null,Xv):_O(w=+q[0][0],T=+q[0][1],C=+q[1][0],N=+q[1][1]),H()):w==null?null:[[w,T],[C,N]]},P.scale=function(q){return arguments.length?(o=+q,Y()):o},P.translate=function(q){return arguments.length?(n=+q[0],a=+q[1],Y()):[n,a]},P.center=function(q){return arguments.length?(c=q[0]%360*mn,u=q[1]%360*mn,Y()):[c*Dr,u*Dr]},P.rotate=function(q){return arguments.length?(f=q[0]%360*mn,d=q[1]%360*mn,g=q.length>2?q[2]%360*mn:0,Y()):[f*Dr,d*Dr,g*Dr]},P.angle=function(q){return arguments.length?(x=q%360*mn,Y()):x*Dr},P.reflectX=function(q){return arguments.length?(y=q?-1:1,Y()):y<0},P.reflectY=function(q){return arguments.length?(m=q?-1:1,Y()):m<0},P.precision=function(q){return arguments.length?(F=Lb(G,D=q*q),H()):t0(D)},P.fitExtent=function(q,U){return Ux(P,q,U)},P.fitSize=function(q,U){return DO(P,q,U)},P.fitWidth=function(q,U){return OO(P,q,U)},P.fitHeight=function(q,U){return zO(P,q,U)};function Y(){var q=qb(o,0,0,y,m,x).apply(null,e(c,u)),U=qb(o,n-q[0],a-q[1],y,m,x);return b=Ax(f,d,g),G=Gv(e,U),E=Gv(b,G),F=Lb(G,D),H()}function H(){return R=O=null,P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&j,Y()}}function Wm(t,e){return[t,sO(lO((gr+e)/2))]}Wm.invert=function(t,e){return[t,2*Ex(aO(e))-gr]};function Y0(){return FO(Wm).scale(961/Ur)}function FO(t){var e=YO(t),o=e.center,n=e.scale,a=e.translate,c=e.clipExtent,u=null,f,d,g;e.scale=function(x){return arguments.length?(n(x),b()):n()},e.translate=function(x){return arguments.length?(a(x),b()):a()},e.center=function(x){return arguments.length?(o(x),b()):o()},e.clipExtent=function(x){return arguments.length?(x==null?u=f=d=g=null:(u=+x[0][0],f=+x[0][1],d=+x[1][0],g=+x[1][1]),b()):u==null?null:[[u,f],[d,g]]};function b(){var x=xt*n(),y=e(uO(e.rotate()).invert([0,0]));return c(u==null?[[y[0]-x,y[1]-x],[y[0]+x,y[1]+x]]:t===Wm?[[Math.max(y[0]-x,u),f],[Math.min(y[0]+x,d),g]]:[[u,Math.max(y[1]-x,f)],[d,Math.min(y[1]+x,g)]])}return b()}function Mh(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const jb=Symbol("implicit");function Mo(){var t=new Sv,e=[],o=[],n=jb;function a(c){let u=t.get(c);if(u===void 0){if(n!==jb)return n;t.set(c,u=e.push(c)-1)}return o[u%o.length]}return a.domain=function(c){if(!arguments.length)return e.slice();e=[],t=new Sv;for(const u of c)t.has(u)||t.set(u,e.push(u)-1);return a},a.range=function(c){return arguments.length?(o=Array.from(c),a):o.slice()},a.unknown=function(c){return arguments.length?(n=c,a):n},a.copy=function(){return Mo(e,o).unknown(n)},Mh.apply(a,arguments),a}function rh(){var t=Mo().unknown(void 0),e=t.domain,o=t.range,n=0,a=1,c,u,f=!1,d=0,g=0,b=.5;delete t.unknown;function x(){var y=e().length,m=a<n,_=m?a:n,p=m?n:a;c=(p-_)/Math.max(1,y-d+g*2),f&&(c=Math.floor(c)),_+=(p-_-c*(y-d))*b,u=c*(1-d),f&&(_=Math.round(_),u=Math.round(u));var w=aM(y).map(function(T){return _+c*T});return o(m?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),x()):e()},t.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,x()):[n,a]},t.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,f=!0,x()},t.bandwidth=function(){return u},t.step=function(){return c},t.round=function(y){return arguments.length?(f=!!y,x()):f},t.padding=function(y){return arguments.length?(d=Math.min(1,g=+y),x()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),x()):d},t.paddingOuter=function(y){return arguments.length?(g=+y,x()):g},t.align=function(y){return arguments.length?(b=Math.max(0,Math.min(1,y)),x()):b},t.copy=function(){return rh(e(),[n,a]).round(f).paddingInner(d).paddingOuter(g).align(b)},Mh.apply(x(),arguments)}function Fx(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Fx(e())},t}function Pb(){return Fx(rh.apply(null,arguments).paddingInner(1))}function GO(t){return function(){return t}}function $O(t){return+t}var Hb=[0,1];function Bi(t){return t}function nm(t,e){return(e-=t=+t)?function(o){return(o-t)/e}:GO(isNaN(e)?NaN:.5)}function XO(t,e){var o;return t>e&&(o=t,t=e,e=o),function(n){return Math.max(t,Math.min(e,n))}}function VO(t,e,o){var n=t[0],a=t[1],c=e[0],u=e[1];return a<n?(n=nm(a,n),c=o(u,c)):(n=nm(n,a),c=o(c,u)),function(f){return c(n(f))}}function IO(t,e,o){var n=Math.min(t.length,e.length)-1,a=new Array(n),c=new Array(n),u=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<n;)a[u]=nm(t[u],t[u+1]),c[u]=o(e[u],e[u+1]);return function(f){var d=ZA(t,f,1,n)-1;return c[d](a[d](f))}}function Gx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $x(){var t=Hb,e=Hb,o=Th,n,a,c,u=Bi,f,d,g;function b(){var y=Math.min(t.length,e.length);return u!==Bi&&(u=XO(t[0],t[y-1])),f=y>2?IO:VO,d=g=null,x}function x(y){return y==null||isNaN(y=+y)?c:(d||(d=f(t.map(n),e,o)))(n(u(y)))}return x.invert=function(y){return u(a((g||(g=f(e,t.map(n),mi)))(y)))},x.domain=function(y){return arguments.length?(t=Array.from(y,$O),b()):t.slice()},x.range=function(y){return arguments.length?(e=Array.from(y),b()):e.slice()},x.rangeRound=function(y){return e=Array.from(y),o=AN,b()},x.clamp=function(y){return arguments.length?(u=y?!0:Bi,b()):u!==Bi},x.interpolate=function(y){return arguments.length?(o=y,b()):o},x.unknown=function(y){return arguments.length?(c=y,x):c},function(y,m){return n=y,a=m,b()}}function ZO(){return $x()(Bi,Bi)}function QO(t,e,o,n){var a=rM(t,e,o),c;switch(n=If(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(c=rO(a,u))&&(n.precision=c),Cx(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(c=iO(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=c-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(c=nO(a))&&(n.precision=c-(n.type==="%")*2);break}}return Zm(n)}function Xx(t){var e=t.domain;return t.ticks=function(o){var n=e();return O_(n[0],n[n.length-1],o??10)},t.tickFormat=function(o,n){var a=e();return QO(a[0],a[a.length-1],o??10,n)},t.nice=function(o){o==null&&(o=10);var n=e(),a=0,c=n.length-1,u=n[a],f=n[c],d,g,b=10;for(f<u&&(g=u,u=f,f=g,g=a,a=c,c=g);b-- >0;){if(g=Cv(u,f,o),g===d)return n[a]=u,n[c]=f,e(n);if(g>0)u=Math.floor(u/g)*g,f=Math.ceil(f/g)*g;else if(g<0)u=Math.ceil(u*g)/g,f=Math.floor(f*g)/g;else break;d=g}return t},t}function qn(){var t=ZO();return t.copy=function(){return Gx(t,qn())},Mh.apply(t,arguments),Xx(t)}function Yb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KO(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function WO(t){return t<0?-t*t:t*t}function JO(t){var e=t(Bi,Bi),o=1;function n(){return o===1?t(Bi,Bi):o===.5?t(KO,WO):t(Yb(o),Yb(1/o))}return e.exponent=function(a){return arguments.length?(o=+a,n()):o},Xx(e)}function Vx(){var t=JO($x());return t.copy=function(){return Gx(t,Vx()).exponent(t.exponent())},Mh.apply(t,arguments),t}function ez(){return Vx.apply(null,arguments).exponent(.5)}function tz(t){for(var e=t.length/6|0,o=new Array(e),n=0;n<e;)o[n]="#"+t.slice(n*6,++n*6);return o}const Jm=tz("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Rn(t){return function(){return t}}const Ub=Math.abs,Gn=Math.atan2,Es=Math.cos,nz=Math.max,vp=Math.min,Mi=Math.sin,zs=Math.sqrt,hr=1e-12,vo=Math.PI,ih=vo/2,Ix=2*vo;function rz(t){return t>1?0:t<-1?vo:Math.acos(t)}function Fb(t){return t>=1?ih:t<=-1?-ih:Math.asin(t)}function e3(t){let e=3;return t.digits=function(o){if(!arguments.length)return e;if(o==null)e=null;else{const n=Math.floor(o);if(!(n>=0))throw new RangeError(`invalid digits: ${o}`);e=n}return t},()=>new Xm(e)}function iz(t){return t.innerRadius}function az(t){return t.outerRadius}function sz(t){return t.startAngle}function oz(t){return t.endAngle}function lz(t){return t&&t.padAngle}function cz(t,e,o,n,a,c,u,f){var d=o-t,g=n-e,b=u-a,x=f-c,y=x*d-b*g;if(!(y*y<hr))return y=(b*(e-c)-x*(t-a))/y,[t+y*d,e+y*g]}function tf(t,e,o,n,a,c,u){var f=t-o,d=e-n,g=(u?c:-c)/zs(f*f+d*d),b=g*d,x=-g*f,y=t+b,m=e+x,_=o+b,p=n+x,w=(y+_)/2,T=(m+p)/2,C=_-y,N=p-m,k=C*C+N*N,D=a-c,F=y*p-_*m,G=(N<0?-1:1)*zs(nz(0,D*D*k-F*F)),E=(F*N-C*G)/k,R=(-F*C-N*G)/k,O=(F*N+C*G)/k,P=(-F*C+N*G)/k,j=E-w,Y=R-T,H=O-w,q=P-T;return j*j+Y*Y>H*H+q*q&&(E=O,R=P),{cx:E,cy:R,x01:-b,y01:-x,x11:E*(a/D-1),y11:R*(a/D-1)}}function uz(){var t=iz,e=az,o=Rn(0),n=null,a=sz,c=oz,u=lz,f=null,d=e3(g);function g(){var b,x,y=+t.apply(this,arguments),m=+e.apply(this,arguments),_=a.apply(this,arguments)-ih,p=c.apply(this,arguments)-ih,w=Ub(p-_),T=p>_;if(f||(f=b=d()),m<y&&(x=m,m=y,y=x),!(m>hr))f.moveTo(0,0);else if(w>Ix-hr)f.moveTo(m*Es(_),m*Mi(_)),f.arc(0,0,m,_,p,!T),y>hr&&(f.moveTo(y*Es(p),y*Mi(p)),f.arc(0,0,y,p,_,T));else{var C=_,N=p,k=_,D=p,F=w,G=w,E=u.apply(this,arguments)/2,R=E>hr&&(n?+n.apply(this,arguments):zs(y*y+m*m)),O=vp(Ub(m-y)/2,+o.apply(this,arguments)),P=O,j=O,Y,H;if(R>hr){var q=Fb(R/y*Mi(E)),U=Fb(R/m*Mi(E));(F-=q*2)>hr?(q*=T?1:-1,k+=q,D-=q):(F=0,k=D=(_+p)/2),(G-=U*2)>hr?(U*=T?1:-1,C+=U,N-=U):(G=0,C=N=(_+p)/2)}var X=m*Es(C),I=m*Mi(C),z=y*Es(D),A=y*Mi(D);if(O>hr){var B=m*Es(N),V=m*Mi(N),Q=y*Es(k),W=y*Mi(k),K;if(w<vo)if(K=cz(X,I,Q,W,B,V,z,A)){var re=X-K[0],he=I-K[1],ee=B-K[0],pe=V-K[1],Ce=1/Mi(rz((re*ee+he*pe)/(zs(re*re+he*he)*zs(ee*ee+pe*pe)))/2),le=zs(K[0]*K[0]+K[1]*K[1]);P=vp(O,(y-le)/(Ce-1)),j=vp(O,(m-le)/(Ce+1))}else P=j=0}G>hr?j>hr?(Y=tf(Q,W,X,I,m,j,T),H=tf(B,V,z,A,m,j,T),f.moveTo(Y.cx+Y.x01,Y.cy+Y.y01),j<O?f.arc(Y.cx,Y.cy,j,Gn(Y.y01,Y.x01),Gn(H.y01,H.x01),!T):(f.arc(Y.cx,Y.cy,j,Gn(Y.y01,Y.x01),Gn(Y.y11,Y.x11),!T),f.arc(0,0,m,Gn(Y.cy+Y.y11,Y.cx+Y.x11),Gn(H.cy+H.y11,H.cx+H.x11),!T),f.arc(H.cx,H.cy,j,Gn(H.y11,H.x11),Gn(H.y01,H.x01),!T))):(f.moveTo(X,I),f.arc(0,0,m,C,N,!T)):f.moveTo(X,I),!(y>hr)||!(F>hr)?f.lineTo(z,A):P>hr?(Y=tf(z,A,B,V,y,-P,T),H=tf(X,I,Q,W,y,-P,T),f.lineTo(Y.cx+Y.x01,Y.cy+Y.y01),P<O?f.arc(Y.cx,Y.cy,P,Gn(Y.y01,Y.x01),Gn(H.y01,H.x01),!T):(f.arc(Y.cx,Y.cy,P,Gn(Y.y01,Y.x01),Gn(Y.y11,Y.x11),!T),f.arc(0,0,y,Gn(Y.cy+Y.y11,Y.cx+Y.x11),Gn(H.cy+H.y11,H.cx+H.x11),T),f.arc(H.cx,H.cy,P,Gn(H.y11,H.x11),Gn(H.y01,H.x01),!T))):f.arc(0,0,y,D,k,T)}if(f.closePath(),b)return f=null,b+""||null}return g.centroid=function(){var b=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,x=(+a.apply(this,arguments)+ +c.apply(this,arguments))/2-vo/2;return[Es(x)*b,Mi(x)*b]},g.innerRadius=function(b){return arguments.length?(t=typeof b=="function"?b:Rn(+b),g):t},g.outerRadius=function(b){return arguments.length?(e=typeof b=="function"?b:Rn(+b),g):e},g.cornerRadius=function(b){return arguments.length?(o=typeof b=="function"?b:Rn(+b),g):o},g.padRadius=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:Rn(+b),g):n},g.startAngle=function(b){return arguments.length?(a=typeof b=="function"?b:Rn(+b),g):a},g.endAngle=function(b){return arguments.length?(c=typeof b=="function"?b:Rn(+b),g):c},g.padAngle=function(b){return arguments.length?(u=typeof b=="function"?b:Rn(+b),g):u},g.context=function(b){return arguments.length?(f=b??null,g):f},g}function fz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zx(t){this._context=t}Zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hz(t){return new Zx(t)}function dz(t){return t[0]}function pz(t){return t[1]}function Qx(t,e){var o=Rn(!0),n=null,a=hz,c=null,u=e3(f);t=typeof t=="function"?t:t===void 0?dz:Rn(t),e=typeof e=="function"?e:e===void 0?pz:Rn(e);function f(d){var g,b=(d=fz(d)).length,x,y=!1,m;for(n==null&&(c=a(m=u())),g=0;g<=b;++g)!(g<b&&o(x=d[g],g,d))===y&&((y=!y)?c.lineStart():c.lineEnd()),y&&c.point(+t(x,g,d),+e(x,g,d));if(m)return c=null,m+""||null}return f.x=function(d){return arguments.length?(t=typeof d=="function"?d:Rn(+d),f):t},f.y=function(d){return arguments.length?(e=typeof d=="function"?d:Rn(+d),f):e},f.defined=function(d){return arguments.length?(o=typeof d=="function"?d:Rn(!!d),f):o},f.curve=function(d){return arguments.length?(a=d,n!=null&&(c=a(n)),f):a},f.context=function(d){return arguments.length?(d==null?n=c=null:c=a(n=d),f):n},f}const t3={draw(t,e){const o=zs(e/vo);t.moveTo(o,0),t.arc(0,0,o,0,Ix)}};function Kx(t,e){let o=null,n=e3(a);t=typeof t=="function"?t:Rn(t||t3),e=typeof e=="function"?e:Rn(e===void 0?64:+e);function a(){let c;if(o||(o=c=n()),t.apply(this,arguments).draw(o,+e.apply(this,arguments)),c)return o=null,c+""||null}return a.type=function(c){return arguments.length?(t=typeof c=="function"?c:Rn(c),a):t},a.size=function(c){return arguments.length?(e=typeof c=="function"?c:Rn(+c),a):e},a.context=function(c){return arguments.length?(o=c??null,a):o},a}function Gb(t,e,o){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-o),t._x2,t._y2)}function Wx(t,e){this._context=t,this._k=(1-e)/6}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Gb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gz=function t(e){function o(n){return new Wx(n,e)}return o.tension=function(n){return t(+n)},o}(0);function Ul(t,e,o){this.k=t,this.x=e,this.y=o}Ul.prototype={constructor:Ul,scale:function(t){return t===1?this:new Ul(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ul(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ul.prototype;const Jx=document.createElement("script");Jx.src="/perlin.js";document.head.appendChild(Jx);const vz=()=>{const t=oe.useRef(),e=oe.useRef(),[o,n]=oe.useState(!1);return oe.useEffect(()=>{rt(t.current).selectAll("*").remove();const u=rt(t.current).attr("width",900).attr("height",700).attr("viewBox","0 0 900 700").attr("preserveAspectRatio","xMidYMid meet"),f=u.append("g").attr("transform",`scale(0.9) translate(${900*.5}, ${700*.6})`),d=rt(e.current);Mo(Jm);const g=qn().range([.2,.5]),b=qn().range([100,500]),x="M64.38,18.24c-1.9-10.74,7.53-17.59,7.53-17.59,9.41,9.14,6.23,19.31,6.23,19.31,14.39-3.95,14.58,7.95,14.58,7.95-13.8-5.94-13.24,14.64-13.24,14.64.86,19.06-8.52,17.24-8.52,17.24-7.11.66-7.94-17.01-7.94-17.01-1.18-21.02-13.51-18.27-13.51-18.27,6.83-10.94,14.88-6.27,14.88-6.27ZM106.76,28.97c-7.16,6.12-15.64,17.16-20.64,26.03-3.88,6.9-4.69,7.88-1.27,5.41,8.56-5.93,18.45-13.86,25.62-22.03,5.57-6.23,7.31-10.02,6.75-12.17-1.77-4.29-7.8.5-10.28,2.61l-.19.16ZM18.24,80.41c-10.74,1.9-17.59-7.53-17.59-7.53,9.14-9.41,19.31-6.23,19.31-6.23-3.95-14.39,7.95-14.58,7.95-14.58-5.94,13.8,14.64,13.24,14.64,13.24,19.06-.86,17.24,8.52,17.24,8.52.66,7.11-17.01,7.94-17.01,7.94-21.02,1.18-18.27,13.51-18.27,13.51-10.94-6.83-6.27-14.88-6.27-14.88ZM29.27,37.6c6.12,7.16,17.16,15.64,26.03,20.64,6.9,3.88,7.88,4.69,5.41,1.27-5.93-8.56-13.86-18.45-22.03-25.62-6.23-5.57-10.02-7.31-12.17-6.75-4.29,1.77.5,7.8,2.61,10.28l.16.19ZM80.49,123.16c1.9,10.74-7.53,17.59-7.53,17.59-9.41-9.14-6.23-19.31-6.23-19.31-14.39,3.95-14.58-7.95-14.58-7.95,13.8,5.94,13.24-14.64,13.24-14.64-.86-19.06,8.52-17.24,8.52-17.24,7.11-.66,7.94,17.01,7.94,17.01,1.18,21.02,13.51,18.27,13.51,18.27-6.83,10.94-14.88,6.27-14.88,6.27ZM39.45,111.99c7.16-6.12,15.64-17.16,20.64-26.03,3.88-6.9,4.69-7.88,1.27-5.41-8.56,5.93-18.45,13.86-25.62,22.03-5.57,6.23-7.31,10.02-6.75,12.17,1.77,4.29,7.8-.5,10.28-2.61l.19-.16ZM126.76,61.5c10.74-1.9,17.59,7.53,17.59,7.53-9.14,9.41-19.31,6.23-19.31,6.23,3.95,14.39-7.95,14.58-7.95,14.58,5.94-13.8-14.64-13.24-14.64-13.24-19.06.86-17.24-8.52-17.24-8.52-.66-7.11,17.01-7.94,17.01-7.94,21.02-1.18,18.27-13.51,18.27-13.51,10.94,6.83,6.27,14.88,6.27,14.88ZM114.91,103.85c-6.12-7.16-17.16-15.64-26.03-20.64-6.9-3.88-7.88-4.69-5.41-1.27,5.93,8.56,13.86,18.45,22.03,25.62,6.23,5.57,10.02,7.31,12.17,6.75,4.29-1.77-.5-7.8-2.61-10.28l-.16-.19ZM72.72,61.93c-4.84-.12-8.86,3.71-8.98,8.56-.12,4.84,3.71,8.86,8.56,8.98s8.86-3.71,8.98-8.56c.12-4.84-3.71-8.86-8.56-8.98Z";e0("VIMEO_V8.csv").then(y=>{const m={},_={},p=new Set;y.forEach(j=>{const Y=j.Tema,H=j.Região;p.add(H),m[Y]||(m[Y]=0),m[Y]++;const q=`${Y}||${H}`;_[q]||(_[q]=0),_[q]++});const w=Object.keys(m).filter(j=>m[j]>13),T=[],C=[],N=oi(Object.values(m)),k=qm(Object.values(m));g.domain([k,N]),b.domain([1,oi(Object.values(_))]),w.forEach(j=>{const Y={id:j,type:"tema",count:m[j]};T.push(Y)}),p.forEach(j=>{const Y={id:j,type:"regiao"};T.push(Y)}),Object.entries(_).forEach(([j,Y])=>{const[H,q]=j.split("||");w.includes(H)&&C.push({source:H,target:q,value:Y})});const D=wx(T).force("link",xx(C).id(j=>j.id).distance(90).strength(1)).force("charge",Sx().strength(-1500)).force("center",yx(0,0)),F=f.append("g").attr("class","links").selectAll("path").data(C).join("path").attr("stroke","#6B3F21").attr("stroke-width",j=>Math.sqrt(j.value)).attr("stroke-opacity",.6).attr("fill","none"),G=f.append("g").attr("class","nodes").selectAll("path").data(T).join("path").attr("class",j=>`node ${j.type}`).attr("d",j=>j.type==="tema"?x:Kx().type(t3).size(b(1))()).attr("fill",j=>j.type==="regiao"?"#E09D2C":"#C33512").attr("fill-opacity",.9).on("mouseover",(j,Y)=>{Y.type==="tema"&&d.style("display","block").html(`<strong>${Y.id}</strong><br/>Ocorrências: ${Y.count}`)}).on("mousemove",j=>{d.style("left",`${j.pageX+10}px`).style("top",`${j.pageY-20}px`)}).on("mouseout",()=>{d.style("display","none")}).on("click",(j,Y)=>{Y.type==="tema"&&O(Y.id),j.stopPropagation()}).call(R(D)),E=f.append("g").selectAll("text").data(T).join("text").text(j=>j.type==="regiao"?j.id:"").attr("font-size","10px").attr("dx",10).attr("dy","0.35em").style("opacity",0);D.on("tick",()=>{F.attr("d",j=>{const Y=j.target.x-j.source.x,H=j.target.y-j.source.y,q=Math.sqrt(Y*Y+H*H),U=(j.source.x+j.target.x)/2,X=(j.source.y+j.target.y)/2,I=-H/q,z=Y/q,A=Math.min(q*.5,50),B=Date.now()*1e-4,V=.02,Q=noise.perlin3(U*V,X*V,B)*100,W=U+I*A+Q,K=X+z*A+Q,re=300;let he=`M ${j.source.x} ${j.source.y}`;for(let ee=1;ee<=re;ee++){const pe=ee/re,Ce=pe*pe,le=1-pe,se=le*le,fe=se*j.source.x+2*le*pe*W+Ce*j.target.x,ae=se*j.source.y+2*le*pe*K+Ce*j.target.y,Se=noise.perlin3(fe*V*2,ae*V*2,B)*8,we=noise.perlin3(ae*V*2,fe*V*2,B+100)*8;he+=` L ${fe+Se} ${ae+we}`}return he}),G.attr("transform",j=>{if(j.type==="tema"){const Y=g(j.count),H=-60*Y;return`translate(${j.x+H}, ${j.y+H}) scale(${Y})`}else return`translate(${j.x}, ${j.y})`}),E.attr("x",j=>j.x).attr("y",j=>j.y)});function R(j){function Y(U,X){U.active||j.alphaTarget(.3).restart(),X.fx=X.x,X.fy=X.y}function H(U,X){X.fx=U.x,X.fy=U.y}function q(U,X){U.active||j.alphaTarget(0),X.fx=null,X.fy=null}return Kl().on("start",Y).on("drag",H).on("end",q)}function O(j){G.style("opacity",Y=>Y.id===j||C.some(H=>H.source.id===j&&H.target.id===Y.id||H.target.id===j&&H.source.id===Y.id)?1:.1),F.style("opacity",Y=>Y.source.id===j||Y.target.id===j?1:.1),E.style("opacity",Y=>Y.type==="regiao"&&C.some(H=>H.source.id===j&&H.target.id===Y.id||H.target.id===j&&H.source.id===Y.id)?1:0)}u.on("click",()=>P());function P(){G.style("opacity",1),F.style("opacity",.6),E.style("opacity",0)}})},[]),$.jsxs("div",{children:[$.jsx("svg",{ref:t}),$.jsx("div",{ref:e,className:"tooltip_roots"}),o&&$.jsx("div",{className:"legend-popup-overlay",onClick:()=>n(!1),children:$.jsxs("div",{className:"legend-popup-content",onClick:a=>a.stopPropagation(),children:[$.jsx("button",{className:"legend-popup-close",onClick:()=>n(!1),"aria-label":"Fechar legenda",children:"×"}),$.jsx("h3",{children:"Legenda do gráfico"}),$.jsxs("ul",{style:{listStyle:"none",padding:0},children:[$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#C33512",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Flor vermelha"}),": Tema (tamanho proporcional ao número de ocorrências)"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#E09D2C",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Círculo amarelo"}),": Região"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:30,height:4,background:"#6B3F21",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Linha castanha"}),": Ligação entre tema e região (espessura = nº de ocorrências)"]})]}),$.jsxs("p",{style:{fontSize:"12px",color:"#555"},children:["Clique numa flor para destacar as ligações.",$.jsx("br",{}),"Passe o rato sobre uma flor para ver detalhes."]})]})})]})},ew=document.createElement("script");ew.src="/perlin.js";document.head.appendChild(ew);const mp=1500,yp=900,$b=t=>{const e=t.match(/(\d{1,2})\s+de\s+([a-zA-Z]+)\s+de\s+(\d{4})/);return e?e[3]:null},mz=({active:t})=>{const e=oe.useRef(),[o,n]=oe.useState(""),[a,c]=oe.useState([]),[u,f]=oe.useState(null),[d,g]=oe.useState(null),[b,x]=oe.useState(null),[y,m]=oe.useState(!1);oe.useEffect(()=>{const w=rt(e.current).attr("width",mp).attr("height",yp),T=w.append("g");T.append("g").attr("class","map-group"),T.append("g").attr("class","labels-group"),T.append("g").attr("class","circles-group"),T.append("g").attr("class","lines-group");const C=Y0().center([-8,39.5]).scale(6e3).translate([mp/2,yp/2]),N=Y0().center([-28,38]).scale(12e3).translate([300,780]),k=Y0().center([-17,32.6]).scale(14e3).translate([480,800]),D=H0().projection(C),F=H0().projection(N),G=H0().projection(k);return Promise.all([Ah("/Portugal.json"),e0("VIMEO_V8.csv")]).then(([E,R])=>{f(E),c(R),T.select(".map-group").selectAll("path").data(E.features).enter().append("path").attr("class","distrito").attr("opacity",0).attr("d",O=>{const P=O.properties.name;return P==="Azores"?F(O):P==="Madeira"?G(O):D(O)}).transition().duration(1e3).attr("opacity",.6),T.select(".labels-group").selectAll("text").data(E.features).enter().append("text").attr("class","label").attr("transform",O=>{const P=O.properties.name;return`translate(${P==="Azores"?F.centroid(O):P==="Madeira"?G.centroid(O):D.centroid(O)})`}).text(O=>O.properties.name)}),()=>{w.selectAll("*").remove()}},[]),oe.useEffect(()=>{if(!t)return;const w=rt(e.current);w.style("opacity",0),w.transition().duration(1e3).style("opacity",1)},[t]);const _=(w,T,C,N)=>{const k=C-w,D=N-T,F=Math.sqrt(k*k+D*D),G=(w+C)/2,E=(T+N)/2,R=-D/F,O=k/F,P=Math.min(F*.5,50),j=Date.now()*1e-5,Y=.02,H=window.noise?window.noise.perlin3(G*Y,E*Y,j)*100:0,q=G+R*P+H,U=E+O*P+H,X=300;let I=`M ${w} ${T}`;for(let z=1;z<=X;z++){const A=z/X,B=1-A,V=B*B*w+2*B*A*q+A*A*C,Q=B*B*T+2*B*A*U+A*A*N,W=window.noise?window.noise.perlin3(V*Y*2,Q*Y*2,j)*8:0,K=window.noise?window.noise.perlin3(Q*Y*2,V*Y*2,j+100)*8:0;I+=` L ${V+W} ${Q+K}`}return I};oe.useEffect(()=>{if(!u||!a.length)return;const w=o?a.filter(O=>$b(O.Data)===o):a,C=rt(e.current).select("g"),N=Y0().center([-8,39.5]).scale(6e3).translate([mp/2,yp/2]),k=Y0().center([-28,38]).scale(12e3).translate([300,780]),D=Y0().center([-17,32.6]).scale(14e3).translate([480,800]),F=H0().projection(N),G=H0().projection(k),E=H0().projection(D),R=u.features.map(O=>{const P=O.properties.name,j=P==="Azores"?G.centroid(O):P==="Madeira"?E.centroid(O):F.centroid(O);return{distrito:P,cx:j[0],cy:j[1],temas:w.filter(Y=>Y["Distrito/Ilha"]===P).map(Y=>Y.Tema)}});if(C.select(".circles-group").selectAll("circle").data(R).join(O=>O.append("circle").attr("cx",P=>P.cx).attr("cy",P=>P.cy).attr("r",0).attr("fill","#DB8671").attr("fill-opacity",.5).style("cursor","pointer").on("click",(P,j)=>{g({distrito:j.distrito,totalTemas:j.temas.length,temas:j.temas,ano:o}),x(j)}).transition().duration(800).attr("r",P=>Math.sqrt(P.temas.length)*2),O=>O.transition().duration(800).attr("r",P=>Math.sqrt(P.temas.length)*2)),C.select(".lines-group").selectAll("path").remove(),b){const O=new Set(b.temas),j=R.filter(H=>H.distrito===b.distrito?!1:H.temas.some(q=>O.has(q))).map(H=>({sourceX:b.cx,sourceY:b.cy,targetX:H.cx,targetY:H.cy,temasComuns:H.temas.filter(q=>O.has(q))})),Y=rt("body").append("div").attr("class","tooltip-line").style("position","absolute").style("background","#fff").style("padding","6px 10px").style("border","1px solid #ccc").style("border-radius","6px").style("font-size","14px").style("pointer-events","none").style("opacity",0);if(C.select(".lines-group").selectAll("path").data(j).join("path").attr("d",H=>_(H.sourceX,H.sourceY,H.targetX,H.targetY)).attr("stroke","#6B3F21").attr("stroke-opacity",.4).attr("stroke-width",H=>1+H.temasComuns.length*.2).attr("fill","none").style("cursor","pointer").on("mouseover",(H,q)=>{Y.transition().duration(200).style("opacity",.95),Y.html(`<strong>Temas comuns:</strong><br>${[...new Set(q.temasComuns)].join("<br>")}`).style("left",`${H.pageX+10}px`).style("top",`${H.pageY-28}px`)}).on("mousemove",H=>{Y.style("left",`${H.pageX+10}px`).style("top",`${H.pageY-28}px`)}).on("mouseout",()=>{Y.transition().duration(300).style("opacity",0)}),window.noise){const H=()=>{C.select(".lines-group").selectAll("path").attr("d",q=>_(q.sourceX,q.sourceY,q.targetX,q.targetY)),requestAnimationFrame(H)};H()}}},[o,u,a,b]);const p=[...new Set(a.map(w=>$b(w.Data)))].filter(Boolean).sort();return $.jsxs("div",{className:"map-info",children:[$.jsxs("div",{className:"map-timeline-container",children:[$.jsx("svg",{ref:e}),$.jsxs("div",{className:"timeline-container",children:[$.jsx("button",{className:"timeline-button",onClick:()=>{n(""),x(null)},children:"Mostrar todos os anos"}),p.map((w,T)=>$.jsx("button",{className:"timeline-button",onClick:()=>{n(w),x(null)},children:w},T))]})]}),d&&$.jsxs("div",{className:"info-section-map",children:[$.jsx("button",{className:"close-button",onClick:()=>{g(null),x(null)},children:"×"}),$.jsx("h2",{children:d.distrito}),$.jsxs("p",{children:[$.jsx("strong",{children:d.totalTemas})," temas ",d.ano?`em ${d.ano}`:"no total"]}),$.jsx("h4",{children:"Temas:"}),$.jsx("ul",{children:d.temas.map((w,T)=>$.jsx("li",{children:w},T))})]}),y&&$.jsx("div",{className:"legend-popup-overlay",onClick:()=>m(!1),children:$.jsxs("div",{className:"legend-popup-content",onClick:w=>w.stopPropagation(),children:[$.jsx("button",{className:"legend-popup-close",onClick:()=>m(!1),"aria-label":"Fechar legenda",children:"×"}),$.jsx("h3",{children:"Legenda"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Círculos:"})," Representam a quantidade de temas por distrito."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Linhas curvas:"})," Conexões entre distritos com temas em comum."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Tamanho do círculo:"})," Proporcional ao número de temas."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Cor dos círculos:"})," Fixa, com opacidade para sobreposição."]})]})]})})]})},bp=getComputedStyle(document.documentElement).getPropertyValue("--font-secondary").trim(),_p=20,Xb=23,yz=t=>({flower3:"M74.31,113.78c.34,10.9-9.97,16.32-9.97,16.32-8.01-10.4-3.4-20.01-3.4-20.01-14.81,1.84-13.29-9.96-13.29-9.96,12.8,7.86,15.21-12.59,15.21-12.59,1.88-18.99,10.91-15.84,10.91-15.84,7.14.37,5.42,17.98,5.42,17.98-1.84,20.97,10.75,20.02,10.75,20.02-8.33,9.85-15.62,4.07-15.62,4.07h0ZM35.31,97.28c7.97-5.03,17.94-14.74,24.16-22.8,4.82-6.27,5.78-7.13,2.03-5.17-9.32,4.64-20.25,11.07-28.52,18.13-6.41,5.37-8.67,8.87-8.42,11.07,1.14,4.5,7.79.62,10.54-1.1,0,0,.21-.13.21-.13ZM9.65,36.1C.04,30.95.5,19.3.5,19.3c13.01-1.73,19.02,7.06,19.02,7.06,5.81-13.75,15.27-6.53,15.27-6.53-13.21,7.16,3.3,19.46,3.3,19.46,15.5,11.13,8.27,17.37,8.27,17.37-3.88,6-18.28-4.29-18.28-4.29-17.24-12.08-22.71-.7-22.71-.7-4.36-12.14,4.29-15.57,4.29-15.57h-.01ZM43.45,10.57c.37,9.41,3.8,22.9,7.66,32.32,3.02,7.31,3.29,8.57,3.46,4.34.64-10.39.54-23.07-1.44-33.76-1.45-8.24-3.34-11.94-5.38-12.83-4.47-1.27-4.43,6.44-4.32,9.68v.25h.02ZM109.26,18.95c9.27-5.75,19.12.47,19.12.47-5,12.13-15.63,12.94-15.63,12.94,9,11.9-1.98,16.49-1.98,16.49.41-15.02-18.5-6.88-18.5-6.88-17.39,7.86-19.17-1.52-19.17-1.52-3.25-6.36,12.86-13.68,12.86-13.68,19.09-8.89,11.97-19.32,11.97-19.32,12.69,2.29,11.34,11.5,11.34,11.5h-.01ZM114.47,60.98c-8.34-4.38-21.73-8.16-31.82-9.52-7.84-1.04-9.06-1.44-5.49.83,8.68,5.75,19.71,12,29.96,15.63,7.86,2.87,12.01,3.07,13.8,1.76,3.33-3.24-3.36-7.06-6.23-8.58l-.22-.11h0ZM64.41,46.55c4.84,0,8.77,3.93,8.77,8.77s-3.93,8.77-8.77,8.77-8.77-3.93-8.77-8.77,3.93-8.77,8.77-8.77Z",flower4:"M93.47,133.38c1.83,10.75-7.64,17.54-7.64,17.54-9.36-9.2-6.11-19.35-6.11-19.35-14.42,3.86-14.53-8.04-14.53-8.04,13.76,6.03,13.34-14.55,13.34-14.55-.74-19.07,8.63-17.19,8.63-17.19,7.12-.62,7.84,17.06,7.84,17.06,1.05,21.03,13.39,18.36,13.39,18.36-6.9,10.9-14.92,6.18-14.92,6.18h0ZM52.56,122.38c7.2-6.07,15.74-17.06,20.81-25.9,3.92-6.87,4.74-7.85,1.3-5.4-8.59,5.88-18.54,13.74-25.76,21.87-5.61,6.2-7.37,9.97-6.83,12.12,1.74,4.3,7.8-.45,10.29-2.54l.19-.16h0ZM18.19,93.47c-10.75,1.83-17.54-7.64-17.54-7.64,9.2-9.36,19.35-6.11,19.35-6.11-3.86-14.42,8.04-14.53,8.04-14.53-6.03,13.76,14.55,13.34,14.55,13.34,19.07-.74,17.19,8.63,17.19,8.63.62,7.12-17.06,7.84-17.06,7.84-21.03,1.05-18.36,13.39-18.36,13.39-10.9-6.9-6.18-14.92-6.18-14.92h.01ZM29.18,52.56c6.07,7.2,17.06,15.74,25.9,20.81,6.87,3.92,7.85,4.74,5.4,1.3-5.88-8.59-13.74-18.54-21.87-25.76-6.2-5.61-9.97-7.37-12.12-6.83-4.3,1.74.45,7.8,2.54,10.29l.16.19h-.01ZM58.1,18.19c-1.83-10.75,7.64-17.54,7.64-17.54,9.36,9.2,6.11,19.35,6.11,19.35,14.42-3.86,14.53,8.04,14.53,8.04-13.76-6.03-13.34,14.55-13.34,14.55.74,19.07-8.63,17.19-8.63,17.19-7.12.62-7.84-17.06-7.84-17.06-1.05-21.03-13.39-18.36-13.39-18.36,6.9-10.9,14.92-6.18,14.92-6.18h0ZM99,29.18c-7.2,6.07-15.74,17.06-20.81,25.9-3.92,6.87-4.74,7.85-1.3,5.4,8.59-5.88,18.54-13.74,25.76-21.87,5.61-6.2,7.37-9.97,6.83-12.12-1.74-4.3-7.8.45-10.29,2.54l-.19.16h0ZM133.38,58.1c10.75-1.83,17.54,7.64,17.54,7.64-9.2,9.36-19.35,6.11-19.35,6.11,3.86,14.42-8.04,14.53-8.04,14.53,6.03-13.76-14.55-13.34-14.55-13.34-19.07.74-17.19-8.63-17.19-8.63-.62-7.12,17.06-7.84,17.06-7.84,21.03-1.05,18.36-13.39,18.36-13.39,10.9,6.9,6.18,14.92,6.18,14.92h0ZM122.38,99c-6.07-7.2-17.06-15.74-25.9-20.81-6.87-3.92-7.85-4.74-5.4-1.3,5.88,8.59,13.74,18.54,21.87,25.76,6.2,5.61,9.97,7.37,12.12,6.83,4.3-1.74-.45-7.8-2.54-10.29l-.16-.19h.01ZM75.78,66.05c4.84,0,8.77,3.93,8.77,8.77s-3.93,8.77-8.77,8.77-8.77-3.93-8.77-8.77,3.93-8.77,8.77-8.77Z",flower5:"M88.69,128.43c1.9,10.74-7.53,17.59-7.53,17.59-9.41-9.14-6.23-19.31-6.23-19.31-14.39,3.95-14.58-7.95-14.58-7.95,13.8,5.94,13.24-14.64,13.24-14.64-.86-19.06,8.52-17.24,8.52-17.24,7.11-.66,7.94,17.01,7.94,17.01,1.18,21.02,13.51,18.27,13.51,18.27-6.83,10.94-14.88,6.27-14.88,6.27h.01ZM47.71,117.7c7.16-6.12,15.64-17.16,20.64-26.03,3.88-6.9,4.69-7.88,1.27-5.41-8.56,5.93-18.45,13.86-25.62,22.03-5.57,6.23-7.31,10.02-6.75,12.17,1.77,4.29,7.8-.5,10.28-2.61l.19-.16h0ZM19.68,104.53c-9.63,5.13-19.05-1.73-19.05-1.73,5.78-11.78,16.44-11.89,16.44-11.89-8.2-12.47,3.06-16.32,3.06-16.32-1.39,14.96,18.01,8.07,18.01,8.07,17.86-6.71,19.03,2.78,19.03,2.78,2.83,6.56-13.72,12.81-13.72,12.81-19.63,7.62-13.21,18.49-13.21,18.49-12.51-3.12-10.56-12.21-10.56-12.21ZM17.23,62.25c8.03,4.92,21.15,9.57,31.13,11.59,7.76,1.56,8.95,2.03,5.53-.46-8.28-6.3-18.88-13.27-28.87-17.56-7.65-3.37-11.79-3.85-13.66-2.66-3.53,3.01,2.89,7.26,5.65,8.97l.21.13h.01ZM21.1,31.52c-7.85-7.57-4.25-18.65-4.25-18.65,12.99,1.86,16.39,11.96,16.39,11.96,9.32-11.66,16.47-2.14,16.47-2.14-14.65,3.3-2.11,19.63-2.11,19.63,11.9,14.92,3.24,18.96,3.24,18.96-5.37,4.72-16.43-9.09-16.43-9.09-13.31-16.31-21.67-6.85-21.67-6.85-.9-12.87,8.35-13.82,8.35-13.82h0ZM60.55,16.12c-2.2,9.16-2.56,23.07-1.4,33.19.92,7.86.84,9.14,2.15,5.12,3.44-9.83,6.78-22.06,7.78-32.89.84-8.32.02-12.4-1.69-13.81-3.96-2.43-6.01,4.99-6.78,8.15,0,0-.06.24-.06.24ZM90.97,10.3C95.74.49,107.4.5,107.4.5c2.24,12.93-6.31,19.29-6.31,19.29,13.97,5.26,7.12,15,7.12,15-7.67-12.92-19.32,4.06-19.32,4.06-10.51,15.93-17.03,8.94-17.03,8.94-6.14-3.65,3.57-18.43,3.57-18.43,11.4-17.7-.19-22.72-.19-22.72,11.96-4.83,15.72,3.67,15.72,3.67h0ZM117.81,43.07c-9.39.74-22.74,4.69-32,8.92-7.19,3.3-8.43,3.62-4.2,3.63,10.41.23,23.07-.36,33.68-2.76,8.17-1.77,11.8-3.81,12.61-5.88,1.09-4.51-6.61-4.18-9.85-3.93l-.25.02h0ZM132.74,70.2c10.8,1.51,14.4,12.59,14.4,12.59-11.6,6.13-20.29-.04-20.29-.04-.69,14.91-12.07,11.41-12.07,11.41,9.92-11.28-9.83-17.12-9.83-17.12-18.4-5.07-13.76-13.43-13.76-13.43,1.57-6.97,18.64-2.3,18.64-2.3,20.36,5.37,21.55-7.2,21.55-7.2,8.29,9.88,1.37,16.09,1.37,16.09h0ZM109.87,105.85c-3.6-8.7-11.49-20.17-18.38-27.67-5.36-5.82-6.05-6.9-4.75-2.88,3,9.97,7.48,21.83,13.04,31.18,4.21,7.23,7.27,10.04,9.49,10.18,4.63-.36,1.93-7.57.7-10.58l-.1-.23ZM70.64,59.26c4.84,0,8.77,3.93,8.77,8.77s-3.93,8.77-8.77,8.77-8.77-3.93-8.77-8.77,3.93-8.77,8.77-8.77Z"})[t],bz=({active:t})=>{const e=oe.useRef(),[o,n]=oe.useState([]),[a,c]=oe.useState([]),[u,f]=oe.useState([]),[d,g]=oe.useState(0),[b,x]=oe.useState(0),[y,m]=oe.useState(!1),[_,p]=oe.useState(0),[w,T]=oe.useState(0),[C,N]=oe.useState([]),[k,D]=oe.useState([]),[F,G]=oe.useState([]),[E,R]=oe.useState(!1),[O,P]=oe.useState("temas"),[j,Y]=oe.useState([]),[H,q]=oe.useState([]),[U,X]=oe.useState(!1),[I,z]=oe.useState([]),[A,B]=oe.useState([]),V=Math.ceil(A.length/_p),Q=K=>{const re=[];K.forEach(pe=>{pe.Categorias&&pe.Categorias.split(",").map(le=>le.trim()).forEach(le=>{le&&re.push({...pe,CategoriaPrincipal:le})})});const he=Vd(re,pe=>pe.length,pe=>pe.CategoriaPrincipal,pe=>pe.Região),ee=[];return he.forEach(([pe,Ce])=>{Ce.forEach(([le,se])=>{const fe=re.filter(ae=>ae.CategoriaPrincipal===pe&&ae.Região===le).map(ae=>ae.Instrumento).flatMap(ae=>ae?ae.split(",").map(Se=>Se.trim()):[]).filter((ae,Se,we)=>ae&&we.indexOf(ae)===Se);ee.push({tema:pe,regiao:le,count:se,categoria:pe,instrumentos:fe})})}),ee},W=K=>{const re=[];K.forEach(pe=>{pe.Instrumento&&pe.Instrumento.split(",").map(le=>le.trim()).forEach(le=>{le&&re.push({...pe,InstrumentoPrincipal:le})})});const he=Vd(re,pe=>pe.length,pe=>pe.InstrumentoPrincipal,pe=>pe.Região),ee=[];return he.forEach(([pe,Ce])=>{Ce.forEach(([le,se])=>{const fe=re.find(ae=>ae.InstrumentoPrincipal===pe&&ae.Região===le)?.Categorias??"";ee.push({tema:pe,regiao:le,count:se,categoria:fe,instrumentos:[pe]})})}),ee};return oe.useEffect(()=>{e0("VIMEO_V8.csv").then(K=>{const re=eo(K,fe=>fe.length,fe=>fe.Tema),he=new Set([...re.entries()].filter(([fe,ae])=>ae>1).map(([fe])=>fe)),ee=K.filter(fe=>he.has(fe.Tema)),pe=ee.map(fe=>fe.Instrumento).flatMap(fe=>fe?fe.split(",").map(ae=>ae.trim()):[]).filter((fe,ae,Se)=>fe&&Se.indexOf(fe)===ae).sort();N(pe);const Ce=ee.map(fe=>fe.Categorias).filter(fe=>fe).flatMap(fe=>fe.split(",").map(ae=>ae.trim())).filter((fe,ae,Se)=>fe&&Se.indexOf(fe)===ae).sort();Y(Ce);const le=Vd(ee,fe=>fe.length,fe=>fe.Tema,fe=>fe.Região),se=[];le.forEach(([fe,ae])=>{ae.forEach(([Se,we])=>{const te=ee.find(Be=>Be.Tema===fe&&Be.Região===Se)?.Categorias??"",ke=ee.filter(Be=>Be.Tema===fe&&Be.Região===Se).map(Be=>Be.Instrumento).flatMap(Be=>Be?Be.split(",").map(je=>je.trim()):[]).filter((Be,je,Pe)=>Be&&Pe.indexOf(Be)===je);se.push({tema:fe,regiao:Se,count:we,categoria:te,instrumentos:ke})})}),c(ee),n(se),G(se),z(se),f(Array.from(new Set(se.map(fe=>fe.regiao))).sort(zi)),B(Array.from(new Set(se.map(fe=>fe.tema))).sort(zi))})},[]),oe.useEffect(()=>{let K=F.length>0?a.filter(he=>F.some(pe=>pe.tema===he.Tema&&pe.regiao===he.Região)):a,re=[];switch(O){case"temas":re=o;break;case"categorias":re=Q(K);break;case"instrumentos":re=W(K);break;default:re=o}k.length>0&&O!=="instrumentos"&&(re=re.filter(he=>k.some(ee=>he.instrumentos&&he.instrumentos.includes(ee)))),H.length>0&&O!=="categorias"&&(re=re.filter(he=>H.some(ee=>he.categoria&&he.categoria.includes(ee)))),z(re),B(Array.from(new Set(re.map(he=>he.tema))).sort(zi)),g(0),x(0)},[O,o,a,k,H,F]),oe.useEffect(()=>{if(!t){m(!1);return}const K=rt(e.current),re=+K.attr("width"),he=+K.attr("height"),ee={top:60,right:60,bottom:120,left:200},pe=re-ee.left-ee.right,Ce=he-ee.top-ee.bottom,le=K.selectAll("g.container").data([null]).join("g").attr("class","container").attr("transform",`translate(${ee.left}, ${(he-Ce)/2+60})`),se=le.selectAll("g.y-axis").data([null]).join("g").attr("class","y-axis"),fe=le.selectAll("g.images").data([null]).join("g").attr("class","images");let ae=rt("body").select(".dotplot-tooltip");ae.empty()&&(ae=rt("body").append("div").attr("class","dotplot-tooltip").style("position","absolute").style("padding","10px").style("background","white").style("color","white").style("border-radius","5px").style("pointer-events","none").style("opacity",0).style("font-family",bp).style("font-size","12px").style("box-shadow","0 2px 5px rgba(0,0,0,0.3)").style("z-index","1000"));const Se=I.map(Ae=>Ae.count).filter(Ae=>Ae>0).sort(zi),we=qm(Se),ke=oi(Se)-we,Be=[we+ke*.25,we+ke*.75],je=(Ae,qe)=>Ae<=0?null:Ae<=qe[0]?"flower3":Ae<=qe[1]?"flower4":"flower5",Pe=ez().domain([1,oi(I,Ae=>Ae.count)]).range([30,70]),ce=u.slice(b*Xb,(b+1)*Xb),ye=A.slice(d*_p,(d+1)*_p),ne=Pb().domain(ce).range([0,pe]).padding(.5),de=Pb().domain(ye).range([0,Ce]).padding(.5),xe=I.filter(Ae=>ye.includes(Ae.tema)&&ce.includes(Ae.regiao)&&Ae.count>0).map(Ae=>({...Ae,flowerType:je(Ae.count,Be)})).filter(Ae=>Ae.flowerType!==null),Te=fe.selectAll("path.flower").data(xe,Ae=>Ae.tema+Ae.regiao),Le=_!==d||w!==b,ze=!y||y!==t&&!Le;p(d),T(b),Te.exit().transition().duration(Le?0:300).style("opacity",0).attr("transform",Ae=>{const qe=ne(Ae.regiao)-Pe(Ae.count)/2,Ue=de(Ae.tema)-Pe(Ae.count)/2;return`translate(${qe}, ${Ue}) scale(0)`}).remove();const De=(Ae,qe=!1)=>{if(Le){Ae.attr("transform",Ue=>{const ct=ne(Ue.regiao)-Pe(Ue.count)/2,Ve=de(Ue.tema)-Pe(Ue.count)/2,Fe=Pe(Ue.count)/170;return`translate(${ct}, ${Ve}) scale(${Fe})`}).style("opacity",1);return}Ae.attr("transform",Ue=>{const ct=ne(Ue.regiao)-Pe(Ue.count)/2,Ve=de(Ue.tema)-Pe(Ue.count)/2;return`translate(${ct}, ${Ve}) scale(0)`}).style("opacity",0),Ae.transition().duration(700).ease(YR).attr("transform",Ue=>{const ct=ne(Ue.regiao)-Pe(Ue.count)/2,Ve=de(Ue.tema)-Pe(Ue.count)/2,Fe=Pe(Ue.count)/170;return`translate(${ct}, ${Ve}) scale(${Fe})`}).style("opacity",1)};ze?De(Te):Te.attr("transform",Ae=>{const qe=ne(Ae.regiao)-Pe(Ae.count)/2,Ue=de(Ae.tema)-Pe(Ae.count)/2,ct=Pe(Ae.count)/170;return`translate(${qe}, ${Ue}) scale(${ct})`});const He=Ae=>{let Ue=`
        <div style="margin-bottom: 5px;">
          <strong>${O.charAt(0).toUpperCase()+O.slice(1,-1)}:</strong> ${Ae.tema}
        </div>
        <div style="margin-bottom: 5px;">
          <strong>Região:</strong> ${Ae.regiao}
        </div>
        <div style="margin-bottom: 5px;">
          <strong>Ocorrências:</strong> ${Ae.count}
        </div>
      `;if((O==="temas"||O==="instrumentos")&&Ae.categoria&&(Ue+=`
            <div style="margin-bottom: 5px;">
              <strong>Categoria:</strong> ${Ae.categoria}
            </div>
          `),Ae.instrumentos&&Ae.instrumentos.length>0&&O!=="instrumentos"){const Ve=Ae.instrumentos.slice(0,3).join(", "),Fe=Ae.instrumentos.length>3?` (+${Ae.instrumentos.length-3} mais)`:"";Ue+=`
          <div style="margin-bottom: 5px;">
            <strong>Instrumentos:</strong> ${Ve}${Fe}
          </div>
        `}return Ue},Xe=Te.enter().append("path").attr("class",Ae=>`flower ${Ae.flowerType}`).attr("d",Ae=>yz(Ae.flowerType)).style("fill","#474E95").style("cursor","pointer").on("mouseover",function(Ae,qe){rt(this).transition().duration(200).style("fill","#6A5ACD").style("opacity",.9),ae.html(He(qe)).style("left",Ae.pageX+10+"px").style("top",Ae.pageY-10+"px").transition().duration(200).style("opacity",1)}).on("mousemove",function(Ae){ae.style("left",Ae.pageX+10+"px").style("top",Ae.pageY-10+"px")}).on("mouseout",function(){rt(this).transition().duration(200).style("fill","#474E95").style("opacity",1),ae.transition().duration(200).style("opacity",0)}).on("click",(Ae,qe)=>{ae.style("opacity",0);const Ue=a.filter(Fe=>{switch(O){case"temas":return Fe.Tema===qe.tema&&Fe.Região===qe.regiao;case"categorias":return Fe.Categorias&&Fe.Categorias.includes(qe.tema)&&Fe.Região===qe.regiao;case"instrumentos":return Fe.Instrumento&&Fe.Instrumento.includes(qe.tema)&&Fe.Região===qe.regiao;default:return!1}}).map(Fe=>Fe.Nome).filter((Fe,Ie,mt)=>mt.indexOf(Fe)===Ie),ct=a.filter(Fe=>{switch(O){case"temas":return Fe.Tema===qe.tema&&Fe.Região===qe.regiao;case"categorias":return Fe.Categorias&&Fe.Categorias.includes(qe.tema)&&Fe.Região===qe.regiao;case"instrumentos":return Fe.Instrumento&&Fe.Instrumento.includes(qe.tema)&&Fe.Região===qe.regiao;default:return!1}}).map(Fe=>Fe.Instrumento).flatMap(Fe=>Fe?Fe.split(",").map(Ie=>Ie.trim()):[]).filter((Fe,Ie,mt)=>Fe&&mt.indexOf(Fe)===Ie),Ve=O.charAt(0).toUpperCase()+O.slice(1,-1);rt("#categoria-info").style("display","block").html(`
            <button class="close-button">✕</button>
            <div class="card">
              <div class="header">
                <strong>${Ve}:</strong> ${qe.tema}
                <span class="regiao">${qe.regiao}</span>
              </div>
              <hr>
              <div class="section">
                <strong>Categoria:</strong>
                <ul><li>${qe.categoria}</li></ul>
              </div>
              <div class="section">
                <strong>Artistas:</strong>
                <ul>${Ue.map(Fe=>`<li>${Fe}</li>`).join("")}</ul>
              </div>
              <div class="section">
                <strong>Instrumentos:</strong>
                <ul>${ct.map(Fe=>`<li>${Fe}</li>`).join("")}</ul>
              </div>
            </div>
          `),rt("#categoria-info .close-button").on("click",()=>{rt("#categoria-info").style("display","none")})});Te.on("mouseover",function(Ae,qe){rt(this).transition().duration(200).style("fill","#6A5ACD").style("opacity",.9),ae.html(He(qe)).style("left",Ae.pageX+10+"px").style("top",Ae.pageY-10+"px").transition().duration(200).style("opacity",1)}).on("mousemove",function(Ae){ae.style("left",Ae.pageX+10+"px").style("top",Ae.pageY-10+"px")}).on("mouseout",function(){rt(this).transition().duration(200).style("fill","#474E95").style("opacity",1),ae.transition().duration(200).style("opacity",0)}),Xe.selectAll("title").remove(),Te.selectAll("title").remove(),De(Xe,!0),m(!0),le.selectAll(".x-grid").remove(),le.selectAll(".y-grid").remove(),le.selectAll(".x-grid").data(ce).enter().append("line").attr("class","x-grid").attr("x1",Ae=>ne(Ae)).attr("x2",Ae=>ne(Ae)).attr("y1",0).attr("y2",Ce).attr("stroke","#ccc").attr("stroke-dasharray","2,2").style("opacity",0),le.selectAll(".y-grid").data(ye).enter().append("line").attr("class","y-grid").attr("x1",0).attr("x2",pe).attr("y1",Ae=>de(Ae)).attr("y2",Ae=>de(Ae)).attr("stroke","#eee").attr("stroke-dasharray","2,2").style("opacity",0),le.selectAll(".x-grid, .y-grid").transition().duration(600).style("opacity",1),fe.raise(),se.call(xh(de)),se.selectAll("text").style("font-family",bp).style("font-size","12px").style("opacity",0).transition().duration(600).style("opacity",1),le.selectAll(".x-axis").remove(),le.append("g").attr("class","x-axis").call(B_(ne).tickValues(ce)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","start").style("font-family",bp).style("font-size","12px").style("opacity",0).transition().duration(600).style("opacity",1)},[t,I,A,u,d,b,y,_,w,O]),$.jsxs("div",{className:"dotplotPT-container",children:[$.jsxs("div",{className:"dotplotPT-filters",children:[$.jsxs("div",{className:"modo-visualizacao",children:[$.jsx("label",{children:"Eixo Y - Visualizar por:"}),$.jsxs("select",{value:O,onChange:K=>P(K.target.value),className:"modo-select",children:[$.jsx("option",{value:"temas",children:"Temas"}),$.jsx("option",{value:"categorias",children:"Categorias"}),$.jsx("option",{value:"instrumentos",children:"Instrumentos"})]})]}),O!=="categorias"&&$.jsxs("div",{className:"categoria-filter",children:[$.jsx("button",{className:"filter-button",onClick:()=>X(!U),children:H.length===0?"Filtrar por Categoria":`${H.length} categoria(s) selecionada(s)`}),U&&$.jsxs("div",{className:"dropdown-menu",children:[$.jsxs("div",{className:"dropdown-header",children:[$.jsx("button",{className:"select-all-button",onClick:()=>{H.length===j.length?q([]):q([...j])},children:H.length===j.length?"Desselecionar Todos":"Selecionar Todos"}),$.jsx("button",{className:"close-dropdown",onClick:()=>X(!1),children:"✕"})]}),$.jsx("div",{className:"instrumento-list",children:j.map(K=>$.jsxs("label",{className:"instrumento-item",children:[$.jsx("input",{type:"checkbox",checked:H.includes(K),onChange:()=>{H.includes(K)?q(H.filter(re=>re!==K)):q([...H,K])}}),K]},K))})]})]}),O!=="instrumentos"&&$.jsxs("div",{className:"instrumento-filter",children:[$.jsx("button",{className:"filter-button",onClick:()=>R(!E),children:k.length===0?"Filtrar por Instrumento":`${k.length} instrumento(s) selecionado(s)`}),E&&$.jsxs("div",{className:"dropdown-menu",children:[$.jsxs("div",{className:"dropdown-header",children:[$.jsx("button",{className:"select-all-button",onClick:()=>{k.length===C.length?D([]):D([...C])},children:k.length===C.length?"Desselecionar Todos":"Selecionar Todos"}),$.jsx("button",{className:"close-dropdown",onClick:()=>R(!1),children:"✕"})]}),$.jsx("div",{className:"instrumento-list",children:C.map(K=>$.jsxs("label",{className:"instrumento-item",children:[$.jsx("input",{type:"checkbox",checked:k.includes(K),onChange:()=>{k.includes(K)?D(k.filter(re=>re!==K)):D([...k,K])}}),K]},K))})]})]})]}),$.jsxs("div",{className:"dotplotPT-info",children:[$.jsx("svg",{ref:e,width:1200,height:1e3}),$.jsx("div",{id:"categoria-info",style:{marginTop:"1rem",fontSize:"14px"}})]}),$.jsx("div",{className:"dotplotPT-controls",children:$.jsxs("div",{children:[$.jsx("button",{onClick:()=>g(K=>Math.max(K-1,0)),disabled:d===0,children:"↑"}),$.jsxs("span",{style:{margin:"0 10px"},children:[O.charAt(0).toUpperCase()+O.slice(1,-1)," ",d+1]}),$.jsx("button",{onClick:()=>g(K=>Math.min(K+1,V-1)),disabled:d>=V-1,children:"↓"})]})})]})},tw=document.createElement("script");tw.src="/perlin.js";document.head.appendChild(tw);const _z=({active:t})=>{const e=oe.useRef(),o=oe.useRef();oe.useEffect(()=>{if(!t)return;const a=rt(e.current),c=+a.attr("width"),u=+a.attr("height"),f=a.append("g").attr("transform",`translate(${c/2}, ${u/2}) scale(0.7)`),d=rt(o.current);return e0("VIMEO_V8.csv").then(g=>{const b=g.filter(R=>{const O=parseInt(R.Ano);return!isNaN(O)&&R.Tema&&R.Tema!=="#VALUE!"});b.forEach(R=>{R.ano=parseInt(R.Ano)}),b.sort((R,O)=>zi(R.ano,O.ano));const x=eo(b,R=>R.length,R=>R.Tema),y=b.filter(R=>x.get(R.Tema)>1),m=Array.from(new Set(y.map(R=>R.ano))).sort((R,O)=>R-O),_=["#C33512","#474E95","#E09D2C"],p=R=>{const O=m.indexOf(R);return _[O%_.length]},w=5,T=10,C=15,N=[];let k=0;for(let R=0;R<y.length;R++){const O=w+T*k,P=O*Math.cos(k),j=O*Math.sin(k);y[R].x=P,y[R].y=j,N.push({x:P,y:j});const Y=T,H=Math.sqrt(O*O+Y*Y);k+=C/H}const D=Qx().x(R=>R.x).y(R=>R.y).curve(gz);f.append("path").datum(N).attr("d",D).attr("fill","none").attr("stroke","#999").attr("stroke-width",1).attr("stroke-dasharray",function(){const R=this.getTotalLength();return`${R} ${R}`}).attr("stroke-dashoffset",function(){return this.getTotalLength()}).transition().duration(3e3).ease(PR).attr("stroke-dashoffset",0),f.selectAll(".custom-shape").data(y).enter().append("path").attr("class","custom-shape").attr("d","M22.31.51C10.72.94-.51,29.44.57,30.05c.38.21,1.47-3.48,6.15-7.74,8.75-7.95,16.98-5.9,20.5-12.89.24-.47,2.29-4.63.52-7.08-1.44-1.99-4.68-1.86-5.43-1.84Z").attr("fill",R=>p(R.ano)).attr("opacity",0).attr("transform",(R,O)=>{const q=Math.atan2(R.y,R.x)*180/Math.PI,U=O%2===0?q-140:q+80;return`translate(${R.x}, ${R.y}) rotate(${U}) scale(${.8}) translate(${.57}, ${-30.05})`}).transition().delay((R,O)=>O*5).duration(300).attr("opacity",1),f.selectAll(".custom-shape").on("mouseover",(R,O)=>{const P=e.current.parentNode.getBoundingClientRect();d.style("opacity",1).html(`<strong>${O.Tema}</strong><br>Ano: ${O.Ano}`).style("left",R.clientX-P.left+10+"px").style("top",R.clientY-P.top-20+"px")}).on("mouseout",()=>{d.style("opacity",0)}).on("click",function(R,O){const P=O.Tema;f.selectAll(".custom-shape").transition().duration(300).attr("opacity",Y=>Y.Tema===P?1:.1),f.selectAll(".highlight-line").remove();const j=y.filter(Y=>Y.Tema===P).sort((Y,H)=>zi(Y.ano,H.ano));if(j.length>1)for(let Y=0;Y<j.length-1;Y++)f.append("path").attr("class","highlight-line").attr("fill","none").attr("stroke","#6B3F21").attr("stroke-width",2.5).attr("d",n(j[Y].x,j[Y].y,j[Y+1].x,j[Y+1].y));R.stopPropagation()});let G=null;f.selectAll(".year-label").data(y).enter().filter(R=>{const O=R.ano;return O!==G?(G=O,!0):!1}).append("text").attr("x",R=>R.x+15).attr("y",R=>R.y).text(R=>R.ano).attr("font-size","14px").attr("fill","#444").attr("alignment-baseline","middle").attr("opacity",0).transition().delay((R,O)=>O*50).duration(400).attr("opacity",1);const E=a.append("g").attr("transform",`translate(${c-160}, ${u/2-m.length*10})`);m.forEach((R,O)=>{const P=E.append("g").attr("transform",`translate(0, ${O*20})`);P.append("rect").attr("width",14).attr("height",14).attr("fill",p(R)),P.append("text").attr("x",20).attr("y",11).text(R).style("font-size","12px").attr("alignment-baseline","middle")})}),a.on("click",function(g){g.target.tagName!=="path"&&(f.selectAll(".custom-shape").transition().duration(300).attr("opacity",1),f.selectAll(".highlight-line").remove())}),()=>{a.selectAll("*").remove()}},[t]);const n=(a,c,u,f)=>{const d=u-a,g=f-c,b=Math.sqrt(d*d+g*g),x=(a+u)/2,y=(c+f)/2,m=-g/b,_=d/b,p=Math.min(b*.5,50),w=Date.now()*1e-5,T=.02,C=window.noise?window.noise.perlin3(x*T,y*T,w)*100:0,N=x+m*p+C,k=y+_*p+C,D=300;let F=`M ${a} ${c}`;for(let G=1;G<=D;G++){const E=G/D,R=1-E,O=R*R*a+2*R*E*N+E*E*u,P=R*R*c+2*R*E*k+E*E*f,j=window.noise?window.noise.perlin3(O*T*2,P*T*2,w)*8:0,Y=window.noise?window.noise.perlin3(P*T*2,O*T*2,w+100)*8:0;F+=` L ${O+j} ${P+Y}`}return F};return $.jsxs("div",{style:{position:"relative"},children:[$.jsx("svg",{ref:e,width:1500,height:1e3}),$.jsx("div",{ref:o,className:"tooltip-spiral"})]})};function xz(){const[t,e]=oe.useState(1),[o,n]=oe.useState(!1),a=xi(),c=Ao();oe.useEffect(()=>{const g=new URLSearchParams(a.search),b=parseInt(g.get("vis"),10);!isNaN(b)&&b>=1&&b<=4?e(b):e(1)},[a.search]);const u=()=>{if(t<4){const g=t+1;e(g),c(`/portuguese?vis=${g}`)}},f=()=>{if(t>1){const g=t-1;e(g),c(`/portuguese?vis=${g}`)}},d=()=>o?$.jsx("div",{className:"legend-overlay",onClick:()=>n(!1),children:$.jsxs("div",{className:"legend-modal",onClick:g=>g.stopPropagation(),children:[t===1&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda do gráfico"}),$.jsxs("ul",{style:{listStyle:"none",padding:0},children:[$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#C33512",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Flor vermelha"}),": Tema (tamanho proporcional ao número de ocorrências)"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#E09D2C",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Círculo amarelo"}),": Região"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:30,height:4,background:"#6B3F21",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Linha castanha"}),": Ligação entre tema e região (espessura = nº de ocorrências)"]})]}),$.jsxs("p",{style:{fontSize:"12px",color:"#555"},children:["Clique numa flor para destacar as ligações.",$.jsx("br",{}),"Passe o rato sobre uma flor para ver detalhes."]})]}),t===2&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Círculos:"})," Representam a quantidade de temas por distrito."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Linhas curvas:"})," Conexões entre distritos com temas em comum."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Tamanho do círculo:"})," Proporcional ao número de temas."]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Cor dos círculos:"})," Fixa, com opacidade para sobreposição."]})]})]}),t===3&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{className:"legenda-titulo",children:"Legenda do Gráfico"}),$.jsxs("div",{className:"legenda-secao",children:[$.jsx("p",{children:$.jsx("strong",{children:"O que este gráfico mostra:"})}),$.jsx("p",{children:"Este gráfico de pontos mostra a distribuição de temas musicais folclóricos por regiões de Portugal. O tamanho de cada flor representa a quantidade de registros para cada combinação de tema e região."})]}),$.jsxs("div",{className:"legenda-secao",children:[$.jsx("p",{children:$.jsx("strong",{children:"Como interpretar:"})}),$.jsxs("ul",{children:[$.jsx("li",{children:"Cada flor representa um tema musical numa região específica"}),$.jsx("li",{children:"Quanto maior a flor, mais registros existem desse tema nessa região"}),$.jsx("li",{children:"Clique em qualquer flor para ver detalhes sobre os artistas, instrumentos e categorias"})]})]}),$.jsxs("div",{className:"legenda-secao",children:[$.jsx("p",{children:$.jsx("strong",{children:"Navegação:"})}),$.jsx("p",{children:"Use os botões de paginação para navegar entre diferentes temas e regiões, pois nem todos podem ser mostrados simultaneamente."})]}),$.jsxs("div",{className:"legenda-exemplo",children:[$.jsx("svg",{width:"80",height:"80",viewBox:"0 0 170 170",children:$.jsx("path",{d:"M84.11,83.26c-7.25-7.17-13.98-12.9-20.19-17.4-7.28-9.86-13.1-23.1-10.41-38.76C58.37-1.17,91.17-3.59,105.45,4.61c9.18,5.27,22.85,24.06-3.08,59.58-9.91,7.41-16.33,16.23-18.26,19.06ZM141.5,53.51c-15.86-2.73-29.24,3.28-39.14,10.68-4.44,6.08-10.05,12.66-17.03,19.74,2.87,1.95,11.87,8.51,19.34,18.63,35.35,25.66,54.05,12.03,59.31,2.88,8.2-14.27,5.79-47.08-22.48-51.94ZM63.92,65.85c-35.35-25.66-54.05-12.03-59.31-2.88-8.2,14.27-5.79,47.08,22.48,51.94,15.86,2.73,29.24-3.28,39.14-10.68,4.44-6.08,10.05-12.66,17.03-19.74-2.87-1.95-11.87-8.51-19.34-18.63ZM84.11,83.26c-.41.6-.61.93-.61.93.01.01.02.02.03.03.26-.26.51-.52.77-.78-.06-.06-.12-.12-.18-.18ZM66.23,104.23c-25.93,35.52-12.26,54.31-3.08,59.58,14.27,8.2,47.08,5.79,51.94-22.48,2.69-15.67-3.13-28.91-10.41-38.76-6.21-4.51-12.93-10.24-20.19-17.4-1.93,2.84-8.35,11.65-18.26,19.06ZM84.29,83.44c.26.26.52.51.78.77.09-.09.18-.18.27-.27-.59-.4-.93-.61-.93-.61-.04.04-.08.08-.11.12ZM83.26,84.49c.59.4.93.61.93.61.04-.04.08-.08.11-.12-.26-.26-.52-.51-.78-.77-.09.09-.18.18-.27.27ZM84.49,85.17c.41-.6.61-.93.61-.93-.01-.01-.02-.02-.03-.03-.26.26-.51.52-.77.78.06.06.12.12.18.18Z",className:"legenda-flor-exemplo"})}),$.jsxs("span",{className:"legenda-texto-exemplo",children:[$.jsx("strong",{children:"Flor:"})," Representa a presença de um tema musical numa região"]})]})]}),t===4&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda - Strings of Connection"}),$.jsx("p",{children:"Descrição da legenda para o chord diagram..."})]})]})}):null;return $.jsxs($.Fragment,{children:[$.jsx(N_,{}),$.jsxs("div",{className:"visPT-container",children:[$.jsxs("div",{className:"vis1",style:{display:t===1?"grid":"none"},children:[$.jsx("div",{id:"network-section",className:"vispt-roots",children:$.jsx(vz,{})}),$.jsxs("div",{className:"roots-description",children:[$.jsx("h2",{className:"roots-title",children:"Portuguese Musical Roots"}),$.jsx("p",{className:"roots-text",children:"Portuguese folk music emerges like a deep echo of local communities. In this visualization, we trace some of the traditional songs with the most variations across the land, branching out like living roots. Each ramification represents a shared story, a sung tradition, a connection between people from the north to the south of the country."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]})]}),$.jsxs("div",{className:"vis2",style:{display:t===2?"grid":"none"},children:[$.jsxs("div",{className:"map-description",children:[$.jsx("h2",{className:"map-title",children:"Echoes Across the Land "}),$.jsx("p",{className:"map-text",children:"By mapping folk music recordings by district, we reveal the density and geographic spread of Portugal’s traditional repertoire. The connections between districts highlight songs that cross administrative borders — shared echoes that unite regions through common melodies."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"map-section",className:"visPT-map",children:$.jsx(mz,{active:t===2},t===2?Date.now():"hidden")})]}),$.jsxs("div",{className:"vis3",style:{display:t===3?"grid":"none"},children:[$.jsxs("div",{className:"dotplot-PT-description",children:[$.jsx("h2",{className:"dotplot-PT-title",children:"Wandering Melodies"}),$.jsx("p",{className:"dotplot-PT-text",children:"Which folk songs echo the most across Portugal? Who were the voices behind them, and what instruments carried their melodies? Explore the similiarities and patterns between the songs across the country’s cultural soundscape."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"dotplot-section",className:"visPT-dotplot",children:t===3&&$.jsx(bz,{active:!0})})]}),$.jsxs("div",{className:"vis4",style:{display:t===4?"grid":"none"},children:[$.jsxs("div",{className:"spiral-description",children:[$.jsx("h2",{className:"spiral-title",children:"The Spiral of Time"}),$.jsx("p",{className:"spiral-text",children:"Some songs endure across generations, reappearing throughout time with the same name but new voices. This spiral traces those songs over the years, connecting them chronologically and revealing patterns in how cultural memory is preserved through music."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"spiral-section",className:"visPT-spiral",children:$.jsx(_z,{active:t===4})})]}),$.jsxs("div",{className:"nav-buttons",children:[t>1&&$.jsx("button",{onClick:f,className:"nav-btn up",children:"↑"}),t<4&&$.jsx("button",{onClick:u,className:"nav-btn down",children:"↓"})]})]}),d()]})}const nw=document.createElement("script");nw.src="/perlin.js";document.head.appendChild(nw);const wz=()=>{const t=oe.useRef(),e=oe.useRef(),[o,n]=oe.useState(!1);return oe.useEffect(()=>{const u=rt(t.current).attr("width",1e3).attr("height",800);u.selectAll("*").remove();const f=u.append("g").attr("transform",`scale(0.7) translate(${1e3*.1}, ${800*.1})`),d=rt(e.current);Mo(Jm);const g=qn().range([10,35]),b=qn().range([.2,.5]);Ah("rootsVis1.json").then(x=>{const y=Object.fromEntries(Object.entries(x.temasFiltrados).filter(([O,P])=>P.totalOcorrencias>800)),m=[],_=[],p={},w=new Set,T=oi(Object.values(y),O=>O.totalOcorrencias),C=qm(Object.values(y),O=>O.totalOcorrencias);g.domain([1,T]),b.domain([C,T]);for(const O in y){const P=y[O],j=P.nomeMusica,Y=P.totalOcorrencias;if(!p[j]){const H={id:j,type:"name",count:Y};m.push(H),p[j]=H}P.ligacoes.forEach(H=>{const q=H.modo;if(w.add(q),!p[q]){const U={id:q,type:"mode"};m.push(U),p[q]=U}_.push({source:j,target:q,value:H.ocorrencias})})}const N=wx(m).force("link",xx(_).id(O=>O.id).distance(150).strength(1)).force("charge",Sx().strength(-1e3)).force("center",yx(1e3/2,800/2)).alphaDecay(.05),k=f.append("g").attr("class","links").selectAll("path").data(_).join("path").attr("stroke","#6B3F21").attr("stroke-width",O=>Math.min(Math.sqrt(O.value),8)).attr("stroke-opacity",.6).attr("fill","none"),D="M67.39,57.82c-6.8-.16-12.45,5.22-12.62,12.02-.16,6.8,5.22,12.45,12.02,12.62,6.8.16,12.45-5.22,12.62-12.02.16-6.8-5.22-12.45-12.02-12.62ZM112.48,69.24c11.24-6.03,22.01-15.76,21.15-30.79-.23-4.07-1.9-8.02-4.99-10.68-3.89-3.35-10.8-5.67-22.48-.17,0,0,8.94-9.9.69-20.12-4.57-5.66-12.1-8.03-19.22-6.56-6.54,1.35-15.17,4.51-21.36,11.85-6.01-6.07-13.74-8.82-19.72-10.05-7.12-1.47-14.65.9-19.22,6.56-8.25,10.21.69,20.12.69,20.12-11.69-5.5-18.59-3.18-22.48.17-3.09,2.66-4.76,6.61-4.99,10.68-.86,15.03,9.9,24.75,21.15,30.79C10.45,77.07-.31,86.79.55,101.82c.23,4.07,1.9,8.02,4.99,10.68,3.89,3.35,10.79,5.67,22.48.17,0,0-8.94,9.9-.69,20.12,4.57,5.66,12.1,8.03,19.22,6.56,6.54-1.35,15.17-4.51,21.36-11.85,6.01,6.07,13.74,8.82,19.72,10.05,7.12,1.47,14.65-.9,19.22-6.56,8.25-10.21-.69-20.12-.69-20.12,11.69,5.5,18.59,3.18,22.48-.17,3.09-2.66,4.76-6.61,4.99-10.68.86-15.03-9.9-24.75-21.15-30.79ZM128.37,101.51c-4.52,13.95-20.14,3.6-20.14,3.6,3.81,1.85,17.55-3.93,7.43-13.16-10.12-9.24-15.06,4.51-15.06,4.51.14-13.57-6.54-14.26-11.52-12.9-3.93,1.08-7.13,4.18-7.84,8.2-1.53,8.62,9.03,11.55,9.03,11.55-11.01,8.94-2.16,15.12-2.16,15.12,10.25,5.46,13.53-4.98,13.53-4.98,4.96,20-12.02,17.82-12.02,17.82-8.24-.45-13.74-4.59-17.67-9.92,2.68-5.39,4.22-12.31,3.81-21.19-1.59.27-4.04,3.34-5.71,7.07-.8,1.8-1.67,3.94-2.68,6.21-1.27-2.74-2.32-5.49-3.26-8-1.28-3.42-4.11-6.8-5.71-7.07-.46,9.88,1.51,17.33,4.76,22.95-3.86,5.88-9.5,11-18.63,11.75,0,0-16.99,2.18-12.02-17.82,0,0,3.28,10.44,13.53,4.98,0,0,8.85-6.17-2.16-15.12,0,0,10.56-2.93,9.03-11.55-.71-4.02-3.91-7.12-7.84-8.2-4.98-1.36-11.66-.68-11.52,12.9,0,0-4.94-13.75-15.06-4.51-10.12,9.24,3.62,15.01,7.43,13.16,0,0-15.62,10.35-20.14-3.6-3-9.26,6.28-21.34,23.17-28.83,9.09,3.74,16.84,5.15,16.84,5.15-.27-3.98-3.03-7.34-6.87-8.43-.18-.05-.35-.11-.52-.16.18-.05.35-.11.52-.16,3.84-1.09,6.6-4.45,6.87-8.43,0,0-7.75,1.41-16.84,5.15C12.09,60.12,2.8,48.03,5.81,38.77c4.52-13.95,20.14-3.6,20.14-3.6-3.81-1.85-17.55,3.93-7.43,13.16,10.12,9.24,15.06-4.51,15.06-4.51-.14,13.57,6.54,14.26,11.52,12.9,3.93-1.08,7.13-4.18,7.84-8.2,1.53-8.62-9.03-11.55-9.03-11.55,11.01-8.94,2.16-15.12,2.16-15.12-10.25-5.46-13.53,4.98-13.53,4.98-4.96-20,12.02-17.82,12.02-17.82,8.05.65,13.85,4.57,17.92,9.46-2.82,5.46-4.48,12.51-4.05,21.64,1.59-.27,5.04-3.48,5.71-7.07.45-2.4,1.28-5.24,2.55-8.13,1.76,3.5,2.85,7.02,3.39,9.92.67,3.59,4.11,6.8,5.71,7.07.48-10.34-1.7-18.01-5.23-23.72,4.09-5.58,10.23-10.25,19.09-10.97,0,0,16.99-2.18,12.02,17.82,0,0-3.28-10.44-13.53-4.98,0,0-8.85,6.17,2.16,15.12,0,0-10.56,2.93-9.03,11.55.71,4.01,3.91,7.12,7.84,8.2,4.98,1.36,11.66.68,11.52-12.9,0,0,4.94,13.75,15.06,4.51,10.12-9.24-3.62-15.01-7.43-13.16,0,0,15.62-10.35,20.14,3.6,3,9.26-6.28,21.34-23.17,28.83-9.09-3.74-16.84-5.15-16.84-5.15.27,3.98,3.03,7.34,6.87,8.43.18.05.35.11.52.16-.18.05-.35.11-.52.16-3.84,1.09-6.6,4.45-6.87,8.43,0,0,7.75-1.41,16.84-5.15,16.89,7.49,26.18,19.57,23.17,28.83Z",F=f.append("g").attr("class","nodes").selectAll("path").data(m).join("path").attr("class",O=>`node ${O.type}`).attr("d",O=>O.type==="name"?D:Kx().type(t3).size(314)()).attr("fill",O=>O.type==="mode"?"#5193AE":"#82813E").attr("fill-opacity",.9).attr("transform",O=>{if(O.type==="name"){const P=b(O.count),j=-60*P;return`translate(${(O.x||0)+j}, ${(O.y||0)+j}) scale(${P})`}else return`translate(${O.x||0}, ${O.y||0})`}).on("mouseover",(O,P)=>{P.type==="name"&&d.style("display","block").html(`<strong>${P.id}</strong><br/>Ocorrências: ${P.count}`)}).on("mousemove",O=>{d.style("left",O.pageX+10+"px").style("top",O.pageY-20+"px")}).on("mouseout",()=>{d.style("display","none")}).on("click",(O,P)=>{P.type==="name"&&R(P.id),O.stopPropagation()}).call(E(N)),G=f.append("g").selectAll("text").data(m).join("text").text(O=>O.type==="mode"?O.id:"").attr("font-size","10px").attr("dx",10).attr("dy","0.35em").style("opacity",0);N.on("tick",()=>{k.attr("d",O=>{const P=O.target.x-O.source.x,j=O.target.y-O.source.y,Y=Math.sqrt(P*P+j*j),H=(O.source.x+O.target.x)/2,q=(O.source.y+O.target.y)/2,U=-j/Y,X=P/Y,I=Math.min(Y*.5,50),z=Date.now()*1e-5,A=.02,B=noise.perlin3(H*A,q*A,z)*100,V=H+U*I+B,Q=q+X*I+B,W=50;let K=`M ${O.source.x} ${O.source.y}`;for(let re=1;re<=W;re++){const he=re/W,ee=he*he,pe=1-he,Ce=pe*pe,le=Ce*O.source.x+2*pe*he*V+ee*O.target.x,se=Ce*O.source.y+2*pe*he*Q+ee*O.target.y,fe=noise.perlin3(le*A*2,se*A*2,z)*8,ae=noise.perlin3(se*A*2,le*A*2,z+100)*8;K+=` L ${le+fe} ${se+ae}`}return K}),F.attr("transform",O=>{if(O.type==="name"){const P=b(O.count),j=-60*P;return`translate(${O.x+j}, ${O.y+j}) scale(${P})`}else return`translate(${O.x}, ${O.y})`}),G.attr("x",O=>O.x).attr("y",O=>O.y)});function E(O){return Kl().on("start",(P,j)=>{P.active||O.alphaTarget(.3).restart(),j.fx=j.x,j.fy=j.y}).on("drag",(P,j)=>{j.fx=P.x,j.fy=P.y}).on("end",(P,j)=>{P.active||O.alphaTarget(0),j.fx=null,j.fy=null})}function R(O){F.style("opacity",P=>P.id===O||_.some(j=>j.source.id===O&&j.target.id===P.id||j.target.id===O&&j.source.id===P.id)?1:.1),k.style("opacity",P=>P.source.id===O||P.target.id===O?1:.1),G.style("opacity",P=>P.type==="mode"&&_.some(j=>j.source.id===O&&j.target.id===P.id||j.target.id===O&&j.source.id===P.id)?1:0)}u.on("click",()=>{F.style("opacity",1),k.style("opacity",.6),G.style("opacity",0)})})},[]),$.jsxs("div",{children:[$.jsx("svg",{ref:t}),$.jsx("div",{ref:e,className:"tooltipIE",style:{position:"absolute",display:"none"}}),o&&$.jsx("div",{className:"legend-popup-overlay",onClick:()=>n(!1),children:$.jsxs("div",{className:"legend-popup-content",onClick:a=>a.stopPropagation(),children:[$.jsx("button",{className:"legend-popup-close",onClick:()=>n(!1),"aria-label":"Fechar legenda",children:"×"}),$.jsx("h3",{children:"Legenda do gráfico"}),$.jsxs("ul",{style:{listStyle:"none",padding:0},children:[$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#5193AE",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Círculo azul"}),": Nome da música (tamanho proporcional ao número de ocorrências)"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#82813E",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Círculo verde"}),": Modo musical"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:30,height:4,background:"#6B3F21",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Linha castanha"}),": Ligação entre música e modo (espessura = nº de ocorrências)"]})]}),$.jsxs("p",{style:{fontSize:"12px",color:"#555"},children:["Clique num círculo azul para destacar as ligações.",$.jsx("br",{}),"Passe o rato sobre um círculo azul para ver detalhes."]})]})})]})},Vb=getComputedStyle(document.documentElement).getPropertyValue("--font-secondary").trim(),Va={top:100,right:50,bottom:20,left:400},nf=20,Sz=()=>{const t=oe.useRef(),[e,o]=oe.useState([]),[n,a]=oe.useState(0),[c,u]=oe.useState(!1),[f,d]=oe.useState(!0),[g,b]=oe.useState("Carregando dados..."),[x,y]=oe.useState(!0),[m,_]=oe.useState(!1);oe.useEffect(()=>{d(!0),b("Carregando dados musicais..."),e0("sets.csv").then(F=>{b("Processando informações..."),setTimeout(()=>{o(F),b("Finalizando..."),setTimeout(()=>{d(!1)},500)},300)}).catch(F=>{console.error("Erro ao carregar dados:",F),b("Erro ao carregar dados"),setTimeout(()=>{d(!1)},2e3)})},[]);const p=oe.useMemo(()=>Array.from(new Set(e.map(F=>F.name))).sort(),[e]),w=oe.useMemo(()=>Array.from(new Set(e.map(F=>F.type))).sort(),[e]),T=oe.useMemo(()=>eo(e,F=>F.length,F=>F.name,F=>F.type),[e]);oe.useEffect(()=>{e.length&&p.length&&w.length&&T.size&&N()},[e,p,w,T,n,c]);const C=()=>Array.from(T.entries()).filter(([F,G])=>G.size>1).map(([F])=>F).sort(),N=()=>{const F=rt(t.current);F.selectAll("g").remove(),G(),x||setTimeout(()=>y(!0),0);function G(){const E=+F.attr("width")-Va.left-Va.right,R=+F.attr("height")-Va.top-Va.bottom,O=+F.attr("width"),P=Va.left+(O-Va.left-Va.right-E)/2,j=F.append("g").attr("transform",`translate(${P},${Va.top})`).style("opacity",x?0:1),H=(c?C():p).slice(n,n+nf),q=rh().domain(w).range([0,E]).padding(.1),U=rh().domain(H).range([0,R]).padding(.1),X=oi(Array.from(T.values(),B=>oi(B.values()))),I=qn().domain([1,X]).range([6,24]);j.append("g").call(xh(U)).selectAll("text").style("font-family",Vb).style("font-size","14px"),j.append("g").attr("transform","translate(0,-10)").call(B_(q)).selectAll("text").attr("transform","rotate(0)").style("text-anchor","center").style("font-family",Vb).style("font-size","14px"),j.selectAll(".y-grid").data(H).enter().append("line").attr("class","y-grid").attr("x1",0).attr("x2",E).attr("y1",B=>U(B)+U.bandwidth()/2).attr("y2",B=>U(B)+U.bandwidth()/2).attr("stroke","#ccc").attr("stroke-dasharray","2,2"),j.selectAll(".x-grid").data(w).enter().append("line").attr("class","x-grid").attr("y1",0).attr("y2",R).attr("x1",B=>q(B)+q.bandwidth()/2).attr("x2",B=>q(B)+q.bandwidth()/2).attr("stroke","#ccc").attr("stroke-dasharray","2,2"),rt("body").selectAll(".tooltip").remove();const z=rt("body").append("div").attr("class","tooltip").style("opacity",0),A=[];for(const[B,V]of T)if(H.includes(B))for(const[Q,W]of V){const K=I(W),re=j.append("circle").attr("cx",q(Q)+q.bandwidth()/2).attr("cy",U(B)+U.bandwidth()/2).attr("r",x?0:K).attr("fill","#4a90e2").attr("stroke","#2c5aa0").attr("stroke-width",.5).style("opacity",x?0:.8).on("mouseover",function(he){rt(this).attr("stroke-width",2).style("opacity",1),z.transition().duration(100).style("opacity",1),z.html(`<strong>${B}</strong><br>${Q}: <b>${W}</b> variações`)}).on("mousemove",function(he){z.style("left",he.pageX+10+"px").style("top",he.pageY-20+"px")}).on("mouseout",function(){rt(this).attr("stroke-width",.5).style("opacity",.8),z.transition().duration(200).style("opacity",0)});x&&A.push({circle:re,finalRadius:K})}x&&(j.transition().duration(700).style("opacity",1),A.forEach(({circle:B,finalRadius:V},Q)=>{B.transition().delay(200+Q*10).duration(700).attr("r",V).style("opacity",.8)}))}},k=()=>{d(!0),b("Aplicando filtro..."),setTimeout(()=>{u(F=>!F),a(0),b("Atualizando visualização..."),setTimeout(()=>{d(!1)},500)},200)},D=F=>{d(!0),b("Carregando página..."),y(!1),setTimeout(()=>{if(F==="up")a(G=>Math.max(G-nf,0));else{const G=c?C():p;n+nf<G.length&&a(E=>E+nf)}setTimeout(()=>{d(!1)},300)},200)};return $.jsxs("div",{className:"DotPlotTypes-container",style:{position:"relative",minHeight:"100vh"},children:[f&&$.jsx("div",{className:"loading-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999},children:$.jsxs("div",{className:"loading-content",children:[$.jsx("div",{className:"loading-spinner"}),$.jsx("div",{className:"loading-text",children:g})]})}),$.jsxs("div",{className:"controls",children:[$.jsx("button",{onClick:k,disabled:f,id:"filter-multi-type",style:{opacity:f?.6:1,cursor:f?"not-allowed":"pointer"},children:c?"Mostrar todas as músicas":"Mostrar apenas músicas com mais de um tipo"}),$.jsx("button",{id:"nav-up",onClick:()=>D("up"),disabled:f||n===0,style:{opacity:f||n===0?.6:1,cursor:f||n===0?"not-allowed":"pointer"},children:"↑"}),$.jsx("button",{id:"nav-down",onClick:()=>D("down"),disabled:f,style:{opacity:f?.6:1,cursor:f?"not-allowed":"pointer"},children:"↓"})]}),m&&!f&&$.jsx("div",{className:"legend-modal",children:$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>_(!1),children:"×"}),$.jsx("h3",{children:"Legenda do gráfico"}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Sobre o Gráfico:"}),$.jsxs("p",{children:["Este é um ",$.jsx("strong",{children:"Dot Plot"})," que mostra a relação entre músicas folclóricas e seus tipos musicais."]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Como Ler:"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Eixo Vertical (Y):"})," Nomes das músicas"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Eixo Horizontal (X):"})," Tipos de música"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Círculos:"})," Indicam que uma música pertence a um tipo específico"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Tamanho dos Círculos:"})," Círculos maiores representam mais variações da música nesse tipo"]})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Tamanhos:"}),$.jsxs("div",{className:"size-legend",children:[$.jsxs("div",{className:"size-item",children:[$.jsx("div",{className:"size-circle small",style:{width:"6px",height:"6px",backgroundColor:"#4a90e2",borderRadius:"50%",border:"1px solid #2c5aa0"}}),$.jsx("span",{children:"Poucas variações"})]}),$.jsxs("div",{className:"size-item",children:[$.jsx("div",{className:"size-circle medium",style:{width:"16px",height:"16px",backgroundColor:"#4a90e2",borderRadius:"50%",border:"1px solid #2c5aa0"}}),$.jsx("span",{children:"Variações médias"})]}),$.jsxs("div",{className:"size-item",children:[$.jsx("div",{className:"size-circle large",style:{width:"24px",height:"24px",backgroundColor:"#4a90e2",borderRadius:"50%",border:"1px solid #2c5aa0"}}),$.jsx("span",{children:"Muitas variações"})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Controles:"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Filtro:"})," Mostra apenas músicas com múltiplos tipos"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Navegação (↑/↓):"})," Navega entre páginas do gráfico"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Hover:"})," Passe o mouse sobre os círculos para ver detalhes"]})]})]})]})]})}),$.jsx("svg",{className:"DotPlotTypessvg",ref:t,width:1500,height:900})]})},kl=getComputedStyle(document.documentElement).getPropertyValue("--font-secondary").trim(),Tz=({active:t})=>{const e=oe.useRef(),o=oe.useRef(),[n,a]=oe.useState([]),[c,u]=oe.useState([]),[f,d]=oe.useState([]),[g,b]=oe.useState(null),[x,y]=oe.useState([0,100]),[m,_]=oe.useState(!1),[p,w]=oe.useState(!1),[T,C]=oe.useState([]),[N,k]=oe.useState([]),[D,F]=oe.useState(!0),[G,E]=oe.useState("Carregando dados..."),[R,O]=oe.useState(!1),[P,j]=oe.useState({meter:[],mode:[],type:[]}),[Y,H]=oe.useState({meter:[],mode:[],type:[]}),[q,U]=oe.useState(!1),X={top:50,right:280,bottom:50,left:70},I=1500-X.left-X.right,z=600-X.top-X.bottom,A=80,B={top:10,right:10,bottom:20,left:10},V=I*.6;oe.useEffect(()=>{F(!0),E("Carregando dados de pitch..."),Ah("pitch_compressed.json").then(le=>{const se=eo(le,ae=>ae.length,ae=>ae.name),fe=Array.from(se.entries()).filter(([ae,Se])=>Se>1).map(([ae])=>ae);return a(fe),u(fe),d(le),E("Carregando informações musicais..."),e0("sets.csv")}).then(le=>{C(le);const se=[...new Set(le.map(Se=>Se.meter).filter(Boolean))],fe=[...new Set(le.map(Se=>Se.mode).filter(Boolean))],ae=[...new Set(le.map(Se=>Se.type).filter(Boolean))];j({meter:se,mode:fe,type:ae}),E("Finalizando..."),setTimeout(()=>{F(!1)},500)}).catch(le=>{console.error("Erro ao carregar dados:",le),E("Erro ao carregar dados"),setTimeout(()=>{F(!1)},2e3)})},[]),oe.useEffect(()=>{c.length>0?b(c[0]):n.length>0&&b(n[0])},[c,n]);const Q=()=>{U(!0),setTimeout(()=>{if(Y.meter.length===0&&Y.mode.length===0&&Y.type.length===0){u(n),U(!1);return}const le=n.filter(se=>{const fe=T.find(te=>te.name===se);if(!fe)return!1;const ae=Y.meter.length===0||Y.meter.includes(fe.meter),Se=Y.mode.length===0||Y.mode.includes(fe.mode),we=Y.type.length===0||Y.type.includes(fe.type);return ae&&Se&&we});u(le),O(!1),U(!1)},300)},W=()=>{H({meter:[],mode:[],type:[]}),u(n),O(!1)},K=(le,se)=>{H(fe=>{const ae={...fe};return ae[le].includes(se)?ae[le]=ae[le].filter(Se=>Se!==se):ae[le]=[...ae[le],se],ae})},re=oe.useMemo(()=>!g||f.length===0?[]:f.filter(le=>le.name===g),[g,f]),he=oe.useMemo(()=>{if(re.length===0)return[];const le=[];return re.forEach(se=>{se.midiValues.forEach((fe,ae)=>{le.push({x:ae,y:fe})})}),le},[re]),{xMax:ee,yExtent:pe,filteredHeatmapData:Ce}=oe.useMemo(()=>{if(he.length===0)return{xMax:0,yExtent:[0,0],filteredHeatmapData:[]};const le=oi(he,we=>we.x),se=Ql(he,we=>we.y),fe=Math.floor(x[0]/100*le),ae=Math.ceil(x[1]/100*le),Se=he.filter(we=>we.x>=fe&&we.x<=ae);return{xMax:le,yExtent:se,filteredHeatmapData:Se}},[he,x]);return oe.useEffect(()=>{if(!g||f.length===0)return;const le=rt(e.current).attr("width",I+X.left+X.right).attr("height",z+X.top+X.bottom);le.selectAll("*").remove();const se=le.append("g").attr("transform",`translate(${X.left},${X.top})`),fe=f.filter(Me=>Me.name===g),ae=[];fe.forEach(Me=>{Me.midiValues.forEach((Ye,Oe)=>{ae.push({x:Oe,y:Ye})})});const Se=oi(ae,Me=>Me.x),we=Ql(ae,Me=>Me.y),te=Math.floor(x[0]/100*Se),ke=Math.ceil(x[1]/100*Se),Be=qn().domain([te,ke]).range([0,I]),je=qn().domain([we[0],we[1]+1]).range([z,0]),Pe=(ke-te)/Se,ye=Math.max(100,Math.round(200*(1/Pe))),ne=Math.max(1,Math.floor(Se/ye)),de=1,xe=eo(ae,Me=>Me.length,Me=>Math.floor(Me.x/ne),Me=>Math.floor(Me.y/de)),Te=oi(Array.from(xe.values()).flatMap(Me=>Array.from(Me.values()))),Le=qn().domain([1,Te]).range(["#82813E","#CC5C25"]).interpolate(V4),ze=[];for(let[Me,Ye]of xe.entries())for(let[Oe,Ze]of Ye.entries())ze.push({x:Me*ne,y:Oe*de,count:Ze});const De=ze.filter(Me=>Me.x>=te&&Me.x<=ke),He=Te*.75,Xe=De.filter(Me=>Me.count>=He);Xe.sort((Me,Ye)=>Ye.count-Me.count);let Ae={meter:"Desconhecido",mode:"Desconhecido"};if(T.length>0){const Me=T.find(Ye=>Ye.name===g);Me&&(Ae={meter:Me.meter||"Desconhecido",mode:Me.mode||"Desconhecido"})}k(Xe.map(Me=>({...Me,meter:Ae.meter,mode:Ae.mode}))),rt(".midi-chart-tooltip").remove();const qe=rt(".midi-chart-container").append("div").attr("class","midi-chart-tooltip").style("position","absolute").style("background","#fff").style("padding","8px").style("border","1px solid #ccc").style("border-radius","4px").style("box-shadow","0 2px 5px rgba(0,0,0,0.2)").style("pointer-events","none").style("opacity",0).style("z-index",1e3).style("font-size","12px"),Ue=se.append("g").attr("class","brush-layer"),ct=se.append("g").attr("class","viz-layer");ct.selectAll("rect.heatmap-cell").data(De).enter().append("rect").attr("class",Me=>Me.count>=He?"heatmap-cell high-frequency":"heatmap-cell").attr("x",Me=>Be(Me.x)).attr("y",Me=>je(Me.y+de)).attr("width",Math.max(1,Be(ne)-Be(0))).attr("height",je(we[0])-je(we[0]+de)).attr("rx",2).attr("ry",2).attr("fill",Me=>Le(Me.count)).attr("stroke",Me=>Me.count>=He&&p?"#fff":"none").attr("stroke-width",Me=>Me.count>=He&&p?1:0).style("opacity",Me=>p?Me.count>=He?1:.3:1).on("mouseover",(Me,Ye)=>{qe.style("opacity",1).html(`Tempo (x): ${Ye.x}<br/>
             Pitch (y): ${Ye.y}<br/>
             Contagem: ${Ye.count}${Ye.count>=He?"<br/><strong>Alta frequência!</strong>":""}`)}).on("mousemove",Me=>{qe.style("left",Me.pageX+10+"px").style("top",Me.pageY-28+"px")}).on("mouseout",()=>{qe.style("opacity",0)});for(let Me=we[0];Me<=we[1];Me++)ct.append("line").attr("x1",0).attr("x2",I).attr("y1",je(Me)).attr("y2",je(Me)).attr("stroke","#888").attr("stroke-opacity",.15).attr("stroke-width",1);se.append("g").attr("transform",`translate(0, ${z})`).call(Av(Be)).selectAll("text").style("font-family",kl).style("font-size","14px"),se.append("g").call(xh(je)).selectAll("text").style("font-family",kl).style("font-size","14px");const Ve=200,Fe=20,Ie=qn().domain([1,Te]).range([Ve,0]),mt=dM(Ie).tickValues([1,...O_(1,Te,4),Te]).tickFormat(Zm(".0f")),wt=le.append("defs").append("linearGradient").attr("id","legend-gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%"),yt=10;for(let Me=0;Me<yt;Me++){const Ye=Me/(yt-1),Oe=1+Ye*(Te-1);wt.append("stop").attr("offset",`${Ye*100}%`).attr("stop-color",Le(Oe))}le.append("g").attr("transform",`translate(${I+X.left+200}, ${X.top})`).append("rect").attr("width",Fe).attr("height",Ve).style("fill","url(#legend-gradient)"),le.append("g").attr("transform",`translate(${I+X.left+200+Fe}, ${X.top})`).call(mt).selectAll("text").style("font-family",kl).style("font-size","12px"),le.append("text").attr("x",I+X.left+170).attr("y",X.top-10).text("Frequência").style("font-family",kl).style("font-size","12px").style("font-weight","bold");const un=JR().extent([[0,0],[I,z]]).on("start",fn).on("brush",Cn).on("end",We);Ue.call(un);let Xt=!1;function fn(){Xt=!0,qe.style("opacity",0)}function Cn(){Xt=!0}function We(Me){if(setTimeout(()=>{Xt=!1},300),!Me.selection)return;const[Ye,Oe]=Me.selection.map(tt=>Be.invert(tt)),Ze=Math.max(0,Math.round(Ye/Se*100)),Qe=Math.min(100,Math.round(Oe/Se*100));y([Ze,Qe]),Ue.call(un.move,null)}ct.selectAll("rect.heatmap-cell").on("mouseover",(Me,Ye)=>{Xt||qe.style("opacity",1).html(`Tempo (x): ${Ye.x}<br/>
               Pitch (y): ${Ye.y}<br/>
               Contagem: ${Ye.count}`)})},[g,f,x,p,T]),oe.useEffect(()=>{if(!g||he.length===0)return;const le=rt(o.current).attr("width",V+B.left+B.right).attr("height",A+B.top+B.bottom);le.selectAll("*").remove();const se=le.append("g").attr("transform",`translate(${B.left}, ${B.top})`),fe=qn().domain([0,ee]).range([0,V]),ae=Ql(he,ze=>ze.y),Se=qn().domain([ae[0],ae[1]+1]).range([A-B.bottom,0]),we=Math.max(1,Math.floor(ee/100)),te=1,ke=eo(he,ze=>ze.length,ze=>Math.floor(ze.x/we),ze=>Math.floor(ze.y/te)),Be=[];for(let[ze,De]of ke.entries())for(let[He,Xe]of De.entries())Be.push({x:ze*we,y:He*te,count:Xe});const je=oi(Be,ze=>ze.count),Pe=qn().domain([1,je]).range(["#82813E","#CC5C25"]).interpolate(V4),ce=rt(".midi-chart-tooltip");se.selectAll("rect.minimap-cell").data(Be).enter().append("rect").attr("class","minimap-cell").attr("x",ze=>fe(ze.x)).attr("y",ze=>Se(ze.y+te)).attr("width",Math.max(1,fe(we)-fe(0))).attr("height",Se(ae[0])-Se(ae[0]+te)).attr("fill",ze=>Pe(ze.count)).attr("stroke","none").attr("opacity",.7).on("mouseover",(ze,De)=>{ce.style("opacity",1).html(`Tempo (x): ${De.x}<br/>
             Pitch (y): ${De.y}<br/>
             Contagem: ${De.count}`)}).on("mousemove",ze=>{ce.style("left",ze.pageX+10+"px").style("top",ze.pageY-28+"px")}).on("mouseout",()=>{ce.style("opacity",0)}),se.append("g").attr("transform",`translate(0, ${A-B.bottom})`).call(Av(fe).ticks(5)).selectAll("text").style("font-family",kl).style("font-size","10px");const ye=x[0]/100*V,ne=x[1]/100*V;se.append("rect").attr("class","zoom-indicator").attr("x",ye).attr("y",0).attr("width",ne-ye).attr("height",A-B.bottom).attr("fill","rgba(255, 255, 255, 0.2)").attr("stroke","#CC5C25").attr("stroke-width",2).style("cursor","move").call(Kl().on("start",()=>_(!0)).on("drag",xe).on("end",()=>_(!1)));const de=8;se.append("rect").attr("class","resize-handle left").attr("x",ye-de/2).attr("y",0).attr("width",de).attr("height",A-B.bottom).attr("fill","#CC5C25").attr("opacity",.8).style("cursor","ew-resize").call(Kl().on("drag",Te)),se.append("rect").attr("class","resize-handle right").attr("x",ne-de/2).attr("y",0).attr("width",de).attr("height",A-B.bottom).attr("fill","#CC5C25").attr("opacity",.8).style("cursor","ew-resize").call(Kl().on("drag",Le));function xe(ze){const De=x[1]-x[0],He=Math.max(0,Math.min(100-De,ze.x/V*100));y([He,He+De])}function Te(ze){const De=Math.max(0,Math.min(x[1]-1,ze.x/V*100));y([De,x[1]])}function Le(ze){const De=Math.max(x[0]+1,Math.min(100,ze.x/V*100));y([x[0],De])}},[g,he,x,ee]),$.jsxs("div",{className:"midi-chart-container",children:[D&&$.jsx("div",{className:"loading-overlay",children:$.jsxs("div",{className:"loading-content",children:[$.jsx("div",{className:"loading-spinner"}),$.jsx("div",{className:"loading-text",children:G})]})}),$.jsxs("div",{className:"controls-header",children:[$.jsxs("button",{className:`filter-toggle-btn ${R?"open":"closed"}`,onClick:()=>O(!R),children:[$.jsx("svg",{className:"filter-icon",width:"14",height:"14",viewBox:"0 0 24 24",children:$.jsx("path",{fill:"white",d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"})}),R?"Fechar Filtros":"Filtrar Músicas"]}),c.length===0?$.jsxs("div",{className:"no-results-container",children:["Nenhum resultado encontrado para os filtros selecionados.",$.jsx("br",{}),$.jsx("button",{className:"clear-filters-btn",onClick:W,children:"Limpar filtros"})]}):$.jsx("select",{className:"music-select",onChange:le=>b(le.target.value),value:g||"",children:c.map((le,se)=>$.jsx("option",{value:le,children:le},se))}),$.jsx("div",{className:"variations-count",children:g&&f.length>0&&`Nº de variações: ${f.filter(se=>se.name===g).length}`}),$.jsx("button",{className:`highlight-toggle-btn ${p?"active":"inactive"}`,onClick:()=>w(!p),children:p?"Mostrar todos os bins":"Destacar bins de alta frequência"})]}),R&&$.jsxs("div",{className:"filter-menu",children:[$.jsx("h3",{children:"Filtrar por atributos musicais"}),$.jsxs("div",{className:"filter-categories",children:[$.jsxs("div",{className:"filter-category",children:[$.jsx("h4",{children:"Compasso (Meter)"}),$.jsx("div",{className:"filter-options",children:P.meter.map((le,se)=>$.jsxs("label",{className:"filter-option",children:[$.jsx("input",{type:"checkbox",checked:Y.meter.includes(le),onChange:()=>K("meter",le)}),le]},se))})]}),$.jsxs("div",{className:"filter-category",children:[$.jsx("h4",{children:"Modo Musical (Mode)"}),$.jsx("div",{className:"filter-options",children:P.mode.map((le,se)=>$.jsxs("label",{className:"filter-option",children:[$.jsx("input",{type:"checkbox",checked:Y.mode.includes(le),onChange:()=>K("mode",le)}),le]},se))})]}),$.jsxs("div",{className:"filter-category",children:[$.jsx("h4",{children:"Tipo (Type)"}),$.jsx("div",{className:"filter-options",children:P.type.map((le,se)=>$.jsxs("label",{className:"filter-option",children:[$.jsx("input",{type:"checkbox",checked:Y.type.includes(le),onChange:()=>K("type",le)}),le]},se))})]})]}),$.jsxs("div",{className:"filter-buttons",children:[$.jsx("button",{className:"filter-clear-btn",onClick:W,children:"Limpar Filtros"}),$.jsx("button",{className:"filter-apply-btn",onClick:Q,children:"Aplicar Filtros"})]}),$.jsxs("div",{className:"results-counter",children:[c.length," / ",n.length," músicas"]}),q&&$.jsx("div",{className:"filtering-overlay",children:$.jsx("span",{className:"filtering-text",children:"Filtrando músicas..."})})]}),$.jsx("svg",{ref:e}),$.jsxs("div",{className:"minimap-container",children:[$.jsx("div",{className:"zoom-instructions",children:$.jsxs("p",{children:[$.jsx("strong",{children:"Dicas de zoom:"})," Arraste no gráfico principal para criar uma seleção e ampliar essa área. Para ajustar a visualização use este minimap: arraste a área destacada ou use as alças laterais para redimensionar."]})}),$.jsx("div",{className:"action-buttons",children:$.jsx("button",{className:"zoom-reset-btn",onClick:()=>y([0,100]),children:"Zoom Reset"})})]}),p&&N.length>0&&$.jsxs("div",{className:"high-frequency-card",children:[$.jsxs("h3",{children:["Bins de Alta Frequência (",N.length,")"]}),N.length>0&&$.jsxs("div",{className:"song-info",children:[$.jsx("strong",{children:"Informações da música:"}),$.jsx("br",{}),"Compasso (meter): ",N[0].meter,$.jsx("br",{}),"Modo musical (mode): ",N[0].mode]}),$.jsx("p",{className:"frequency-description",children:"Os seguintes padrões aparecem com alta frequência nas variações desta música:"}),$.jsxs("table",{className:"frequency-table",children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{children:"Tempo (X)"}),$.jsx("th",{children:"Pitch (Y)"}),$.jsx("th",{children:"Frequência"})]})}),$.jsx("tbody",{children:N.slice(0,10).map((le,se)=>$.jsxs("tr",{children:[$.jsx("td",{children:le.x}),$.jsx("td",{children:le.y}),$.jsx("td",{children:le.count})]},se))})]}),N.length>10&&$.jsxs("p",{className:"table-note",children:["Mostrando os 10 bins mais frequentes de ",N.length," totais."]})]})]})};var xp,Ib;function Cz(){if(Ib)return xp;Ib=1;var t="6.5.1";return xp=t,xp}var wp,Zb;function n3(){if(Zb)return wp;Zb=1;var t=function(o,n){var a=this;if(n||(n={}),a.qpm=n.qpm?parseInt(n.qpm,10):null,!a.qpm){var c=o.metaText?o.metaText.tempo:null;a.qpm=o.getBpm(c)}a.extraMeasuresAtBeginning=n.extraMeasuresAtBeginning?parseInt(n.extraMeasuresAtBeginning,10):0,a.beatCallback=n.beatCallback,a.eventCallback=n.eventCallback,a.lineEndCallback=n.lineEndCallback,a.lineEndAnticipation=n.lineEndAnticipation?parseInt(n.lineEndAnticipation,10):0,a.beatSubdivisions=n.beatSubdivisions?parseInt(n.beatSubdivisions,10):1,a.joggerTimer=null,a.replaceTarget=function(f){a.noteTimings=f.setTiming(a.qpm,a.extraMeasuresAtBeginning),f.noteTimings.length===0&&(a.noteTimings=f.setTiming(0,0)),a.lineEndCallback&&(a.lineEndTimings=e(f.noteTimings,a.lineEndAnticipation)),a.startTime=null,a.currentBeat=0,a.currentEvent=0,a.currentLine=0,a.currentTime=0,a.isPaused=!1,a.isRunning=!1,a.pausedPercent=null,a.justUnpaused=!1,a.newSeekPercent=0,a.lastTimestamp=0,a.noteTimings.length!==0&&(a.millisecondsPerBeat=1e3/(a.qpm/60)/a.beatSubdivisions,a.lastMoment=a.noteTimings[a.noteTimings.length-1].milliseconds,a.totalBeats=Math.round(a.lastMoment/a.millisecondsPerBeat))},a.replaceTarget(o),a.doTiming=function(f){if(a.lastTimestamp!==f&&(a.lastTimestamp=f,a.startTime||(a.startTime=f),!a.isPaused&&a.isRunning)){for(a.currentTime=f-a.startTime,a.currentTime+=16;a.noteTimings.length>a.currentEvent&&a.noteTimings[a.currentEvent].milliseconds<a.currentTime;){if(a.eventCallback&&a.noteTimings[a.currentEvent].type==="event"){var d=a.startTime;a.eventCallback(a.noteTimings[a.currentEvent]),d!==a.startTime&&(a.currentTime=f-a.startTime)}a.currentEvent++}if(a.lineEndCallback&&a.lineEndTimings.length>a.currentLine&&a.lineEndTimings[a.currentLine].milliseconds<a.currentTime&&a.currentEvent<a.noteTimings.length){var g=a.noteTimings[a.currentEvent].milliseconds===a.currentTime?a.noteTimings[a.currentEvent]:a.noteTimings[a.currentEvent-1];a.lineEndCallback(a.lineEndTimings[a.currentLine],g,{line:a.currentLine,endTimings:a.lineEndTimings,currentTime:a.currentTime}),a.currentLine++}if(a.currentTime<a.lastMoment){if(requestAnimationFrame(a.doTiming),a.currentBeat*a.millisecondsPerBeat<a.currentTime){var b=a.doBeatCallback(f);b!==null&&(a.currentTime=b)}}else if(a.currentBeat<=a.totalBeats&&a.beatCallback){var x=a.doBeatCallback(f);x!==null&&(a.currentTime=x),requestAnimationFrame(a.doTiming)}if(a.currentTime>=a.lastMoment)if(a.eventCallback){var y=a.eventCallback(null);a.shouldStop(y).then(function(m){m&&a.stop()})}else a.stop()}},a.shouldStop=function(f){return new Promise(function(d){if(!f)return d(!0);if(f==="continue")return d(!1);f.then&&f.then(function(g){d(g!=="continue")})})},a.doBeatCallback=function(f){if(a.beatCallback){for(var d=a.currentEvent;d<a.noteTimings.length&&a.noteTimings[d].left===null;)d++;var g,b;if(d<a.noteTimings.length){for(g=a.noteTimings[d].milliseconds,d=Math.max(0,a.currentEvent-1);d>=0&&a.noteTimings[d].left===null;)d--;b=a.noteTimings[d]}var x={},y={};if(b){x.top=b.top,x.height=b.height;var m=Math.max(0,f-a.startTime-b.milliseconds),_=g-b.milliseconds,p=b.endX-b.left,w=_?m*p/_:0;x.left=b.left+w,a.currentEvent===0&&b.milliseconds>f-a.startTime&&(x.left=void 0),y={timestamp:f,startTime:a.startTime,ev:b,endMs:g,offMs:m,offPx:w,gapMs:_,gapPx:p}}else y={timestamp:f,startTime:a.startTime};var T=a.startTime;if(a.beatCallback(a.currentBeat/a.beatSubdivisions,a.totalBeats/a.beatSubdivisions,a.lastMoment,x,y),T!==a.startTime)return f-a.startTime;a.currentBeat++}return null};var u=60;a.animationJogger=function(){a.isRunning&&(a.doTiming(performance.now()),a.joggerTimer=setTimeout(a.animationJogger,u))},a.start=function(f,d){if(a.isRunning=!0,a.isPaused&&(a.isPaused=!1,f===void 0&&(a.justUnpaused=!0)),f)a.setProgress(f,d);else if(f===0)a.reset();else if(a.pausedPercent!==null){var g=performance.now();a.currentTime=a.lastMoment*a.pausedPercent,a.startTime=g-a.currentTime,a.pausedPercent=null,a.reportNext=!0}requestAnimationFrame(a.doTiming),a.joggerTimer=setTimeout(a.animationJogger,u)},a.pause=function(){a.isPaused=!0;var f=performance.now();a.pausedPercent=(f-a.startTime)/a.lastMoment,a.isRunning=!1,a.joggerTimer&&(clearTimeout(a.joggerTimer),a.joggerTimer=null)},a.currentMillisecond=function(){return a.currentTime},a.reset=function(){a.currentBeat=0,a.currentEvent=0,a.currentLine=0,a.startTime=null,a.pausedPercent=null},a.stop=function(){a.pause(),a.reset()},a.setProgress=function(f,d){var g;switch(d){case"seconds":a.currentTime=f*1e3,a.currentTime<0&&(a.currentTime=0),a.currentTime>a.lastMoment&&(a.currentTime=a.lastMoment),g=a.currentTime/a.lastMoment;break;case"beats":a.currentTime=f*a.millisecondsPerBeat*a.beatSubdivisions,a.currentTime<0&&(a.currentTime=0),a.currentTime>a.lastMoment&&(a.currentTime=a.lastMoment),g=a.currentTime/a.lastMoment;break;default:g=f,g<0&&(g=0),g>1&&(g=1),a.currentTime=a.lastMoment*g;break}a.isRunning||(a.pausedPercent=g);var b=performance.now();for(a.startTime=b-a.currentTime,a.currentEvent,a.currentEvent=0;a.noteTimings.length>a.currentEvent&&a.noteTimings[a.currentEvent].milliseconds<a.currentTime;)a.currentEvent++;if(a.lineEndCallback)for(a.currentLine=0;a.lineEndTimings.length>a.currentLine&&a.lineEndTimings[a.currentLine].milliseconds+a.lineEndAnticipation<a.currentTime;)a.currentLine++;var x=a.currentBeat;a.currentBeat=Math.floor(a.currentTime/a.millisecondsPerBeat),a.beatCallback&&x!==a.currentBeat&&a.doBeatCallback(a.startTime+a.currentTime),a.eventCallback&&a.currentEvent>=0&&a.noteTimings[a.currentEvent].type==="event"&&a.eventCallback(a.noteTimings[a.currentEvent]),a.lineEndCallback&&a.lineEndCallback(a.lineEndTimings[a.currentLine],a.noteTimings[a.currentEvent],{line:a.currentLine,endTimings:a.lineEndTimings}),a.joggerTimer=setTimeout(a.animationJogger,u)}};function e(o,n){for(var a=[],c=null,u=0;u<o.length;u++){var f=o[u];f.type!=="end"&&f.top!==c&&(a.push({measureNumber:f.measureNumber,milliseconds:f.milliseconds-n,top:f.top,bottom:f.top+f.height}),c=f.top)}return a}return wp=t,wp}var Sp,Qb;function Ez(){if(Qb)return Sp;Qb=1;var t=n3(),e={};return function(){var o,n;e.startAnimation=function(a,c,u){o&&(o.stop(),o=void 0),u.showCursor&&(n=a.querySelector(".abcjs-cursor"),n||(n=document.createElement("DIV"),n.className="abcjs-cursor cursor",n.style.position="absolute",a.appendChild(n),a.style.position="relative"));function f(_){for(var p=0;p<_.length;p++){var w=_[p];w.classList.contains("abcjs-bar")||(w.style.display="none")}}var d;function g(_){if(d){var p=a.querySelectorAll(d);f(p)}d=_}function b(_){var p=a.querySelectorAll(_);f(p)}function x(_){u.hideCurrentMeasure?b(_):u.hideFinishedMeasures&&g(_)}function y(_){return".abcjs-l"+_.line+".abcjs-m"+_.measureNumber}function m(_){if(_){if(_.measureStart){var p=y(_);p&&x(p)}n&&(n.style.left=_.left+"px",n.style.top=_.top+"px",n.style.width=_.width+"px",n.style.height=_.height+"px")}else o.stop(),o=void 0}o=new t(c,{qpm:u.bpm,eventCallback:m}),o.start()},e.pauseAnimation=function(a){o&&(a?o.pause():o.start())},e.stopAnimation=function(){o&&(o.stop(),o=void 0)}}(),Sp=e,Sp}var Tp,Kb;function wa(){if(Kb)return Tp;Kb=1;var t={};return t.cloneArray=function(e){for(var o=[],n=0;n<e.length;n++)o.push(Object.assign({},e[n]));return o},t.cloneHashOfHash=function(e){var o={};for(var n in e)e.hasOwnProperty(n)&&(o[n]=Object.assign({},e[n]));return o},t.cloneHashOfArrayOfHash=function(e){var o={};for(var n in e)e.hasOwnProperty(n)&&(o[n]=t.cloneArray(e[n]));return o},t.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},t.startsWith=function(e,o){return e.indexOf(o)===0},t.endsWith=function(e,o){var n=e.length-o.length;return n>=0&&e.lastIndexOf(o)===n},t.last=function(e){return e.length===0?null:e[e.length-1]},Tp=t,Tp}var Cp,Wb;function r3(){if(Wb)return Cp;Wb=1;var t=wa(),e={};return function(){var o,n,a,c,u;e.initialize=function(z,A,B,V,Q){o=z,n=A,a=B,c=V,u=Q,f()};function f(){a.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},a.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},a.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},a.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},a.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},a.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},a.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},a.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},a.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},a.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},a.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},c.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},c.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},c.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},c.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},c.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},c.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},c.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},c.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},c.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},c.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},c.formatting.annotationfont=a.annotationfont,c.formatting.gchordfont=a.gchordfont,c.formatting.historyfont=a.historyfont,c.formatting.infofont=a.infofont,c.formatting.measurefont=a.measurefont,c.formatting.partsfont=a.partsfont,c.formatting.repeatfont=a.repeatfont,c.formatting.textfont=a.textfont,c.formatting.tripletfont=a.tripletfont,c.formatting.vocalfont=a.vocalfont,c.formatting.wordsfont=a.wordsfont}var d={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},g=function(z){switch(z){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},b=function(z,A,B,V,Q){function W(){var te=parseInt(z[0].token);return z.shift(),A?z.length===0?{face:A.face,weight:A.weight,style:A.style,decoration:A.decoration,size:te}:z.length===1&&z[0].token==="box"&&d[Q]?{face:A.face,weight:A.weight,style:A.style,decoration:A.decoration,size:te,box:!0}:(n("Extra parameters in font definition.",B,V),{face:A.face,weight:A.weight,style:A.style,decoration:A.decoration,size:te}):(n("Can't set just the size of the font since there is no default value.",B,V),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:te})}if(z[0].token==="*"){if(z.shift(),z[0].type==="number")return W();n("Expected font size number after *.",B,V)}if(z[0].type==="number")return W();for(var K=[],re,he="normal",ee="normal",pe="none",Ce=!1,le="face",se=!1;z.length;){var fe=z.shift(),ae=fe.token.toLowerCase();switch(le){case"face":se||ae!=="utf"&&fe.type!=="number"&&ae!=="bold"&&ae!=="italic"&&ae!=="underline"&&ae!=="box"?K.length>0&&fe.token==="-"?(se=!0,K[K.length-1]=K[K.length-1]+fe.token):se?(se=!1,K[K.length-1]=K[K.length-1]+fe.token):K.push(fe.token):fe.type==="number"?(re?n("Font size specified twice in font definition.",B,V):re=fe.token,le="modifier"):ae==="bold"?he="bold":ae==="italic"?ee="italic":ae==="underline"?pe="underline":ae==="box"?(d[Q]?Ce=!0:n(`This font style doesn't support "box"`,B,V),le="finished"):ae==="utf"?(fe=z.shift(),le="size"):n("Unknown parameter "+fe.token+" in font definition.",B,V);break;case"size":fe.type==="number"?re?n("Font size specified twice in font definition.",B,V):re=fe.token:n("Expected font size in font definition.",B,V),le="modifier";break;case"modifier":ae==="bold"?he="bold":ae==="italic"?ee="italic":ae==="underline"?pe="underline":ae==="box"?(d[Q]?Ce=!0:n(`This font style doesn't support "box"`,B,V),le="finished"):n("Unknown parameter "+fe.token+" in font definition.",B,V);break;case"finished":n('Extra characters found after "box" in font definition.',B,V);break}}re===void 0?A?re=A.size:(n("Must specify the size of the font since there is no default value.",B,V),re=12):re=parseFloat(re),K=K.join(" "),K===""&&(A?K=A.face:(n("Must specify the name of the font since there is no default value.",B,V),K="sans-serif"));var Se=g(K),we={};return Se?(we.face=Se.face,we.weight=Se.weight,we.style=Se.style,we.decoration=Se.decoration,we.size=re,Ce&&(we.box=!0),we):(we.face=K,we.weight=he,we.style=ee,we.decoration=pe,we.size=re,Ce&&(we.box=!0),we)},x=function(z,A,B){return A.length===0?'Directive "'+z+'" requires a font as a parameter.':(a[z]=b(A,a[z],B,0,z),a.is_in_header&&(c.formatting[z]=a[z]),null)},y=function(z,A,B){return A.length===0?'Directive "'+z+'" requires a font as a parameter.':(c.formatting[z]=b(A,c.formatting[z],B,0,z),null)},m=function(z,A){var B="";A.forEach(function(Q){B+=Q.token});var V=parseFloat(B);if(isNaN(V)||V===0)return'Directive "'+z+'" requires a number as a parameter.';c.formatting.scale=V},_=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],p=function(z){var A=z.split(/\s+/);if(A.length!==2&&A.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var B=A[0],V=parseInt(A[1],10);if((isNaN(V)||V<35||V>81)&&A[1]&&(V=_.indexOf(A[1].toLowerCase())+35),isNaN(V)||V<35||V>81)return{error:'Expected drum name, received "'+A[1]+'"'};var Q={sound:V};return A.length===3&&(Q.noteHead=A[2]),{key:B,value:Q}},w=function(z,A){var B=o.getMeasurement(A);return B.used===0||A.length!==0?{error:'Directive "'+z+'" requires a measurement as a parameter.'}:B.value},T=function(z,A){var B=o.getMeasurement(A);return B.used===0||A.length!==0?'Directive "'+z+'" requires a measurement as a parameter.':(c.formatting[z]=B.value,null)},C=function(z,A,B,V,Q){if(B.length!==1||B[0].type!=="number")return'Directive "'+A+'" requires a number as a parameter.';var W=B[0].intt;return V!==void 0&&W<V?'Directive "'+A+'" requires a number greater than or equal to '+V+" as a parameter.":Q!==void 0&&W>Q?'Directive "'+A+'" requires a number less than or equal to '+Q+" as a parameter.":(a[z]=W,null)},N=function(z,A,B){if(B.length===1&&(B[0].token==="true"||B[0].token==="false"))return a[z]=B[0].token==="true",null;var V=C(z,A,B,0,1);return V!==null?V:(a[z]=a[z]===1,null)},k=function(z,A,B,V){if(B.length!==1)return'Directive "'+A+'" requires one of [ '+V.join(", ")+" ] as a parameter.";for(var Q=B[0].token,W=!1,K=0;!W&&K<V.length;K++)V[K]===Q&&(W=!0);return W?(a[z]=Q,null):'Directive "'+A+'" requires one of [ '+V.join(", ")+" ] as a parameter."},D=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],F=["gchord","ptstress","beatstring"],G=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],E=["program"],R=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],O=["beat"],P=["drone"],j=["portamento"],Y=["expand","grace","trim"],H=["drum","chordname"],q=["bassprog","chordprog"],U=function(z,A,B){var V=z.shift().token,Q=[];if(D.indexOf(V)>=0)z.length!==0&&n("Unexpected parameter in MIDI "+V,B,0);else if(F.indexOf(V)>=0)z.length!==1?n("Expected one parameter in MIDI "+V,B,0):Q.push(z[0].token);else if(G.indexOf(V)>=0)z.length!==1?n("Expected one parameter in MIDI "+V,B,0):z[0].type!=="number"?n("Expected one integer parameter in MIDI "+V,B,0):Q.push(z[0].intt);else if(E.indexOf(V)>=0)z.length!==1&&z.length!==2?n("Expected one or two parameters in MIDI "+V,B,0):z[0].type!=="number"||z.length===2&&z[1].type!=="number"?n("Expected integer parameter in MIDI "+V,B,0):(Q.push(z[0].intt),z.length===2&&Q.push(z[1].intt));else if(R.indexOf(V)>=0)z.length!==2?n("Expected two parameters in MIDI "+V,B,0):z[0].type!=="number"||z[1].type!=="number"?n("Expected two integer parameters in MIDI "+V,B,0):(Q.push(z[0].intt),Q.push(z[1].intt));else if(j.indexOf(V)>=0)z.length!==2?n("Expected two parameters in MIDI "+V,B,0):z[0].type!=="alpha"||z[1].type!=="number"?n("Expected one string and one integer parameters in MIDI "+V,B,0):(Q.push(z[0].token),Q.push(z[1].intt));else if(V==="drummap")z.length===2&&z[0].type==="alpha"&&z[1].type==="number"?(A.formatting||(A.formatting={}),A.formatting.midi||(A.formatting.midi={}),A.formatting.midi.drummap||(A.formatting.midi.drummap={}),A.formatting.midi.drummap[z[0].token]=z[1].intt,Q=A.formatting.midi.drummap):z.length===3&&z[0].type==="punct"&&z[1].type==="alpha"&&z[2].type==="number"?(A.formatting||(A.formatting={}),A.formatting.midi||(A.formatting.midi={}),A.formatting.midi.drummap||(A.formatting.midi.drummap={}),A.formatting.midi.drummap[z[0].token+z[1].token]=z[2].intt,Q=A.formatting.midi.drummap):n("Expected one note name and one integer parameter in MIDI "+V,B,0);else if(Y.indexOf(V)>=0)z.length!==3||z[0].type!=="number"||z[1].token!=="/"||z[2].type!=="number"?n("Expected fraction parameter in MIDI "+V,B,0):(Q.push(z[0].intt),Q.push(z[2].intt));else if(O.indexOf(V)>=0)z.length!==4?n("Expected four parameters in MIDI "+V,B,0):z[0].type!=="number"||z[1].type!=="number"||z[2].type!=="number"||z[3].type!=="number"?n("Expected four integer parameters in MIDI "+V,B,0):(Q.push(z[0].intt),Q.push(z[1].intt),Q.push(z[2].intt),Q.push(z[3].intt));else if(P.indexOf(V)>=0)z.length!==5?n("Expected five parameters in MIDI "+V,B,0):z[0].type!=="number"||z[1].type!=="number"||z[2].type!=="number"||z[3].type!=="number"||z[4].type!=="number"?n("Expected five integer parameters in MIDI "+V,B,0):(Q.push(z[0].intt),Q.push(z[1].intt),Q.push(z[2].intt),Q.push(z[3].intt),Q.push(z[4].intt));else if(E.indexOf(V)>=0)z.length!==1||z.length!==4?n("Expected one or two parameters in MIDI "+V,B,0):z[0].type!=="number"?n("Expected integer parameter in MIDI "+V,B,0):z.length===4?(z[1].token!=="octave"&&n("Expected octave parameter in MIDI "+V,B,0),z[2].token!=="="&&n("Expected octave parameter in MIDI "+V,B,0),z[3].type!=="number"&&n("Expected integer parameter for octave in MIDI "+V,B,0)):(Q.push(z[0].intt),z.length===4&&Q.push(z[3].intt));else if(H.indexOf(V)>=0)if(z.length<2)n("Expected string parameter and at least one integer parameter in MIDI "+V,B,0);else if(z[0].type!=="alpha")n("Expected string parameter and at least one integer parameter in MIDI "+V,B,0);else{var W=z.shift();for(Q.push(W.token);z.length>0;)W=z.shift(),W.type!=="number"&&n("Expected integer parameter in MIDI "+V,B,0),Q.push(W.intt)}else if(q.indexOf(V)>=0){if(z.length!==1&&z.length!==2)n("Expected one or two parameters in MIDI "+V,B,0);else if(z[0].type!=="number")n("Expected integer parameter in MIDI "+V,B,0);else if(z.length===2&&z[1].type!=="alpha")n("Expected alpha parameter in MIDI "+V,B,0);else if(Q.push(z[0].intt),z.length===2){var K=z[1].token;K.indexOf("octave=")!=-1?(K=K.replace("octave=",""),K=parseInt(K),isNaN(K)?n("Expected octave value in MIDI"+V):(K<-1&&(n("Expected octave= in MIDI "+V+" to be >= -1 (recv:"+K+")"),K=-1),K>3&&(n("Expected octave= in MIDI "+V+" to be <= 3 (recv:"+K+")"),K=3),Q.push(K))):n("Expected octave= in MIDI"+V)}}u.hasBeginMusic()?u.appendElement("midi",-1,-1,{cmd:V,params:Q}):(A.formatting.midi===void 0&&(A.formatting.midi={}),A.formatting.midi[V]=Q)};e.parseFontChangeLine=function(z){z=z.replace(/\$\$/g,"");var A=z.split("$");if(A.length>1&&a.setfont){var B=[];A[0]!==""&&B.push({text:A[0]});for(var V=1;V<A.length;V++)if(A[V][0]==="0")B.push({text:A[V].substring(1).replace(/\x03/g,"$$")});else{var Q=parseInt(A[V][0],10);a.setfont[Q]?B.push({font:a.setfont[Q],text:A[V].substring(1).replace(/\x03/g,"$$")}):B[B.length-1].text+="$"+A[V].replace(/\x03/g,"$$")}return B}return z.replace(/\x03/g,"$$")};var X=["auto","above","below","hidden"];e.addDirective=function(z){var A=o.tokenize(z,0,z.length);if(A.length===0||A[0].type!=="alpha")return null;var B=z.substring(z.indexOf(A[0].token)+A[0].token.length);B=o.stripComment(B);var V=A.shift().token.toLowerCase(),Q="",W;switch(V){case"bagpipes":c.formatting.bagpipes=!0;break;case"flatbeams":c.formatting.flatbeams=!0;break;case"jazzchords":c.formatting.jazzchords=!0;break;case"accentAbove":c.formatting.accentAbove=!0;break;case"germanAlphabet":c.formatting.germanAlphabet=!0;break;case"landscape":a.landscape=!0;break;case"papersize":a.papersize=B;break;case"graceslurs":if(A.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(A[0].token==="0"||A[0].token==="false")c.formatting.graceSlurs=!1;else if(A[0].token==="1"||A[0].token==="true")c.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+A[0].token+")";break;case"lineThickness":var K=I(A);if(K.value!==void 0&&(c.formatting.lineThickness=K.value),K.error)return K.error;break;case"stretchlast":var re=I(A);if(re.value!==void 0&&(c.formatting.stretchlast=re.value),re.error)return re.error;break;case"titlecaps":a.titlecaps=!0;break;case"titleleft":c.formatting.titleleft=!0;break;case"measurebox":c.formatting.measurebox=!0;break;case"vocal":return k("vocalPosition",V,A,X);case"dynamic":return k("dynamicPosition",V,A,X);case"gchord":return k("chordPosition",V,A,X);case"ornament":return k("ornamentPosition",V,A,X);case"volume":return k("volumePosition",V,A,X);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return T(V,A);case"voicescale":if(A.length!==1||A[0].type!=="number")return"voicescale requires one float as a parameter";var he=A.shift();return a.currentVoice&&(a.currentVoice.scale=he.floatt,u.changeVoiceScale(a.currentVoice.scale)),null;case"voicecolor":if(A.length!==1)return"voicecolor requires one string as a parameter";var ee=A.shift();return a.currentVoice&&(a.currentVoice.color=ee.token,u.changeVoiceColor(a.currentVoice.color)),null;case"vskip":var pe=Math.round(w(V,A));return pe.error?pe.error:(u.addSpacing(pe),null);case"scale":m(V,A);break;case"sep":if(A.length===0)u.addSeparator(14,14,85,{startChar:a.iChar,endChar:a.iChar+5});else{var Ce=o.getMeasurement(A);if(Ce.used===0)return'Directive "'+V+'" requires 3 numbers: space above, space below, length of line';var le=Ce.value;if(Ce=o.getMeasurement(A),Ce.used===0)return'Directive "'+V+'" requires 3 numbers: space above, space below, length of line';var se=Ce.value;if(Ce=o.getMeasurement(A),Ce.used===0||A.length!==0)return'Directive "'+V+'" requires 3 numbers: space above, space below, length of line';var fe=Ce.value;u.addSeparator(le,se,fe,{startChar:a.iChar,endChar:a.iChar+B.length})}break;case"barsperstaff":if(Q=C("barsperstaff",V,A),Q!==null)return Q;break;case"staffnonote":if(A.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(A[0].token==="0")a.staffnonote=!0;else if(A[0].token==="1")a.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+A[0].token+")";break;case"printtempo":if(Q=N("printTempo",V,A),Q!==null)return Q;break;case"partsbox":if(Q=N("partsBox",V,A),Q!==null)return Q;a.partsfont.box=a.partsBox;break;case"freegchord":if(Q=N("freegchord",V,A),Q!==null)return Q;break;case"measurenb":case"barnumbers":if(Q=C("barNumbers",V,A),Q!==null)return Q;break;case"setbarnb":if(A.length!==1||A[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";a.currBarNumber=u.setBarNumberImmediate(A[0].intt);break;case"keywarn":if(A.length!==1||A[0].type!=="number"||A[0].intt!==1&&A[0].intt!==0)return"Directive "+V+" requires 0 or 1 as a parameter.";a[V]=A[0].intt===1;break;case"begintext":var ae="";for(W=o.nextLine();W&&W.indexOf("%%endtext")!==0;){if(t.startsWith(W,"%%")){var Se=W.substring(2);Se=Se.trim()+`
`,ae+=Se}else ae+=W.trim()+`
`;W=o.nextLine()}u.addText(ae,{startChar:a.iChar,endChar:a.iChar+ae.length+7});break;case"continueall":a.continueall=!0;break;case"beginps":for(W=o.nextLine();W&&W.indexOf("%%endps")!==0;)o.nextLine();n("Postscript ignored",z,0);break;case"deco":B.length>0&&a.ignoredDecorations.push(B.substring(0,B.indexOf(" "))),n("Decoration redefinition ignored",z,0);break;case"text":var we=o.translateString(B);u.addText(e.parseFontChangeLine(we),{startChar:a.iChar,endChar:a.iChar+B.length+7});break;case"center":var te=o.translateString(B);u.addCentered(e.parseFontChangeLine(te));break;case"font":break;case"setfont":var ke=o.tokenize(B,0,B.length);if(ke.length>=4&&ke[0].token==="-"&&ke[1].type==="number"){var Be=parseInt(ke[1].token);Be>=1&&Be<=9&&(a.setfont||(a.setfont=[]),ke.shift(),ke.shift(),a.setfont[Be]=b(ke,a.setfont[Be],z,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return x(V,A,z);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return y(V,A,z);case"barlabelfont":case"barnumberfont":case"barnumfont":return x("measurefont",A,z);case"staves":case"score":a.score_is_present=!0;for(var je=function(Xt,fn,Cn,We,Me){(fn||a.staves.length===0)&&a.staves.push({index:a.staves.length,numVoices:0});var Ye=t.last(a.staves);Cn!==void 0&&Ye.bracket===void 0&&(Ye.bracket=Cn),We!==void 0&&Ye.brace===void 0&&(Ye.brace=We),Me&&(Ye.connectBarLines="end"),a.voices[Xt]===void 0&&(a.voices[Xt]={staffNum:Ye.index,index:Ye.numVoices},Ye.numVoices++)},Pe=!1,ce=!1,ye=!1,ne=!1,de=!1,xe=!1,Te=!1,Le,ze=function(){if(Te=!0,Le){var Xt="start";Le.staffNum>0&&(a.staves[Le.staffNum-1].connectBarLines==="start"||a.staves[Le.staffNum-1].connectBarLines==="continue")&&(Xt="continue"),a.staves[Le.staffNum].connectBarLines=Xt}};A.length;){var De=A.shift();switch(De.token){case"(":Pe?n("Can't nest parenthesis in %%score",z,De.start):(Pe=!0,ne=!0);break;case")":!Pe||ne?n("Unexpected close parenthesis in %%score",z,De.start):Pe=!1;break;case"[":ce?n("Can't nest brackets in %%score",z,De.start):(ce=!0,de=!0);break;case"]":!ce||de?n("Unexpected close bracket in %%score",z,De.start):(ce=!1,a.staves[Le.staffNum].bracket="end");break;case"{":ye?n("Can't nest braces in %%score",z,De.start):(ye=!0,xe=!0);break;case"}":!ye||xe?n("Unexpected close brace in %%score",z,De.start):(ye=!1,a.staves[Le.staffNum].brace="end");break;case"|":ze();break;default:for(var He="";(De.type==="alpha"||De.type==="number")&&(He+=De.token,De.continueId);)De=A.shift();var Xe=!Pe||ne,Ae=de?"start":ce?"continue":void 0,qe=xe?"start":ye?"continue":void 0;je(He,Xe,Ae,qe,Te),ne=!1,de=!1,xe=!1,Te=!1,Le=a.voices[He],V==="staves"&&ze();break}}break;case"maxstaves":var Ue=o.getInt(B);Ue.digits===0?n("Expected number of staves in maxstaves"):Ue.value>0&&(c.formatting.maxStaves=Ue.value);break;case"newpage":var ct=o.getInt(B);u.addNewPage(ct.digits===0?-1:ct.value);break;case"abc":var Ve=B.split(" ");switch(Ve[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var Fe=Ve.shift();u.addMetaText(V+Fe,Ve.join(" "),{startChar:a.iChar,endChar:a.iChar+B.length+5});break;default:return"Unknown directive: "+V+Ve[0]}break;case"header":case"footer":var Ie=o.getMeat(B,0,B.length);Ie=B.substring(Ie.start,Ie.end),Ie[0]==='"'&&Ie[Ie.length-1]==='"'&&(Ie=Ie.substring(1,Ie.length-1));var mt=Ie.split("	"),at={};mt.length===1?at={left:"",center:mt[0],right:""}:mt.length===2?at={left:mt[0],center:mt[1],right:""}:at={left:mt[0],center:mt[1],right:mt[2]},mt.length>3&&n("Too many tabs in "+V+": "+mt.length+" found.",B,0),u.addMetaTextObj(V,at,{startChar:a.iChar,endChar:a.iChar+z.length});break;case"midi":var wt=o.tokenize(B,0,B.length,!0);wt.length>0&&wt[0].token==="="&&wt.shift(),wt.length===0?n("Expected midi command",B,0):U(wt,c,B);break;case"percmap":var yt=p(B);yt.error?n(yt.error,z,8):(c.formatting.percmap||(c.formatting.percmap={}),c.formatting.percmap[yt.key]=yt.value);break;case"visualtranspose":var un=o.getInt(B);un.digits===0?n("Expected number of half steps in visualTranspose"):a.globalTranspose=un.value;break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":c.formatting[V]=B;break;default:return"Unknown directive: "+V}return null},e.globalFormatting=function(z){for(var A in z)if(z.hasOwnProperty(A)){var B=""+z[A],V=o.tokenize(B,0,B.length),Q;switch(A){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":x(A,V,B);break;case"scale":m(A,V);break;case"partsbox":Q=N("partsBox",A,V),Q!==null&&n(Q),a.partsfont.box=a.partsBox;break;case"freegchord":Q=N("freegchord",A,V),Q!==null&&n(Q);break;case"fontboxpadding":(V.length!==1||V[0].type!=="number")&&n('Directive "'+A+'" requires a number as a parameter.'),c.formatting.fontboxpadding=V[0].floatt;break;case"stafftopmargin":(V.length!==1||V[0].type!=="number")&&n('Directive "'+A+'" requires a number as a parameter.'),c.formatting.stafftopmargin=V[0].floatt;break;case"stretchlast":var W=I(V);if(W.value!==void 0&&(c.formatting.stretchlast=W.value),W.error)return W.error;break;default:n("Formatting directive unrecognized: ",A,0)}}};function I(z){if(z.length===0)return{value:1};if(z.length===1)if(z[0].type==="number"){if(z[0].floatt>=0||z[0].floatt<=1)return{value:z[0].floatt}}else{if(z[0].token==="false")return{value:0};if(z[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+z[0].token+")"}}}(),Cp=e,Cp}var Ep,Jb;function Az(){if(Jb)return Ep;Jb=1;var t={};const e=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];return t.pitchIndex=function(o){return e.indexOf(o)},t.noteName=function(o){return e[o]},Ep=t,Ep}var Ap,e8;function rw(){if(e8)return Ap;e8=1;var t=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],e=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],o=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function a(c,u,f,d){if(!u||u%12===0)return c;for(;u<0;)u+=12;u>11&&(u=u%12);var g=c.match(/^([A-G][b#♭♯]?)([^\/]+)?\/?([A-G][b#♭♯]?)?(.+)?/);if(!g)return c;var b=g[1],x=g[2],y=g[3],m=g[4],_=t.indexOf(b);if(_<0&&(_=e.indexOf(b)),_<0&&(_=o.indexOf(b)),_<0&&(_=n.indexOf(b)),_<0)return c;_+=u,_=_%12,f?d?c=n[_]:c=e[_]:d?c=o[_]:c=t[_];var p=x&&(x.indexOf("dim")>=0||x.indexOf("°")>=0);if(p&&c==="A#"&&(c="Bb"),p&&c==="D#"&&(c="Eb"),p&&c==="A♯"&&(c="B♭"),p&&c==="D♯"&&(c="E♭"),x&&(c+=x),y){var _=t.indexOf(y);_<0&&(_=e.indexOf(y)),_<0&&(_=o.indexOf(y)),_<0&&(_=n.indexOf(y)),c+="/",_>=0?(_+=u,_=_%12,f?d?c+=n[_]:c+=e[_]:d?c+=o[_]:c+=t[_]):c+=y}return m&&(c+=m),c}return Ap=a,Ap}var Mp,t8;function iw(){if(t8)return Mp;t8=1;var t={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},e=null;function o(){e={};for(var u=Object.keys(t),f=0;f<u.length;f++){var d=t[u[f]];e[u[f].toLowerCase()]=u[f];for(var g=0;g<d.modes.length;g++){var b=d.modes[g].toLowerCase();e[b]=u[f]}}}function n(u){e||o();var f=u.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!f||!f[2])return u;f=f[1]+f[2];var d=e[f];return d||u}function a(u,f){var d=t[u];if(!d||f==="")return u;var g=f.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!g)return u;for(var b=g[1],x=0;x<d.modes.length;x++){var y=d.modes[x],m=y.toLowerCase().indexOf(b);if(m!==-1&&m===y.length-b.length)return y.substring(0,y.length-b.length)}return u}function c(u,f){var d=t[u];if(!d)return u;for(;f<0;)f+=12;for(var g=(d.stepsFromC+f)%12,b=0;b<Object.keys(t).length;b++){var x=Object.keys(t)[b];if(t[x].stepsFromC===g)return x}return u}return Mp={relativeMajor:n,relativeMode:a,transposeKey:c},Mp}var kp,n8;function aw(){if(n8)return kp;n8=1;var{relativeMajor:t}=iw(),e={acc:"sharp",note:"f"},o={acc:"sharp",note:"c"},n={acc:"sharp",note:"g"},a={acc:"sharp",note:"d"},c={acc:"sharp",note:"A"},u={acc:"sharp",note:"e"},f={acc:"sharp",note:"B"},d={acc:"flat",note:"B"},g={acc:"flat",note:"e"},b={acc:"flat",note:"A"},x={acc:"flat",note:"d"},y={acc:"flat",note:"G"},m={acc:"flat",note:"c"},_={acc:"flat",note:"F"},p={"C#":[e,o,n,a,c,u,f],"F#":[e,o,n,a,c,u],B:[e,o,n,a,c],E:[e,o,n,a],A:[e,o,n],D:[e,o],G:[e],C:[],F:[d],Bb:[d,g],Eb:[d,g,b],Cm:[d,g,b],Ab:[d,g,b,x],Db:[d,g,b,x,y],Gb:[d,g,b,x,y,m],Cb:[d,g,b,x,y,m,_],"A#":[d,g],"B#":[],"D#":[d,g,b],"E#":[d],"G#":[d,g,b,x],none:[]};function w(T){var C=p[t(T)];return C?JSON.parse(JSON.stringify(C)):null}return kp=w,kp}var Np,r8;function sw(){if(r8)return Np;r8=1;var t=Az(),e=rw(),o=aw(),n={},a={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},c=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],u=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];n.keySignature=function(y,m,_,p,w){if(y.clef.type==="perc"||y.clef.type==="none")return{accidentals:o(m),root:_,acc:p};w||(w=0),y.localTransposeVerticalMovement=0,y.localTransposePreferFlats=!1;var T=o(m);if(!T)return y.key;if(y.localTranspose=(y.globalTranspose?y.globalTranspose:0)+w,!y.localTranspose)return{accidentals:T,root:_,acc:p};if(y.globalTransposeOrigKeySig=T,y.localTranspose%12===0)return y.localTransposeVerticalMovement=y.localTranspose/12*7,{accidentals:T,root:_,acc:p};var C=m[0];m[1]==="b"||m[1]==="#"?(C+=m[1],m=m.substr(2)):m=m.substr(1);var N=a[C],k=N!==void 0;k||(N=0,C="C",m="");for(var D=N+y.localTranspose;D<0;)D+=12;D>11&&(D=D%12);var F=m[0]==="m"?u[D]:c[D],G=F+m,E=o(G);(E.length===0||E[0].acc==="flat")&&(y.localTransposePreferFlats=!0);var R=G.charCodeAt(0)-C.charCodeAt(0);return y.localTranspose>0?(R<0||R===0&&(C[1]==="#"||G[1]==="b"))&&(R+=7):y.localTranspose<0&&(R>0||R===0&&(C[1]==="b"||G[1]==="#"))&&(R-=7),y.localTranspose>0?y.localTransposeVerticalMovement=R+Math.floor(y.localTranspose/12)*7:y.localTransposeVerticalMovement=R+Math.ceil(y.localTranspose/12)*7,k?{accidentals:E,root:F[0],acc:F.length>1?F[1]:""}:{accidentals:[],root:_,acc:p}},n.chordName=function(y,m){return e(m,y.localTranspose,y.localTransposePreferFlats,y.freegchord)};var f=["c","d","e","f","g","a","b"];function d(y,m,_,p,w){for(var T=f[(y+49)%7],C=0,N=0;N<p.length;N++)p[N].note.toLowerCase()===T&&(C=g[p[N].acc]);for(var k=g[_],D=k-C,F=f[(m+49)%7],G=0,E=0;E<w.accidentals.length;E++)w.accidentals[E].note.toLowerCase()===F&&(G=g[w.accidentals[E].acc]);var R=D+G;return R<-2&&(m--,R+=F==="c"||F==="f"?1:2),R>2&&(m++,R-=F==="b"||F==="e"?1:2),[m,R]}var g={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},b={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},x={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};return n.note=function(y,m){if(!(!y.localTranspose||y.clef.type==="perc")){var _=m.pitch;if(y.localTransposeVerticalMovement&&(m.pitch=m.pitch+y.localTransposeVerticalMovement,m.name)){var p=m.accidental?m.name.substring(1):m.name,w=m.accidental?m.name[0]:"",T=t.pitchIndex(p);m.name=w+t.noteName(T+y.localTransposeVerticalMovement)}if(m.accidental){var C=d(_,m.pitch,m.accidental,y.globalTransposeOrigKeySig,y.targetKey);m.pitch=C[0],m.accidental=b[C[1]],m.name&&(m.name=x[C[1]]+m.name.replace(/[_^=]/g,""))}}},Np=n,Np}var Rp,i8;function i3(){if(i8)return Rp;i8=1;var t=r3(),e=sw(),o={};return function(){var n,a,c,u;o.initialize=function(m,_,p,w,T){n=m,a=_,c=p,u=T},o.standardKey=function(m,_,p,w){return e.keySignature(c,m,_,p,w)};var f={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},d=function(m,_){var p=f[m],w=p?p.mid:0;return w+_};o.fixClef=function(m){var _=f[m.type];_&&(m.clefPos=_.pitch,m.type=_.clef)},o.deepCopyKey=function(m){var _={accidentals:[],root:m.root,acc:m.acc,mode:m.mode};return m.accidentals.forEach(function(p){_.accidentals.push(Object.assign({},p))}),_};var g={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};o.addPosToKey=function(m,_){var p=m.verticalPos;_.accidentals.forEach(function(w){var T=g[w.note];T=T-p,w.verticalPos=T}),_.impliedNaturals&&_.impliedNaturals.forEach(function(w){var T=g[w.note];T=T-p,w.verticalPos=T}),p<-10?(_.accidentals.forEach(function(w){w.verticalPos-=7,(w.verticalPos>=11||w.verticalPos===10&&w.acc==="flat")&&(w.verticalPos-=7),w.note==="A"&&w.acc==="sharp"&&(w.verticalPos-=7),(w.note==="G"||w.note==="F")&&w.acc==="flat"&&(w.verticalPos-=7)}),_.impliedNaturals&&_.impliedNaturals.forEach(function(w){w.verticalPos-=7,(w.verticalPos>=11||w.verticalPos===10&&w.acc==="flat")&&(w.verticalPos-=7),w.note==="A"&&w.acc==="sharp"&&(w.verticalPos-=7),(w.note==="G"||w.note==="F")&&w.acc==="flat"&&(w.verticalPos-=7)})):p<-4?(_.accidentals.forEach(function(w){w.verticalPos-=7,p===-8&&(w.note==="f"||w.note==="g")&&w.acc==="sharp"&&(w.verticalPos-=7)}),_.impliedNaturals&&_.impliedNaturals.forEach(function(w){w.verticalPos-=7,p===-8&&(w.note==="f"||w.note==="g")&&w.acc==="sharp"&&(w.verticalPos-=7)})):p>=7&&(_.accidentals.forEach(function(w){w.verticalPos+=7}),_.impliedNaturals&&_.impliedNaturals.forEach(function(w){w.verticalPos+=7}))},o.fixKey=function(m,_){var p=Object.assign({},_);return o.addPosToKey(m,p),p};var b=function(m){var _=0,p=m[_++];(p==="^"||p==="_")&&(p=m[_++]);var w=g[p];for(w===void 0&&(w=6);_<m.length;_++)if(m[_]===",")w-=7;else if(m[_]==="'")w+=7;else break;return{mid:w-6,str:m.substring(_)}},x=function(m){for(var _=0;_<m.length;_++)m[_].note==="b"?m[_].note="B":m[_].note==="a"?m[_].note="A":m[_].note==="F"?m[_].note="f":m[_].note==="E"?m[_].note="e":m[_].note==="D"?m[_].note="d":m[_].note==="C"?m[_].note="c":m[_].note==="G"&&m[_].acc==="sharp"?m[_].note="g":m[_].note==="g"&&m[_].acc==="flat"&&(m[_].note="G")};o.parseKey=function(m,_){m.length===0&&(m="none");var p=n.tokenize(m,0,m.length),w={};if(p.length===0)return a("Must pass in key signature.",m,0),w;switch(p[0].token){case"HP":t.addDirective("bagpipes"),c.key={root:"HP",accidentals:[],acc:"",mode:""},w.foundKey=!0,p.shift();break;case"Hp":t.addDirective("bagpipes"),c.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},w.foundKey=!0,p.shift();break;case"none":c.key={root:"none",accidentals:[],acc:"",mode:""},w.foundKey=!0,p.shift();break;default:var T=n.getKeyPitch(p[0].token);if(T.len>0){w.foundKey=!0;var C="",N="";p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift();var k=T.token;if(p.length>0){var D=n.getSharpFlat(p[0].token);if(D.len>0&&(p[0].token.length>1?p[0].token=p[0].token.substring(1):p.shift(),k+=D.token,C=D.token),p.length>0){var F=n.getMode(p[0].token);F.len>0&&(p.shift(),k+=F.token,N=F.token)}if(o.standardKey(k,T.token,C,0)===void 0)return a("Unsupported key signature: "+k,m,0),w}var G=o.deepCopyKey(c.key),E=!_&&c.globalTranspose?-c.globalTranspose:0,R;if(_&&(R=c.globalTransposeOrigKeySig),c.key=o.deepCopyKey(o.standardKey(k,T.token,C,E)),_&&(c.globalTransposeOrigKeySig=R),c.key.mode=N,G&&c.keywarn!==!1){for(var O,P=0;P<c.key.accidentals.length;P++)for(O=0;O<G.accidentals.length;O++)G.accidentals[O].note&&c.key.accidentals[P].note.toLowerCase()===G.accidentals[O].note.toLowerCase()&&(G.accidentals[O].note=null);for(O=0;O<G.accidentals.length;O++)G.accidentals[O].note&&(c.key.impliedNaturals||(c.key.impliedNaturals=[]),c.key.impliedNaturals.push({acc:"natural",note:G.accidentals[O].note}))}}break}if(p.length===0||(p[0].token==="exp"&&p.shift(),p.length===0)||(p[0].token==="oct"&&p.shift(),p.length===0))return w;var j=n.getKeyAccidentals2(p);if(j.warn&&a(j.warn,m,0),j.accs){w.foundKey||(w.foundKey=!0,c.key={root:"none",acc:"",mode:"",accidentals:[]}),x(j.accs);for(var Y=0;Y<j.accs.length;Y++){for(var H=!1,q=0;q<c.key.accidentals.length&&!H;q++)c.key.accidentals[q].note===j.accs[Y].note&&(H=!0,c.key.accidentals[q].acc!==j.accs[Y].acc&&(c.key.accidentals[q].acc=j.accs[Y].acc,c.key.explicitAccidentals||(c.key.explicitAccidentals=[]),c.key.explicitAccidentals.push(j.accs[Y])));if(!H&&(c.key.explicitAccidentals||(c.key.explicitAccidentals=[]),c.key.explicitAccidentals.push(j.accs[Y]),c.key.accidentals.push(j.accs[Y]),c.key.impliedNaturals))for(var U=0;U<c.key.impliedNaturals.length;U++)c.key.impliedNaturals[U].note===j.accs[Y].note&&c.key.impliedNaturals.splice(U,1)}}for(var X;p.length>0;)switch(p[0].token){case"m":case"middle":if(p.shift(),p.length===0)return a("Expected = after middle",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after middle",m,X.start);break}if(p.length===0)return a("Expected parameter after middle=",m,0),w;var I=n.getPitchFromTokens(p);I.warn&&a(I.warn,m,0),I.position&&(c.clef.verticalPos=I.position-6);break;case"transpose":if(p.shift(),p.length===0)return a("Expected = after transpose",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after transpose",m,X.start);break}if(p.length===0)return a("Expected parameter after transpose=",m,0),w;if(p[0].type!=="number"){a("Expected number after transpose",m,p[0].start);break}c.clef.transpose=p[0].intt,p.shift();break;case"stafflines":if(p.shift(),p.length===0)return a("Expected = after stafflines",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after stafflines",m,X.start);break}if(p.length===0)return a("Expected parameter after stafflines=",m,0),w;if(p[0].type!=="number"){a("Expected number after stafflines",m,p[0].start);break}c.clef.stafflines=p[0].intt,p.shift();break;case"staffscale":if(p.shift(),p.length===0)return a("Expected = after staffscale",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after staffscale",m,X.start);break}if(p.length===0)return a("Expected parameter after staffscale=",m,0),w;if(p[0].type!=="number"){a("Expected number after staffscale",m,p[0].start);break}c.clef.staffscale=p[0].floatt,p.shift();break;case"octave":if(p.shift(),p.length===0)return a("Expected = after octave",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after octave",m,X.start);break}if(p.length===0)return a("Expected parameter after octave=",m,0),w;if(p[0].type!=="number"){a("Expected number after octave",m,p[0].start);break}c.octave=p[0].intt,p.shift();break;case"style":if(p.shift(),p.length===0)return a("Expected = after style",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after style",m,X.start);break}if(p.length===0)return a("Expected parameter after style=",m,0),w;switch(p[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":c.style=p[0].token,p.shift();break;default:a("error parsing style element: "+p[0].token,m,p[0].start);break}break;case"clef":if(p.shift(),p.length===0)return a("Expected = after clef",m,0),w;if(X=p.shift(),X.token!=="="){a("Expected = after clef",m,X.start);break}if(p.length===0)return a("Expected parameter after clef=",m,0),w;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var z=p.shift();switch(z.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":z.token="alto";break;case"F":z.token="bass";break;case"G":z.token="treble";break;case"c":z.token="alto";break;case"f":z.token="bass";break;case"g":z.token="treble";break;default:a("Expected clef name. Found "+z.token,m,z.start);break}p.length>0&&p[0].type==="number"&&(z.token+=p[0].token,p.shift()),p.length>1&&(p[0].token==="-"||p[0].token==="+"||p[0].token==="^"||p[0].token==="_")&&p[1].token==="8"&&(z.token+=p[0].token+p[1].token,p.shift(),p.shift()),c.clef={type:z.token,verticalPos:d(z.token,0)},c.currentVoice&&c.currentVoice.transpose!==void 0&&(c.clef.transpose=c.currentVoice.transpose),w.foundClef=!0;break;default:a("Unknown parameter: "+p[0].token,m,p[0].start),p.shift()}return w};var y=function(m){var _=c.voices[m];if(!(c.currentVoice&&c.currentVoice.index===_.index&&c.currentVoice.staffNum===_.staffNum))return c.currentVoice=_,u.setCurrentVoice(_.staffNum,_.index,m)};o.parseVoice=function(m,_,p){var w=n.getMeat(m,_,p),T=w.start,C=w.end,N=n.getToken(m,T,C);if(N.length===0){a("Expected a voice id",m,T);return}var k=!1;c.voices[N]===void 0&&(c.voices[N]={},k=!0,c.score_is_present&&a("Can't have an unknown V: id when the %score directive is present",m,T)),T+=N.length,T+=n.eatWhiteSpace(m,T);for(var D={startStaff:k},F=function(I){var z=n.getVoiceToken(m,T,C);z.warn!==void 0?a("Expected value for "+I+" in voice: "+z.warn,m,T):z.err!==void 0?a("Expected value for "+I+" in voice: "+z.err,m,T):z.token.length===0&&m[T]!=='"'?a("Expected value for "+I+" in voice",m,T):D[I]=z.token,T+=z.len},G=function(I,z,A){var B=n.getVoiceToken(m,T,C);B.warn!==void 0?a("Expected value for "+z+" in voice: "+B.warn,m,T):B.err!==void 0?a("Expected value for "+z+" in voice: "+B.err,m,T):B.token.length===0&&m[T]!=='"'?a("Expected value for "+z+" in voice",m,T):(B.token=parseFloat(B.token),c.voices[I][z]=B.token),T+=B.len},E=function(I,z){var A=n.getVoiceToken(m,T,C);if(A.warn!==void 0)a("Expected value for "+I+" in voice: "+A.warn,m,T);else if(A.err!==void 0)a("Expected value for "+I+" in voice: "+A.err,m,T);else if(A.token.length===0&&m[T]!=='"')a("Expected value for "+I+" in voice",m,T);else return A.token;T+=A.len},R=function(I,z){var A={_B:2,_E:9,_b:-10,_e:-3},B=n.getVoiceToken(m,T,C);if(B.warn!==void 0)a("Expected one of (_B, _E, _b, _e) for "+z+" in voice: "+B.warn,m,T);else if(B.token.length===0&&m[T]!=='"')a("Expected one of (_B, _E, _b, _e) for "+z+" in voice",m,T);else{var V=A[B.token];V?c.voices[I][z]=V:a("Expected one of (_B, _E, _b, _e) for "+z+" in voice",m,T)}T+=B.len};T<C;){var O=n.getVoiceToken(m,T,C);if(T+=O.len,O.warn)a("Error parsing voice: "+O.warn,m,T);else{var P=null;switch(O.token){case"clef":case"cl":F("clef");var j=0;D.clef!==void 0&&(D.clef=D.clef.replace(/[',]/g,""),D.clef.indexOf("+16")!==-1&&(j+=14,D.clef=D.clef.replace("+16","")),D.verticalPos=d(D.clef,j));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":case"treble+8":case"treble-8":case"treble^8":case"treble_8":case"treble1":case"treble2":case"treble3":case"treble4":case"treble5":case"bass+8":case"bass-8":case"bass^8":case"bass_8":case"bass+16":case"bass-16":case"bass^16":case"bass_16":case"bass1":case"bass2":case"bass3":case"bass4":case"bass5":case"tenor1":case"tenor2":case"tenor3":case"tenor4":case"tenor5":case"alto1":case"alto2":case"alto3":case"alto4":case"alto5":case"alto+8":case"alto-8":case"alto^8":case"alto_8":var Y=0;D.clef=O.token.replace(/[',]/g,""),D.verticalPos=d(D.clef,Y),c.voices[N].clef=O.token;break;case"staves":case"stave":case"stv":F("staves");break;case"brace":case"brc":F("brace");break;case"bracket":case"brk":F("bracket");break;case"name":case"nm":F("name");break;case"subname":case"sname":case"snm":F("subname");break;case"merge":D.startStaff=!1;break;case"stem":case"stems":P=n.getVoiceToken(m,T,C),P.warn!==void 0?a("Expected value for stems in voice: "+P.warn,m,T):P.err!==void 0?a("Expected value for stems in voice: "+P.err,m,T):P.token==="up"||P.token==="down"?c.voices[N].stem=P.token:a("Expected up or down for voice stem",m,T),T+=P.len;break;case"up":case"down":c.voices[N].stem=O.token;break;case"middle":case"m":F("verticalPos"),D.verticalPos=b(D.verticalPos).mid;break;case"gchords":case"gch":c.voices[N].suppressChords=!0,P=n.getVoiceToken(m,T,C),P.token==="0"&&(T=T+P.len);break;case"space":case"spc":F("spacing");break;case"scale":G(N,"scale");break;case"score":R(N,"scoreTranspose");break;case"transpose":G(N,"transpose");break;case"stafflines":G(N,"stafflines");break;case"staffscale":G(N,"staffscale");break;case"octave":G(N,"octave");break;case"volume":G(N,"volume");break;case"cue":var H=E("cue");H==="on"?c.voices[N].scale=.6:c.voices[N].scale=1;break;case"style":P=n.getVoiceToken(m,T,C),P.warn!==void 0?a("Expected value for style in voice: "+P.warn,m,T):P.err!==void 0?a("Expected value for style in voice: "+P.err,m,T):P.token==="normal"||P.token==="harmonic"||P.token==="rhythm"||P.token==="x"||P.token==="triangle"?c.voices[N].style=P.token:a("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",m,T),T+=P.len;break}}T+=n.eatWhiteSpace(m,T)}if((D.startStaff||c.staves.length===0)&&(c.staves.push({index:c.staves.length,meter:c.origMeter}),c.score_is_present||(c.staves[c.staves.length-1].numVoices=0)),c.voices[N].staffNum===void 0){c.voices[N].staffNum=c.staves.length-1;var q=0;for(var U in c.voices)c.voices.hasOwnProperty(U)&&c.voices[U].staffNum===c.voices[N].staffNum&&q++;c.voices[N].index=q-1}var X=c.staves[c.voices[N].staffNum];return c.score_is_present||X.numVoices++,D.clef&&(X.clef={type:D.clef,verticalPos:D.verticalPos}),D.spacing&&(X.spacing_below_offset=D.spacing),D.verticalPos&&(X.verticalPos=D.verticalPos),D.name&&(X.name?X.name.push(D.name):X.name=[D.name]),D.subname&&(X.subname?X.subname.push(D.subname):X.subname=[D.subname]),y(N)}}(),Rp=o,Rp}var Dp,a8;function Mz(){if(a8)return Dp;a8=1;var t=wa(),e=r3(),o=i3(),n=function(a,c,u,f,d){this.reset=function(x,y,m,_){o.initialize(x,y,m,_,d),e.initialize(x,y,m,_,d)},this.reset(a,c,u,f),this.setTitle=function(x,y){u.hasMainTitle?d.addSubtitle(x,{startChar:u.iChar,endChar:u.iChar+y+2}):(d.addMetaText("title",x,{startChar:u.iChar,endChar:u.iChar+y+2}),u.hasMainTitle=!0)},this.setMeter=function(x){if(x=a.stripComment(x),x==="C")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"common_time"};if(x==="C|")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"cut_time"};if(x==="o")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_perfectum"};if(x==="c")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_imperfectum"};if(x==="o.")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(x==="c.")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(x.length===0||x.toLowerCase()==="none")return u.havent_set_length===!0&&(u.default_length=.125,u.havent_set_length=!1),null;var y=a.tokenize(x,0,x.length);try{var m=function(){var N={value:0,num:""},k=y.shift();for(k.token==="("&&(k=y.shift());;){if(k.type!=="number")throw"Expected top number of meter";if(N.value+=parseInt(k.token),N.num+=k.token,y.length===0||y[0].token==="/")return N;if(k=y.shift(),k.token===")"){if(y.length===0||y[0].token==="/")return N;throw"Unexpected paren in meter"}if(k.token!=="."&&k.token!=="+"||(N.num+=k.token,y.length===0))throw"Expected top number of meter";k=y.shift()}return N},_=function(){var N=m();if(y.length===0)return N;var k=y.shift();if(k.token!=="/")throw"Expected slash in meter";if(k=y.shift(),k.type!=="number")throw"Expected bottom number of meter";return N.den=k.token,N.value=N.value/parseInt(N.den),N};if(y.length===0)throw"Expected meter definition in M: line";for(var p={type:"specified",value:[]},w=0;;){var T=_();w+=T.value;var C={num:T.num};if(T.den!==void 0&&(C.den=T.den),p.value.push(C),y.length===0)break}return u.havent_set_length===!0&&(u.default_length=w<.75?.0625:.125,u.havent_set_length=!1),p}catch(N){c(N,x,0)}return null},this.calcTempo=function(x){var y=.25;u.meter&&u.meter.type==="specified"?y=1/parseInt(u.meter.value[0].den):u.origMeter&&u.origMeter.type==="specified"&&(y=1/parseInt(u.origMeter.value[0].den));for(var m=0;m<x.duration;m++)x.duration[m]=y*x.duration[m];return x},this.resolveTempo=function(){u.tempo&&(this.calcTempo(u.tempo),f.metaText.tempo=u.tempo,delete u.tempo)},this.addUserDefinition=function(x,y,m){var _=x.indexOf("=",y);if(_===-1){c("Need an = in a macro definition",x,y);return}var p=t.strip(x.substring(y,_)),w=t.strip(x.substring(_+1));if(p.length!==1){c("Macro definitions can only be one character",x,y);return}var T="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(T.indexOf(p)===-1){c("Macro definitions must be H-Y, h-w, or tilde",x,y);return}if(w.length===0){c("Missing macro definition",x,y);return}u.macros===void 0&&(u.macros={}),u.macros[p]=w},this.setDefaultLength=function(x,y,m){var _=x.substring(y,m).replace(/ /g,""),p=_.split("/");if(p.length===2){var w=parseInt(p[0]),T=parseInt(p[1]);T>0&&(u.default_length=w/T,u.havent_set_length=!1)}else p.length===1&&p[0]==="1"&&(u.default_length=1,u.havent_set_length=!1)};var g={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(x,y,m,_){try{var p=a.tokenize(x,y,m);if(p.length===0)throw"Missing parameter in Q: field";var w={startChar:_+y-2,endChar:_+m},T=!0,C=p.shift();if(C.type==="quote"&&(w.preString=C.token,C=p.shift(),p.length===0))return g[w.preString.toLowerCase()]&&(w.bpm=g[w.preString.toLowerCase()],w.suppressBpm=!0),{type:"immediate",tempo:w};if(C.type==="alpha"&&C.token==="C"){if(p.length===0)throw"Missing tempo after C in Q: field";if(C=p.shift(),C.type==="punct"&&C.token==="="){if(p.length===0)throw"Missing tempo after = in Q: field";if(C=p.shift(),C.type!=="number")throw"Expected number after = in Q: field";w.duration=[1],w.bpm=parseInt(C.token)}else if(C.type==="number"){if(w.duration=[parseInt(C.token)],p.length===0)throw"Missing = after duration in Q: field";if(C=p.shift(),C.type!=="punct"||C.token!=="=")throw"Expected = after duration in Q: field";if(p.length===0)throw"Missing tempo after = in Q: field";if(C=p.shift(),C.type!=="number")throw"Expected number after = in Q: field";w.bpm=parseInt(C.token)}else throw"Expected number or equal after C in Q: field"}else if(C.type==="number"){var N=parseInt(C.token);if(p.length===0||p[0].type==="quote")w.duration=[1],w.bpm=N;else{if(T=!1,C=p.shift(),C.type!=="punct"&&C.token!=="/"||(C=p.shift(),C.type!=="number"))throw"Expected fraction in Q: field";var k=parseInt(C.token);for(w.duration=[N/k];p.length>0&&p[0].token!=="="&&p[0].type!=="quote";){if(C=p.shift(),C.type!=="number"||(N=parseInt(C.token),C=p.shift(),C.type!=="punct"&&C.token!=="/")||(C=p.shift(),C.type!=="number"))throw"Expected fraction in Q: field";k=parseInt(C.token),w.duration.push(N/k)}if(C=p.shift(),C.type!=="punct"&&C.token!=="=")throw"Expected = in Q: field";if(C=p.shift(),C.type!=="number")throw"Expected tempo in Q: field";w.bpm=parseInt(C.token)}}else throw"Unknown value in Q: field";if(p.length!==0&&(C=p.shift(),C.type==="quote"&&(w.postString=C.token,C=p.shift()),p.length!==0))throw"Unexpected string at end of Q: field";return u.printTempo===!1&&(w.suppress=!0),{type:T?"delaySet":"immediate",tempo:w}}catch(D){return c(D,x,y),{type:"none"}}},this.letter_to_inline_header=function(x,y,m){var _=!1,p=a.eatWhiteSpace(x,y);if(y+=p,x.length>=y+5&&x[y]==="["&&x[y+2]===":"){var w=x.indexOf("]",y),T=u.iChar+y,C=u.iChar+w+1;switch(x.substring(y,y+3)){case"[I:":var N=e.addDirective(x.substring(y+3,w));return N&&c(N,x,y),[w-y+1+p];case"[M:":var k=this.setMeter(x.substring(y+3,w));return d.hasBeginMusic()&&k?d.appendStartingElement("meter",T,C,k):u.meter=k,[w-y+1+p];case"[K:":var D=o.parseKey(x.substring(y+3,w),!0);return D.foundClef&&d.hasBeginMusic()&&d.appendStartingElement("clef",T,C,u.clef),D.foundKey&&d.hasBeginMusic()&&d.appendStartingElement("key",T,C,o.fixKey(u.clef,u.key)),[w-y+1+p];case"[P:":var F=e.parseFontChangeLine(x.substring(y+3,w));return m||f.lines.length<=f.lineNum?u.partForNextLine={title:F,startChar:T,endChar:C}:d.appendElement("part",T,C,{title:F}),[w-y+1+p];case"[L:":return this.setDefaultLength(x,y+3,w),[w-y+1+p];case"[Q:":if(w>0){var G=this.setTempo(x,y+3,w,u.iChar);return G.type==="delaySet"?d.hasBeginMusic()?d.appendElement("tempo",T,C,this.calcTempo(G.tempo)):u.tempoForNextLine=["tempo",T,C,this.calcTempo(G.tempo)]:G.type==="immediate"&&(!m&&d.hasBeginMusic()?d.appendElement("tempo",T,C,G.tempo):u.tempoForNextLine=["tempo",T,C,G.tempo]),[w-y+1+p,x[y+1],x.substring(y+3,w)]}break;case"[V:":if(w>0)return _=o.parseVoice(x,y+3,w),[w-y+1+p,x[y+1],x.substring(y+3,w),_];break;case"[r:":return[w-y+1+p]}}return[0]},this.letter_to_body_header=function(x,y){var m=!1;if(x.length>=y+3)switch(x.substring(y,y+2)){case"I:":var _=e.addDirective(x.substring(y+2));return _&&c(_,x,y),[x.length];case"M:":var p=this.setMeter(x.substring(y+2));return d.hasBeginMusic()&&p&&d.appendStartingElement("meter",u.iChar+y,u.iChar+x.length,p),[x.length];case"K:":var w=o.parseKey(x.substring(y+2),d.hasBeginMusic());return w.foundClef&&d.hasBeginMusic()&&u.keywarn!==!1&&d.appendStartingElement("clef",u.iChar+y,u.iChar+x.length,u.clef),w.foundKey&&d.hasBeginMusic()&&u.keywarn!==!1&&d.appendStartingElement("key",u.iChar+y,u.iChar+x.length,o.fixKey(u.clef,u.key)),[x.length];case"P:":return d.hasBeginMusic()&&d.appendElement("part",u.iChar+y,u.iChar+x.length,{title:x.substring(y+2)}),[x.length];case"L:":return this.setDefaultLength(x,y+2,x.length),[x.length];case"Q:":var T=x.indexOf("",y+2);T===-1&&(T=x.length);var C=this.setTempo(x,y+2,T,u.iChar);return C.type==="delaySet"?d.appendElement("tempo",u.iChar+y,u.iChar+x.length,this.calcTempo(C.tempo)):C.type==="immediate"&&d.appendElement("tempo",u.iChar+y,u.iChar+x.length,C.tempo),[T,x[y],t.strip(x.substring(y+2))];case"V:":return m=o.parseVoice(x,y+2,x.length),[x.length,x[y],t.strip(x.substring(y+2)),m]}return[0]};var b={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(x){var y=b[x[0]],m=x.length-2,_=a.translateString(a.stripComment(x.substring(2)));if(y==="unalignedWords"||y==="notes")d.addMetaTextArray(y,e.parseFontChangeLine(_),{startChar:u.iChar,endChar:u.iChar+x.length});else if(y!==void 0)d.addMetaText(y,e.parseFontChangeLine(_),{startChar:u.iChar,endChar:u.iChar+x.length});else{var p=u.iChar,w=p+x.length;switch(x[0]){case"H":for(d.addMetaTextArray("history",e.parseFontChangeLine(_),{startChar:u.iChar,endChar:u.iChar+x.length}),x=a.peekLine();x&&x[1]!==":";)a.nextLine(),d.addMetaTextArray("history",e.parseFontChangeLine(a.translateString(a.stripComment(x))),{startChar:u.iChar,endChar:u.iChar+x.length}),x=a.peekLine();break;case"K":this.resolveTempo();var T=o.parseKey(x.substring(2),!1);!u.is_in_header&&d.hasBeginMusic()&&u.keywarn!==!1&&(T.foundClef&&d.appendStartingElement("clef",p,w,u.clef),T.foundKey&&d.appendStartingElement("key",p,w,o.fixKey(u.clef,u.key))),u.is_in_header=!1;break;case"L":this.setDefaultLength(x,2,x.length);break;case"M":u.origMeter=u.meter=this.setMeter(x.substring(2));break;case"P":u.is_in_header?d.addMetaText("partOrder",e.parseFontChangeLine(_),{startChar:u.iChar,endChar:u.iChar+x.length}):u.partForNextLine={title:_,startChar:p,endChar:w};break;case"Q":var C=this.setTempo(x,2,x.length,u.iChar);C.type==="delaySet"?u.tempo=C.tempo:C.type==="immediate"&&(f.metaText.tempo?u.tempoForNextLine=["tempo",p,w,C.tempo]:f.metaText.tempo=C.tempo);break;case"T":u.titlecaps&&(_=_.toUpperCase()),this.setTitle(e.parseFontChangeLine(a.theReverser(_)),m);break;case"U":this.addUserDefinition(x,2,x.length);break;case"V":if(o.parseVoice(x,2,x.length),!u.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":c("Ignored header",x,0);break;default:return{regular:!0}}}return{}}};return Dp=n,Dp}var Rr={},s8;function kz(){return s8||(s8=1,Rr.legalAccents=["trill","trillh","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"],Rr.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"],Rr.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"],Rr.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]],Rr.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]],Rr.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{",Rr.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875],Rr.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11},Rr.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"},Rr.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"},Rr.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2}),Rr}var Op,o8;function Nz(){if(o8)return Op;o8=1;var t=i3(),e=sw(),o,n,a,c,u,f,{legalAccents:d,volumeDecorations:g,dynamicDecorations:b,accentPseudonyms:x,accentDynamicPseudonyms:y,nonDecorations:m,durations:_,pitches:p,rests:w,accMap:T,tripletQ:C}=kz(),N=function(z,A,B,V,Q,W){o=z,n=A,a=B,c=V,u=Q,f=W,this.lineContinuation=!1},k=function(z,A,B){if(z.inTie[A]===void 0)return!1;var V=z.currentVoice?z.currentVoice.staffNum*100+z.currentVoice.index:0;return!!(z.inTie[A][V]&&(B.pitches!==void 0||B.rest.type!=="spacer"))},D={};N.prototype.parseMusic=function(z){f.resolveTempo(),a.is_in_header=!1;for(var A=0,B=a.iChar;o.isWhiteSpace(z[A])&&A<z.length;)A++;if(!(A===z.length||z[A]==="%")){var V=a.start_new_line;a.continueall===void 0?a.start_new_line=!0:a.start_new_line=!1;var Q=0,W=f.letter_to_body_header(z,A);W[0]>0&&(A+=W[0],W[1]==="V"&&this.startNewLine());for(var K=0;A<z.length;){var re=A;if(z[A]==="%")break;var he=f.letter_to_inline_header(z,A,V);if(he[0]>0)A+=he[0],he[1]==="V"&&(V=!0);else{(!u.hasBeginMusic()||V&&!this.lineContinuation)&&(this.startNewLine(),V=!1);for(var ee;;)if(ee=o.eatWhiteSpace(z,A),ee>0&&(A+=ee),A>0&&z[A-1]===""&&(ee=f.letter_to_body_header(z,A),ee[0]>0&&(ee[1]==="V"&&this.startNewLine(),A=ee[0],a.start_new_line=!1)),ee=j(z,A),ee[0]>0&&(A+=ee[0]),ee=G(z,A),ee[0]>0){D.chord||(D.chord=[]);var pe=o.translateString(ee[1]);pe=pe.replace(/;/g,`
`);for(var Ce=!1,le=0;le<D.chord.length;le++)D.chord[le].position===ee[2]&&(Ce=!0,D.chord[le].name+=`
`+pe);Ce===!1&&(ee[2]===null&&ee[3]?D.chord.push({name:pe,rel_position:ee[3]}):D.chord.push({name:pe,position:ee[2]})),A+=ee[0];var se=o.skipWhiteSpace(z.substring(A));se>0&&(D.force_end_beam_last=!0),A+=se}else if(m.indexOf(z[A])===-1?ee=P(z,A):ee=[0],ee[0]>0)ee[1]===null?A+1<z.length&&this.startNewLine():ee[1].length>0&&(ee[1].indexOf("style=")===0?D.style=ee[1].substr(6):(D.decoration===void 0&&(D.decoration=[]),ee[1]==="beambr1"?D.beambr=1:ee[1]==="beambr2"?D.beambr=2:D.decoration.push(ee[1]))),A+=ee[0];else if(ee=E(z,A),ee[0]>0)D.gracenotes=ee[1],A+=ee[0];else break;if(ee=Y(z,A),ee[0]>0){K=0,D.gracenotes!==void 0&&(D.rest={type:"spacer"},D.duration=.125,a.addFormattingOptions(D,c.formatting,"note"),u.appendElement("note",B+A,B+A+ee[0],D),a.measureNotEmpty=!0,D={});var fe={type:ee[1]};fe.type.length===0?n("Unknown bar type",z,A):(a.inEnding&&fe.type!=="bar_thin"&&(fe.endEnding=!0,a.inEnding=!1),ee[2]&&(fe.startEnding=ee[2],a.inEnding&&(fe.endEnding=!0),a.inEnding=!0,ee[1]==="bar_right_repeat"?a.restoreStartEndingHoldOvers():a.duplicateStartEndingHoldOvers()),D.decoration!==void 0&&(fe.decoration=D.decoration),D.chord!==void 0&&(fe.chord=D.chord),fe.startEnding&&a.barFirstEndingNum===void 0?a.barFirstEndingNum=a.currBarNumber:fe.startEnding&&fe.endEnding&&a.barFirstEndingNum?a.currBarNumber=a.barFirstEndingNum:fe.endEnding&&(a.barFirstEndingNum=void 0),fe.type!=="bar_invisible"&&a.measureNotEmpty&&I()&&(a.currBarNumber++,a.barNumbers&&a.currBarNumber%a.barNumbers===0&&(fe.barNumber=a.currBarNumber)),a.addFormattingOptions(D,c.formatting,"bar"),u.appendElement("bar",B+re,B+A+ee[0],fe),a.measureNotEmpty=!1,D={}),A+=ee[0]}else if(z[A]==="&")ee=R(z,A),ee[0]>0&&(u.appendElement("overlay",B,B+1,{}),A+=1,K++);else{if(ee=H(z,A),ee.consumed>0&&(ee.startSlur!==void 0&&(D.startSlur=ee.startSlur),ee.dottedSlur&&(D.dottedSlur=!0),ee.triplet!==void 0&&(Q>0?n("Can't nest triplets",z,A):(D.startTriplet=ee.triplet,D.tripletMultiplier=ee.tripletQ/ee.triplet,D.tripletR=ee.num_notes,Q=ee.num_notes===void 0?ee.triplet:ee.num_notes)),A+=ee.consumed),z[A]==="["){A++;for(var ae=null,Se=!1,we=!1;!we;){var te=P(z,A);te[0]>0&&(A+=te[0]);var ke=U(z,A,{},!1);if(ke!==null&&ke.pitch!==void 0)te[0]>0&&te[1].indexOf("style=")!==0&&(D.decoration===void 0&&(D.decoration=[]),D.decoration.push(te[1])),ke.end_beam&&(D.end_beam=!0,delete ke.end_beam),D.pitches===void 0?(D.duration=ke.duration,D.pitches=[ke]):D.pitches.push(ke),delete ke.duration,te[0]>0&&te[1].indexOf("style=")===0&&(D.pitches[D.pitches.length-1].style=te[1].substr(6)),a.inTieChord[D.pitches.length]&&(ke.endTie=!0,a.inTieChord[D.pitches.length]=void 0),ke.startTie&&(a.inTieChord[D.pitches.length]=!0),A=ke.endChar,delete ke.endChar;else if(z[A]===" ")n("Spaces are not allowed in chords",z,A),A++;else{if(A<z.length&&z[A]==="]"){A++,a.next_note_duration!==0&&(D.duration=D.duration*a.next_note_duration,a.next_note_duration=0),k(a,K,D)&&(D.pitches.forEach(function(xe){xe.endTie=!0}),F(a,K,!1)),Q>0&&!(D.rest&&D.rest.type==="spacer")&&(Q--,Q===0&&(D.endTriplet=!0));for(var Be=!1;A<z.length&&!Be;){switch(z[A]){case" ":case"	":q(D);break;case")":D.endSlur===void 0?D.endSlur=1:D.endSlur++;break;case"-":D.pitches.forEach(function(xe){xe.startTie={}}),F(a,K,!0);break;case">":case"<":var je=X(z,A);A+=je[0]-1,a.next_note_duration=je[2],ae?ae=ae*je[1]:ae=je[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var Pe=o.getFraction(z,A);ae=Pe.value,A=Pe.index;var ce=z[A];ce===" "&&(Se=!0),ce==="-"||ce===")"||ce===" "||ce==="<"||ce===">"?A--:Be=!0;break;case"0":ae=0;break;default:Be=!0;break}Be||A++}}else n("Expected ']' to end the chords",z,A);D.pitches!==void 0&&(ae!==null&&(D.duration=D.duration*ae,Se&&q(D)),a.addFormattingOptions(D,c.formatting,"note"),u.appendElement("note",B+re,B+A,D),a.measureNotEmpty=!0,D={}),we=!0}}}else{var ye={},ne=U(z,A,ye,!0);if(ye.endTie!==void 0&&F(a,K,!0),ne!==null){ne.pitch!==void 0?(D.pitches=[{}],ne.accidental!==void 0&&(D.pitches[0].accidental=ne.accidental),D.pitches[0].pitch=ne.pitch,D.pitches[0].name=ne.name,(ne.midipitch||ne.midipitch===0)&&(D.pitches[0].midipitch=ne.midipitch),ne.endSlur!==void 0&&(D.pitches[0].endSlur=ne.endSlur),ne.endTie!==void 0&&(D.pitches[0].endTie=ne.endTie),ne.startSlur!==void 0&&(D.pitches[0].startSlur=ne.startSlur),D.startSlur!==void 0&&(D.pitches[0].startSlur=D.startSlur),D.dottedSlur!==void 0&&(D.pitches[0].dottedSlur=!0),ne.startTie!==void 0&&(D.pitches[0].startTie=ne.startTie),D.startTie!==void 0&&(D.pitches[0].startTie=D.startTie)):(D.rest=ne.rest,ne.rest.type==="multimeasure"&&I()&&(a.currBarNumber+=ne.rest.text-1),ne.endSlur!==void 0&&(D.endSlur=ne.endSlur),ne.endTie!==void 0&&(D.rest.endTie=ne.endTie),ne.startSlur!==void 0&&(D.startSlur=ne.startSlur),ne.startTie!==void 0&&(D.rest.startTie=ne.startTie),D.startTie!==void 0&&(D.rest.startTie=D.startTie)),ne.chord!==void 0&&(D.chord=ne.chord),ne.duration!==void 0&&(D.duration=ne.duration),ne.decoration!==void 0&&(D.decoration=ne.decoration),ne.graceNotes!==void 0&&(D.graceNotes=ne.graceNotes),delete D.startSlur,delete D.dottedSlur,k(a,K,D)&&(D.pitches!==void 0?D.pitches[0].endTie=!0:D.rest.type!=="spacer"&&(D.rest.endTie=!0),F(a,K,!1)),(ne.startTie||D.startTie)&&F(a,K,!0),A=ne.endChar,Q>0&&!(ne.rest&&ne.rest.type==="spacer")&&(Q--,Q===0&&(D.endTriplet=!0)),ne.end_beam&&q(D),D.rest&&D.rest.type==="rest"&&D.duration===1&&O(a)<=1&&(D.rest.type="whole",D.duration=O(a)),D.duration<1&&_.indexOf(D.duration)===-1&&D.duration!==0&&(!D.rest||D.rest.type!=="spacer")&&n("Duration not representable: "+z.substring(re,A),z,A),a.addFormattingOptions(D,c.formatting,"note");var de=u.appendElement("note",B+re,B+A,D);de||(this.startNewLine(),u.appendElement("note",B+re,B+A,D)),a.measureNotEmpty=!0,D={}}}A===re&&(z[A]!==" "&&z[A]!=="`"&&n("Unknown character ignored",z,A),A++)}}}this.lineContinuation=z.indexOf("")>=0||W[0]>0,this.lineContinuation||(D={})}};var F=function(z,A,B){var V=z.currentVoice?z.currentVoice.staffNum*100+z.currentVoice.index:0;z.inTie[A]===void 0&&(z.inTie[A]=[]),z.inTie[A][V]=B},G=function(z,A){if(z[A]==='"'){var B=o.getBrackettedSubstring(z,A,5);if(B[2]||n("Missing the closing quote while parsing the chord symbol",z,A),B[0]>0&&B[1].length>0&&B[1][0]==="^")B[1]=B[1].substring(1),B[2]="above";else if(B[0]>0&&B[1].length>0&&B[1][0]==="_")B[1]=B[1].substring(1),B[2]="below";else if(B[0]>0&&B[1].length>0&&B[1][0]==="<")B[1]=B[1].substring(1),B[2]="left";else if(B[0]>0&&B[1].length>0&&B[1][0]===">")B[1]=B[1].substring(1),B[2]="right";else if(B[0]>0&&B[1].length>0&&B[1][0]==="@"){B[1]=B[1].substring(1);var V=o.getFloat(B[1]);if(V.digits===0)return n("Missing first position in absolutely positioned annotation.",z,A),B[1]=B[1].replace("@",""),B[2]="above",B;if(B[1]=B[1].substring(V.digits),B[1][0]!==",")return n("Missing comma absolutely positioned annotation.",z,A),B[1]=B[1].replace("@",""),B[2]="above",B;B[1]=B[1].substring(1);var Q=o.getFloat(B[1]);if(Q.digits===0)return n("Missing second position in absolutely positioned annotation.",z,A),B[1]=B[1].replace("@",""),B[2]="above",B;B[1]=B[1].substring(Q.digits);var W=o.skipWhiteSpace(B[1]);B[1]=B[1].substring(W),B[2]=null,B[3]={x:V.value,y:Q.value}}else a.freegchord!==!0&&(B[1]=B[1].replace(/([ABCDEFG0-9])b/g,"$1♭"),B[1]=B[1].replace(/([ABCDEFG0-9])#/g,"$1♯"),B[1]=B[1].replace(/^([ABCDEFG])([♯♭]?)o([^A-Za-z])/g,"$1$2°$3"),B[1]=B[1].replace(/^([ABCDEFG])([♯♭]?)o$/g,"$1$2°"),B[1]=B[1].replace(/^([ABCDEFG])([♯♭]?)0([^A-Za-z])/g,"$1$2ø$3"),B[1]=B[1].replace(/^([ABCDEFG])([♯♭]?)\^([^A-Za-z])/g,"$1$2∆$3")),B[2]="default",B[1]=e.chordName(a,B[1]);return B}return[0,""]},E=function(z,A){if(z[A]==="{"){var B=o.getBrackettedSubstring(z,A,1,"}");B[2]||n("Missing the closing '}' while parsing grace note",z,A),z[A+B[0]]===")"&&(B[0]++,B[1]+=")");for(var V=[],Q=0,W=!1;Q<B[1].length;){var K=!1;B[1][Q]==="/"&&(K=!0,Q++);var re=U(B[1],Q,{},!1);re!==null?(re.duration=re.duration/(a.default_length*8),K&&(re.acciaccatura=!0),re.rest?n("Rests not allowed as grace notes '"+B[1][Q]+"' while parsing grace note",z,A):V.push(re),W&&(re.endTie=!0,W=!1),re.startTie&&(W=!0),Q=re.endChar,delete re.endChar,re.end_beam&&(re.endBeam=!0,delete re.end_beam)):(B[1][Q]===" "?V.length>0&&(V[V.length-1].endBeam=!0):n("Unknown character '"+B[1][Q]+"' while parsing grace note",z,A),Q++)}if(V.length)return[B[0],V]}return[0]};function R(z,A){if(z[A]==="&"){for(var B=A;z[A]&&z[A]!==":"&&z[A]!=="|";)A++;return[A-B,z.substring(B+1,A)]}return[0]}function O(z){var A=z.origMeter;return!A||A.type!=="specified"||!A.value||A.value.length===0?1:parseInt(A.value[0].num,10)/parseInt(A.value[0].den,10)}var P=function(z,A){var B=a.macros[z[A]];if(B!==void 0)return(B[0]==="!"||B[0]==="+")&&(B=B.substring(1)),(B[B.length-1]==="!"||B[B.length-1]==="+")&&(B=B.substring(0,B.length-1)),d.includes(B)?[1,B]:g.includes(B)?(a.volumePosition==="hidden"&&(B=""),[1,B]):b.includes(B)?(a.dynamicPosition==="hidden"&&(B=""),[1,B]):(a.ignoredDecorations.includes(B)||n("Unknown macro: "+B,z,A),[1,""]);switch(z[A]){case".":if(z[A+1]==="("||z[A+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var V=o.getBrackettedSubstring(z,A,5);if(V[1].length>1&&(V[1][0]==="^"||V[1][0]==="_")&&(V[1]=V[1].substring(1)),d.includes(V[1]))return V;if(g.includes(V[1]))return a.volumePosition==="hidden"&&(V[1]=""),V;if(b.includes(V[1]))return a.dynamicPosition==="hidden"&&(V[1]=""),V;var Q=x.findIndex(function(W){return V[1]===W[0]});return Q>=0?(V[1]=x[Q][1],V):(Q=y.findIndex(function(W){return V[1]===W[0]}),Q>=0?(V[1]=y[Q][1],a.dynamicPosition==="hidden"&&(V[1]=""),V):z[A]==="!"&&(V[0]===1||z[A+V[0]-1]!=="!")?[1,null]:(n("Unknown decoration: "+V[1],z,A),V[1]="",V));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"];case"t":return[1,"trillh"]}return[0,0]},j=function(z,A){for(var B=A;o.isWhiteSpace(z[A]);)A++;return[A-B]},Y=function(z,A){var B=o.getBarLine(z,A);if(B.len===0)return[0,""];if(B.warn)return n(B.warn,z,A),[B.len,""];for(var V=0;V<z.length&&z[A+B.len+V]===" ";V++);var Q=B.len;if(z[A+B.len+V]==="["&&(B.len+=V+1),z[A+B.len]==='"'&&z[A+B.len-1]==="["){var W=o.getBrackettedSubstring(z,A+B.len,5);return[B.len+W[0],B.token,W[1]]}var K=o.getTokenOf(z.substring(A+B.len),"1234567890-,");return K.len===0||K.token[0]==="-"?[Q,B.token]:[B.len+K.len,B.token,K.token]},H=function(z,A){var B={},V=A;for(z[A]==="."&&z[A+1]==="("&&(B.dottedSlur=!0,A++);z[A]==="("||o.isWhiteSpace(z[A]);)z[A]==="("&&(A+1<z.length&&z[A+1]>="2"&&z[A+1]<="9"?(B.triplet!==void 0?n("Can't nest triplets",z,A):(B.triplet=z[A+1]-"0",B.tripletQ=C[B.triplet],B.num_notes=B.triplet,A+2<z.length&&z[A+2]===":"&&(A+3<z.length&&z[A+3]===":"?A+4<z.length&&z[A+4]>="1"&&z[A+4]<="9"?(B.num_notes=z[A+4]-"0",A+=3):n("expected number after the two colons after the triplet to mark the duration",z,A):A+3<z.length&&z[A+3]>="1"&&z[A+3]<="9"?(B.tripletQ=z[A+3]-"0",A+4<z.length&&z[A+4]===":"?A+5<z.length&&z[A+5]>="1"&&z[A+5]<="9"&&(B.num_notes=z[A+5]-"0",A+=4):A+=2):n("expected number after the triplet to mark the duration",z,A))),A++):B.startSlur===void 0?B.startSlur=1:B.startSlur++),A++;return B.consumed=A-V,B};N.prototype.startNewLine=function(){var z={startChar:-1,endChar:-1};a.partForNextLine.title&&(z.part=a.partForNextLine),z.clef=a.currentVoice&&a.staves[a.currentVoice.staffNum].clef!==void 0?Object.assign({},a.staves[a.currentVoice.staffNum].clef):Object.assign({},a.clef);var A=a.currentVoice?a.currentVoice.scoreTranspose:0;if(z.key=t.standardKey(a.key.root+a.key.acc+a.key.mode,a.key.root,a.key.acc,A),z.key.mode=a.key.mode,a.key.impliedNaturals&&(z.key.impliedNaturals=a.key.impliedNaturals),a.key.explicitAccidentals)for(var B=0;B<a.key.explicitAccidentals.length;B++){for(var V=!1,Q=0;Q<z.key.accidentals.length;Q++)z.key.accidentals[Q].note===a.key.explicitAccidentals[B].note&&(z.key.accidentals[Q].acc=a.key.explicitAccidentals[B].acc,V=!0);V||z.key.accidentals.push(a.key.explicitAccidentals[B])}if(a.targetKey=z.key,z.key.explicitAccidentals&&delete z.key.explicitAccidentals,t.addPosToKey(z.clef,z.key),a.meter!==null?(a.currentVoice?(a.staves.forEach(function(he){he.meter=a.meter}),z.meter=a.staves[a.currentVoice.staffNum].meter,a.staves[a.currentVoice.staffNum].meter=null):z.meter=a.meter,a.meter=null):a.currentVoice&&a.staves[a.currentVoice.staffNum].meter&&(z.meter=a.staves[a.currentVoice.staffNum].meter,a.staves[a.currentVoice.staffNum].meter=null),a.currentVoice&&a.currentVoice.name&&(z.name=a.currentVoice.name),a.vocalfont&&(z.vocalfont=a.vocalfont),a.tripletfont&&(z.tripletfont=a.tripletfont),a.gchordfont&&(z.gchordfont=a.gchordfont),a.style&&(z.style=a.style),a.currentVoice){var W=a.staves[a.currentVoice.staffNum];W.brace&&(z.brace=W.brace),W.bracket&&(z.bracket=W.bracket),W.connectBarLines&&(z.connectBarLines=W.connectBarLines),W.name&&(z.name=W.name[a.currentVoice.index]),W.subname&&(z.subname=W.subname[a.currentVoice.index]),a.currentVoice.stem&&(z.stem=a.currentVoice.stem),a.currentVoice.stafflines&&(z.stafflines=a.currentVoice.stafflines),a.currentVoice.staffscale&&(z.staffscale=a.currentVoice.staffscale),a.currentVoice.scale&&(z.scale=a.currentVoice.scale),a.currentVoice.color&&(z.color=a.currentVoice.color),a.currentVoice.style&&(z.style=a.currentVoice.style),a.currentVoice.transpose&&(z.clef.transpose=a.currentVoice.transpose),z.currentVoice=a.currentVoice;for(var K=Object.keys(a.voices),re=0;re<K.length;re++)z.currentVoice.staffNum===a.voices[K[re]].staffNum&&z.currentVoice.index===a.voices[K[re]].index&&(z.currentVoiceName=K[re])}a.barNumbers===0&&I()&&a.currBarNumber!==1&&(z.barNumber=a.currBarNumber),u.startNewLine(z),a.key.impliedNaturals&&delete a.key.impliedNaturals,a.partForNextLine={},a.tempoForNextLine.length===4&&u.appendElement(a.tempoForNextLine[0],a.tempoForNextLine[1],a.tempoForNextLine[2],a.tempoForNextLine[3]),a.tempoForNextLine=[]};var q=function(z){return z.duration!==void 0&&z.duration<.25&&(z.end_beam=!0),z},U=function(z,A,B,V){var Q=function(le){return le==="octave"||le==="duration"||le==="Zduration"||le==="broken_rhythm"||le==="end_slur"},W;z[A]==="."&&z[A+1]==="-"&&(W=!0,A++);for(var K="startSlur",re=!1;;){switch(z[A]){case"(":if(K==="startSlur")B.startSlur===void 0?B.startSlur=1:B.startSlur++;else return Q(K)?(B.endChar=A,B):null;break;case")":if(Q(K))B.endSlur===void 0?B.endSlur=1:B.endSlur++;else return null;break;case"^":if(K==="startSlur")B.accidental="sharp",K="sharp2";else if(K==="sharp2")B.accidental="dblsharp",K="pitch";else return Q(K)?(B.endChar=A,B):null;break;case"_":if(K==="startSlur")B.accidental="flat",K="flat2";else if(K==="flat2")B.accidental="dblflat",K="pitch";else return Q(K)?(B.endChar=A,B):null;break;case"=":if(K==="startSlur")B.accidental="natural",K="pitch";else return Q(K)?(B.endChar=A,B):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(K==="startSlur"||K==="sharp2"||K==="flat2"||K==="pitch"){if(B.pitch=p[z[A]],B.pitch+=7*(a.currentVoice&&a.currentVoice.octave!==void 0?a.currentVoice.octave:a.octave),B.name=z[A],B.accidental&&(B.name=T[B.accidental]+B.name),e.note(a,B),K="octave",V&&a.next_note_duration!==0?(B.duration=a.default_length*a.next_note_duration,a.next_note_duration=0,re=!0):B.duration=a.default_length,a.clef&&a.clef.type==="perc"||a.currentVoice&&a.currentVoice.clef==="perc"){var he=z[A];B.accidental&&(he=T[B.accidental]+he),c.formatting&&c.formatting.midi&&c.formatting.midi.drummap&&(B.midipitch=c.formatting.midi.drummap[he])}}else return Q(K)?(B.endChar=A,B):null;break;case",":if(K==="octave")B.pitch-=7,B.name+=",";else return Q(K)?(B.endChar=A,B):null;break;case"'":if(K==="octave")B.pitch+=7,B.name+="'";else return Q(K)?(B.endChar=A,B):null;break;case"x":case"X":case"y":case"z":case"Z":if(K==="startSlur")B.rest={type:w[z[A]]},delete B.accidental,delete B.startSlur,delete B.startTie,delete B.endSlur,delete B.endTie,delete B.end_beam,delete B.grace_notes,B.rest.type.indexOf("multimeasure")>=0?(B.duration=c.getBarLength(),B.rest.text=1,K="Zduration"):(V&&a.next_note_duration!==0?(B.duration=a.default_length*a.next_note_duration,a.next_note_duration=0,re=!0):B.duration=a.default_length,K="duration");else return Q(K)?(B.endChar=A,B):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(K==="octave"||K==="duration"){var ee=o.getFraction(z,A);for(B.duration=B.duration*ee.value,B.endChar=ee.index;ee.index<z.length&&(o.isWhiteSpace(z[ee.index])||z[ee.index]==="-");)z[ee.index]==="-"?B.startTie={}:B=q(B),ee.index++;A=ee.index-1,K="broken_rhythm"}else if(K==="sharp2")B.accidental="quartersharp",K="pitch";else if(K==="flat2")B.accidental="quarterflat",K="pitch";else if(K==="Zduration"){var pe=o.getNumber(z,A);return B.duration=pe.num*c.getBarLength(),B.rest.text=pe.num,B.endChar=pe.index,B}else return null;break;case"-":if(K==="startSlur")u.addTieToLastNote(W),B.endTie=!0;else if(K==="octave"||K==="duration"||K==="end_slur")if(B.startTie={},!re&&V)K="broken_rhythm";else return o.isWhiteSpace(z[A+1])&&q(B),B.endChar=A+1,B;else return K==="broken_rhythm"?(B.endChar=A,B):null;break;case" ":case"	":if(Q(K)){B.end_beam=!0,W=!1;do z[A]==="."&&z[A+1]==="-"&&(W=!0,A++),z[A]==="-"&&(B.startTie={},W&&(B.startTie.style="dotted")),A++;while(A<z.length&&(o.isWhiteSpace(z[A])||z[A]==="-")||z[A]==="."&&z[A+1]==="-");if(B.endChar=A,!re&&V&&(z[A]==="<"||z[A]===">"))A--,K="broken_rhythm";else return B}else return null;break;case">":case"<":if(Q(K))if(V){var Ce=X(z,A);A+=Ce[0]-1,a.next_note_duration=Ce[2],B.duration=Ce[1]*B.duration,K="end_slur"}else return B.endChar=A,B;else return null;break;default:return Q(K)?(B.endChar=A,B):null}if(A++,A===z.length)return Q(K)?(B.endChar=A,B):null}return null},X=function(z,A){switch(z[A]){case">":return A<z.length-2&&z[A+1]===">"&&z[A+2]===">"?[3,1.875,.125]:A<z.length-1&&z[A+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return A<z.length-2&&z[A+1]==="<"&&z[A+2]==="<"?[3,.125,1.875]:A<z.length-1&&z[A+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function I(){return a.currentVoice===void 0||a.currentVoice.staffNum===0&&a.currentVoice.index===0}return Op=N,Op}var zp,l8;function Rz(){if(l8)return zp;l8=1;var t=wa(),e=function(o,n){this.lineIndex=0,this.lines=o,this.multilineVars=n,this.skipWhiteSpace=function(m){for(var _=0;_<m.length;_++)if(!this.isWhiteSpace(m[_]))return _;return m.length};var a=function(m,_){return _>=m.length};this.eatWhiteSpace=function(m,_){for(var p=_;p<m.length;p++)if(!this.isWhiteSpace(m[p]))return p-_;return p-_},this.getKeyPitch=function(m){var _=this.skipWhiteSpace(m);if(a(m,_))return{len:0};switch(m[_]){case"A":return{len:_+1,token:"A"};case"B":return{len:_+1,token:"B"};case"C":return{len:_+1,token:"C"};case"D":return{len:_+1,token:"D"};case"E":return{len:_+1,token:"E"};case"F":return{len:_+1,token:"F"};case"G":return{len:_+1,token:"G"}}return{len:0}},this.getSharpFlat=function(m){if(m==="bass")return{len:0};switch(m[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(m){var _=function(T,C){for(;C<T.length&&(T[C]>="a"&&T[C]<="z"||T[C]>="A"&&T[C]<="Z");)C++;return C},p=this.skipWhiteSpace(m);if(a(m,p))return{len:0};var w=m.substring(p,p+3).toLowerCase();switch((w.length>1&&w[1]===" "||w[1]==="^"||w[1]==="_"||w[1]==="=")&&(w=w[0]),w){case"mix":return{len:_(m,p),token:"Mix"};case"dor":return{len:_(m,p),token:"Dor"};case"phr":return{len:_(m,p),token:"Phr"};case"lyd":return{len:_(m,p),token:"Lyd"};case"loc":return{len:_(m,p),token:"Loc"};case"aeo":return{len:_(m,p),token:"m"};case"maj":return{len:_(m,p),token:""};case"ion":return{len:_(m,p),token:""};case"min":return{len:_(m,p),token:"m"};case"m":return{len:_(m,p),token:"m"}}return{len:0}},this.getClef=function(m,_){var p=m,w=this.skipWhiteSpace(m);if(a(m,w))return{len:0};var T=!1,C=m.substring(w);if(t.startsWith(C,"clef=")&&(T=!0,C=C.substring(5),w+=5),C.length===0&&T)return{len:w+5,warn:"No clef specified: "+p};var N=this.skipWhiteSpace(C);if(a(C,N))return{len:0};N>0&&(w+=N,C=C.substring(N));var k=null;if(t.startsWith(C,"treble"))k="treble";else if(t.startsWith(C,"bass3"))k="bass3";else if(t.startsWith(C,"bass"))k="bass";else if(t.startsWith(C,"tenor"))k="tenor";else if(t.startsWith(C,"alto2"))k="alto2";else if(t.startsWith(C,"alto1"))k="alto1";else if(t.startsWith(C,"alto"))k="alto";else if(!_&&T&&t.startsWith(C,"none"))k="none";else if(t.startsWith(C,"perc"))k="perc";else if(!_&&T&&t.startsWith(C,"C"))k="tenor";else if(!_&&T&&t.startsWith(C,"F"))k="bass";else if(!_&&T&&t.startsWith(C,"G"))k="treble";else return{len:w+5,warn:"Unknown clef specified: "+p};return C=C.substring(k.length),N=this.isMatch(C,"+8"),N>0?k+="+8":(N=this.isMatch(C,"-8"),N>0&&(k+="-8")),{len:w+k.length,token:k,explicit:T}},this.getBarLine=function(m,_){switch(m[_]){case"]":switch(++_,m[_]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++_,m[_]>="1"&&m[_]<="9"||m[_]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++_,m[_]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++_,m[_]){case"]":switch(++_,m[_]){case"|":return++_,m[_]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++_,m[_]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++_,m[_]==="|")switch(++_,m[_]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return m[_]>="1"&&m[_]<="9"||m[_]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++_,m[_]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++_,m[_]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var p=0;m[_+p]===":";)p++;return{len:1+p,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(m,_){for(var p=0;p<m.length;p++)if(_.indexOf(m[p])<0)return{len:p,token:m.substring(0,p)};return{len:p,token:m}},this.getToken=function(m,_,p){for(var w=_;w<p&&!this.isWhiteSpace(m[w]);)w++;return m.substring(_,w)},this.isMatch=function(m,_){var p=this.skipWhiteSpace(m);return a(m,p)?0:t.startsWith(m.substring(p),_)?p+_.length:0},this.getPitchFromTokens=function(m){var _={},p={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(_.position=p[m[0].token],_.position===void 0)return{warn:"Pitch expected. Found: "+m[0].token};for(m.shift();m.length;)switch(m[0].token){case",":_.position-=7,m.shift();break;case"'":_.position+=7,m.shift();break;default:return _}return _},this.getKeyAccidentals2=function(m){for(var _;m.length>0;){var p;if(m[0].token==="^"){if(p="sharp",m.shift(),m.length===0)return{accs:_,warn:"Expected note name after "+p};switch(m[0].token){case"^":p="dblsharp",m.shift();break;case"/":p="quartersharp",m.shift();break}}else if(m[0].token==="=")p="natural",m.shift();else if(m[0].token==="_"){if(p="flat",m.shift(),m.length===0)return{accs:_,warn:"Expected note name after "+p};switch(m[0].token){case"_":p="dblflat",m.shift();break;case"/":p="quarterflat",m.shift();break}}else return{accs:_};if(m.length===0)return{accs:_,warn:"Expected note name after "+p};switch(m[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":_===void 0&&(_=[]),_.push({acc:p,note:m[0].token[0]}),m[0].token.length===1?m.shift():m[0].token=m[0].token.substring(1);break;default:return{accs:_,warn:"Expected note name after "+p+" Found: "+m[0].token}}}return{accs:_}},this.getKeyAccidental=function(m){var _={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},p=this.skipWhiteSpace(m);if(a(m,p))return{len:0};var w=null;switch(m[p]){case"^":case"_":case"=":w=m[p];break;default:return{len:0}}if(p++,a(m,p))return{len:1,warn:"Expected note name after accidental"};switch(m[p]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:p+1,token:{acc:_[w],note:m[p]}};case"^":case"_":case"/":if(w+=m[p],p++,a(m,p))return{len:2,warn:"Expected note name after accidental"};switch(m[p]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:p+1,token:{acc:_[w],note:m[p]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(m){return m===" "||m==="	"||m===""},this.getMeat=function(m,_,p){var w=m.indexOf("%",_);for(w>=0&&w<p&&(p=w);_<p&&(m[_]===" "||m[_]==="	"||m[_]==="");)_++;for(;_<p&&(m[p-1]===" "||m[p-1]==="	"||m[p-1]==="");)p--;return{start:_,end:p}};var c=function(m){return m>="A"&&m<="Z"||m>="a"&&m<="z"},u=function(m){return m>="0"&&m<="9"};this.tokenize=function(m,_,p,w){var T=this.getMeat(m,_,p);_=T.start,p=T.end;for(var C=[],N;_<p;){if(m[_]==='"'){for(N=_+1;N<p&&m[N]!=='"';)N++;C.push({type:"quote",token:m.substring(_+1,N),start:_+1,end:N}),N++}else if(c(m[_])){if(N=_+1,w)for(;N<p&&!this.isWhiteSpace(m[N]);)N++;else for(;N<p&&c(m[N]);)N++;C.push({type:"alpha",token:m.substring(_,N),continueId:u(m[N]),start:_,end:N}),_=N+1}else if(m[_]==="."&&u(m[N+1])){N=_+1;for(var k=null,D=null;N<p&&u(m[N]);)N++;D=parseFloat(m.substring(_,N)),C.push({type:"number",token:m.substring(_,N),intt:k,floatt:D,continueId:c(m[N]),start:_,end:N}),_=N+1}else if(u(m[_])||m[_]==="-"&&u(m[N+1])){N=_+1;for(var F=null,G=null;N<p&&u(m[N]);)N++;if(m[N]==="."&&u(m[N+1]))for(N++;N<p&&u(m[N]);)N++;else F=parseInt(m.substring(_,N));G=parseFloat(m.substring(_,N)),C.push({type:"number",token:m.substring(_,N),intt:F,floatt:G,continueId:c(m[N]),start:_,end:N}),_=N+1}else m[_]===" "||m[_]==="	"||C.push({type:"punct",token:m[_],start:_,end:_+1}),N=_+1;_=N}return C},this.getVoiceToken=function(m,_,p){for(var w=_;w<p&&this.isWhiteSpace(m[w])||m[w]==="=";)w++;if(m[w]==='"'){var T=m.indexOf('"',w+1);return T===-1||T>=p?{len:1,err:"Missing close quote"}:{len:T-_+1,token:this.translateString(m.substring(w+1,T))}}else{for(var C=w;C<p&&!this.isWhiteSpace(m[C])&&m[C]!=="=";)C++;return{len:C-_+1,token:m.substring(w,C)}}};var f={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å",aa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å",AA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~N":"Ñ","~n":"ñ","=s":"š",vs:"š",DH:"Ð",dh:"ð",HO:"Ő",Ho:"ő",HU:"Ű",Hu:"ű","'Y":"Ý","'y":"ý","^Y":"Ŷ","^y":"ŷ",'"Y':"Ÿ",'"y':"ÿ",vS:"Š",vZ:"Ž",vz:"ž"},d={"#":"♯",b:"♭","=":"♮"},g={201:"♯",202:"♭",203:"♮",241:"¡",242:"¢",252:"a",262:"2",272:"o",302:"Â",312:"Ê",322:"Ò",332:"Ú",342:"â",352:"ê",362:"ò",372:"ú",243:"£",253:"«",263:"3",273:"»",303:"Ã",313:"Ë",323:"Ó",333:"Û",343:"ã",353:"ë",363:"ó",373:"û",244:"¤",254:"¬",264:"  ́",274:"1⁄4",304:"Ä",314:"Ì",324:"Ô",334:"Ü",344:"ä",354:"ì",364:"ô",374:"ü",245:"¥",255:"-",265:"μ",275:"1⁄2",305:"Å",315:"Í",325:"Õ",335:"Ý",345:"å",355:"í",365:"õ",375:"ý",246:"¦",256:"®",266:"¶",276:"3⁄4",306:"Æ",316:"Î",326:"Ö",336:"Þ",346:"æ",356:"î",366:"ö",376:"þ",247:"§",257:" ̄",267:"·",277:"¿",307:"Ç",317:"Ï",327:"×",337:"ß",347:"ç",357:"ï",367:"÷",377:"ÿ",250:" ̈",260:"°",270:" ̧",300:"À",310:"È",320:"Ð",330:"Ø",340:"à",350:"è",360:"ð",370:"ø",251:"©",261:"±",271:"1",301:"Á",311:"É",321:"Ñ",331:"Ù",341:"á",351:"é",361:"ñ",371:"ù"};this.translateString=function(m){var _=m.split("\\");if(_.length===1)return m;var p=null;return _.forEach(function(w){if(p===null)p=w;else{var T=f[w.substring(0,2)];T!==void 0?p+=T+w.substring(2):(T=g[w.substring(0,3)],T!==void 0?p+=T+w.substring(3):(T=d[w.substring(0,1)],T!==void 0?p+=T+w.substring(1):p+="\\"+w))}}),p},this.getNumber=function(m,_){for(var p=0;_<m.length;)switch(m[_]){case"0":p=p*10,_++;break;case"1":p=p*10+1,_++;break;case"2":p=p*10+2,_++;break;case"3":p=p*10+3,_++;break;case"4":p=p*10+4,_++;break;case"5":p=p*10+5,_++;break;case"6":p=p*10+6,_++;break;case"7":p=p*10+7,_++;break;case"8":p=p*10+8,_++;break;case"9":p=p*10+9,_++;break;default:return{num:p,index:_}}return{num:p,index:_}},this.getFraction=function(m,_){var p=1,w=1;if(m[_]!=="/"){var T=this.getNumber(m,_);p=T.num,_=T.index}if(m[_]==="/")if(_++,m[_]==="/"){for(var C=.5;m[_++]==="/";)C=C/2;return{value:p*C,index:_-1}}else{var N=_,k=this.getNumber(m,_);k.num===0&&N===_&&(k.num=2),k.num!==0&&(w=k.num),_=k.index}return{value:p/w,index:_}};function b(m){const p=/^(\d+)\./.exec(m);return p?p[1]:null}var x=[{match:/,\s*The$/,replace:"The "},{match:/,\s*the$/,replace:"the "},{match:/,\s*A$/,replace:"A "},{match:/,\s*a$/,replace:"a "},{match:/,\s*An$/,replace:"An "},{match:/,\s*an$/,replace:"an "},{match:/,\s*Da$/,replace:"Da "},{match:/,\s*La$/,replace:"La "},{match:/,\s*Le$/,replace:"Le "},{match:/,\s*Les$/,replace:"Les "},{match:/,\s*Ye$/,replace:"Ye "}];this.theReverser=function(m){for(var _=0;_<x.length;_++){var p=x[_],w=m.match(p.match);if(w){var T=b(m);T&&(m=m.replace(T+".",""),m=m.trim());var C=w[0].length,N=p.replace+m.substring(0,m.length-C);return T&&(N=T+". "+N),N}}return m},this.stripComment=function(m){var _=m.indexOf("%");return _>=0?t.strip(m.substring(0,_)):t.strip(m)},this.getInt=function(m){var _=parseInt(m);if(isNaN(_))return{digits:0};var p=""+_,w=m.indexOf(p);return{value:_,digits:w+p.length}},this.getFloat=function(m){var _=parseFloat(m);if(isNaN(_))return{digits:0};var p=""+_,w=m.indexOf(p);return{value:_,digits:w+p.length}},this.getMeasurement=function(m){if(m.length===0)return{used:0};var _=1,p="";if(m[0].token==="-")m.shift(),p="-",_++;else if(m[0].type!=="number")return{used:0};if(p+=m.shift().token,m.length===0)return{used:1,value:parseInt(p)};var w=m.shift();if(w.token==="."){if(_++,m.length===0)return{used:_,value:parseInt(p)};if(m[0].type==="number"&&(w=m.shift(),p=p+"."+w.token,_++,m.length===0))return{used:_,value:parseFloat(p)};w=m.shift()}switch(w.token){case"pt":return{used:_+1,value:parseFloat(p)};case"px":return{used:_+1,value:parseFloat(p)};case"cm":return{used:_+1,value:parseFloat(p)/2.54*72};case"in":return{used:_+1,value:parseFloat(p)*72};default:return m.unshift(w),{used:_,value:parseFloat(p)}}};var y=function(m){return m=m.replace(/\\n/g,`
`),m=m.replace(/\\"/g,'"'),m};this.getBrackettedSubstring=function(m,_,p,w){for(var T=w||m[_],C=_+1,N=!1;C<m.length&&(N||m[C]!==T);)N=m[C]==="\\",++C;return m[C]===T?[C-_+1,y(m.substring(_+1,C)),!0]:(C=_+p,C>m.length-1&&(C=m.length-1),[C-_+1,y(m.substring(_+1,C)),!1])}};return e.prototype.peekLine=function(){return this.lines[this.lineIndex]},e.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var o=this.lines[this.lineIndex];return this.lineIndex++,o}return null},zp=e,zp}var Bp,c8;function ow(){if(c8)return Bp;c8=1;function t(b,x,y){if(!(!x||b.lines.length===0)){var m=b.deline({lineBreaks:!1}),_=o(m,x);b.lines=e(m,_,y),b.lineBreaks=_}}function e(b,x,y){for(var m=[],_=[],p=[],w=1,T=0;T<x.length;T++){var C=x[T];if(b[C.ogLine].staff){var N=b[C.ogLine].staff[C.staff];if(m[C.line]||(m[C.line]={staff:[]}),!m[C.line].staff[C.staff]){m[C.line].staff[C.staff]={voices:[]},y!==void 0&&C.staff===0&&C.line>0&&(m[C.line].staff[C.staff].barNumber=w);for(var k=Object.keys(N),D=0;D<k.length;D++){var F=k[D]==="voices";k[D]==="meter"&&C.line!==0&&(F=!0),F||(m[C.line].staff[C.staff][k[D]]=N[k[D]])}_[C.staff]&&(m[C.line].staff[C.staff].key=_[C.staff])}m[C.line].staff[C.staff].voices[C.voice]||(m[C.line].staff[C.staff].voices[C.voice]=[]),m[C.line].staff[C.staff].voices[C.voice]=b[C.ogLine].staff[C.staff].voices[C.voice].slice(C.start,C.end+1),p[C.staff*10+C.voice]&&m[C.line].staff[C.staff].voices[C.voice].unshift({el_type:"stem",direction:p[C.staff*10+C.voice].direction});for(var G=m[C.line].staff[C.staff].voices[C.voice],E=G.length-1;E>=0;E--)if(G[E].el_type==="key"){_[C.staff]={root:G[E].root,acc:G[E].acc,mode:G[E].mode,accidentals:G[E].accidentals.filter(function(O){return O.acc!=="natural"})};break}for(E=G.length-1;E>=0;E--)if(G[E].el_type==="stem"){p[C.staff*10+C.voice]={direction:G[E].direction};break}if(y!==void 0&&C.staff===0&&C.voice===0)for(E=0;E<G.length;E++)G[E].el_type==="bar"&&(w++,E===G.length-1?delete G[E].barNumber:G[E].barNumber=w)}else m[C.line]=b[C.ogLine]}for(var R=0;R<m.length;R++)m[R].staff&&(m[R].staff=m[R].staff.filter(function(O){return O!=null}));return m}function o(b,x){for(var y=[],m=0,_=0,p=0,w=0;w<b.length;w++){var T=b[w];if(T.staff){var C=_,N=x[m];m++;for(var k=0;k<T.staff.length;k++)for(var D=T.staff[k],F=0;F<D.voices.length;F++){p=C;for(var G=0,E=0,R=D.voices[F],O=0,P=0;P<R.length;P++){var j=R[P];j.el_type==="bar"&&(N[E]===G&&(y.push({ogLine:w,line:p,staff:k,voice:F,start:O,end:P}),O=P+1,p++,_=Math.max(_,p),E++),G++)}y.push({ogLine:w,line:p,staff:k,voice:F,start:O,end:R.length}),p++,_=Math.max(_,p)}}else y.push({ogLine:w,line:p}),p++,_=Math.max(_,p)}return y}function n(b,x){for(var y=[],m=[],_=0,p=0;p<b.length;p++){var w=b[p],T=_+w;if(T<x)_=T;else{var C=x-_,N=T-x;C<N&&_>0?(y.push(p-1),m.push(Math.round(_-w)),_=w):p<b.length-1&&(y.push(p),m.push(Math.round(_)),_=0)}}return m.push(Math.round(_)),{lineBreaks:y,totals:m}}function a(b){for(var x=[],y=0;y<b.length;y++)x.push(b[y]);return x}function c(b,x,y,m,_,p,w,T,C,N,k){for(var D=N;D<b.length;D++){var F=b[D];y+=F,m+=F;var G=Math.abs(y-x[T]),E=Math.abs(G-p)<x[0]/10;if(E)if(G<p){var R=a(_),O=a(C);O.push(D-1),R.push(m-F),k.push({accumulator:y,lineAccumulator:F,lineWidths:R,lastVariance:Math.abs(y-x[T+1]),highestVariance:Math.max(w,p),currLine:T+1,lineBreaks:O,startIndex:D+1})}else G>p&&D<b.length-1&&(R=a(_),O=a(C),k.push({accumulator:y,lineAccumulator:m,lineWidths:R,lastVariance:G,highestVariance:Math.max(w,G),currLine:T,lineBreaks:O,startIndex:D+1}));G>p?(C.push(D-1),T++,w=Math.max(w,p),p=Math.abs(y-x[T]),_.push(m-F),m=F):p=G}_.push(m)}function u(b,x,y,m){for(var _=Math.ceil(b.total/x),p=Math.floor(b.total/_),w=[],T=0;T<_;T++)w.push(p*(T+1));var C=[];C.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var N=0;N<C.length;)c(b.measureWidths,w,C[N].accumulator,C[N].lineAccumulator,C[N].lineWidths,C[N].lastVariance,C[N].highestVariance,C[N].currLine,C[N].lineBreaks,C[N].startIndex,C),N++;for(T=0;T<C.length;T++){var k=C[T];k.variances=[],k.aveVariance=0;for(var D=0;D<k.lineWidths.length;D++){var F=k.lineWidths[D];k.variances.push(F-w[0]),k.aveVariance+=Math.abs(F-w[0])}k.aveVariance=k.aveVariance/k.lineWidths.length,m.attempts.push({type:"optimizeLineWidths",lineBreaks:k.lineBreaks,variances:k.variances,aveVariance:k.aveVariance,widths:b.measureWidths})}var G=9999999,E=-1;for(T=0;T<C.length;T++)k=C[T],k.aveVariance<G&&(G=k.aveVariance,E=T);return{failed:!1,lineBreaks:C[E].lineBreaks,variance:C[E].highestVariance}}function f(b,x,y){for(var m=[],_=[],p=0,w=!1,T=0;T<b.length;T++)p+=b[T],p>x&&(w=!0),T%y===y-1&&(T!==b.length-1&&m.push(T),_.push(Math.round(p)),p=0);return{failed:w,totals:_,lineBreaks:m}}function d(b,x,y){var m={lineBreaks:b,staffwidth:x};for(var _ in y)y.hasOwnProperty(_)&&_!=="wrap"&&_!=="staffwidth"&&(m[_]=y[_]);return{revisedParams:m}}function g(b,x,y){if(x.length===0||y.staffwidth<x[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:y};var m=y.scale?Math.max(y.scale,.1):1,_=y.wrap.minSpacing?Math.max(parseFloat(y.wrap.minSpacing),1):1,p=y.wrap.minSpacingLimit?Math.max(parseFloat(y.wrap.minSpacingLimit),1):_-.1,w=y.wrap.maxSpacing?Math.max(parseFloat(y.wrap.maxSpacing),1):void 0;y.wrap.lastLineLimit&&!w&&(w=Math.max(parseFloat(y.wrap.lastLineLimit),1));for(var T=y.wrap.preferredMeasuresPerLine?Math.max(parseInt(y.wrap.preferredMeasuresPerLine,10),0):void 0,C=[],N=[],k=0;k<x.length;k++){var D=x[k],F=y.staffwidth-D.left,G=F/_/m,E=F/w/m,R=F/p/m,O={widths:D,lineBreakPoint:G,minLineSize:E,attempts:[],staffWidth:y.staffwidth,minWidth:Math.round(R)},P=null;if(T){var j=f(D.measureWidths,G,T);O.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:T,lineBreaks:j.lineBreaks,failed:j.failed,totals:j.totals}),j.failed||(P=j.lineBreaks)}if(!P){var Y=n(D.measureWidths,G);O.attempts.push({type:"Free Form",lineBreaks:Y.lineBreaks,totals:Y.totals}),P=Y.lineBreaks,P.length>0&&D.measureWidths.length<25&&(Y=u(D,G,P,O),O.attempts.push({type:"Optimize",failed:Y.failed,reason:Y.reason,lineBreaks:Y.lineBreaks,totals:Y.totals}),Y.failed||(P=Y.lineBreaks))}C.push(P),N.push(O)}var H=y.staffwidth,q=d(C,H,y);return q.explanation=N,q.reParse=!0,q}return Bp={wrapLines:t,calcLineWraps:g},Bp}var Lp,u8;function xr(){if(u8)return Lp;u8=1;var t={};return t.FONTEM=360,t.FONTSIZE=30,t.STEP=t.FONTSIZE*93/720,t.SPACE=10,t.TOPNOTE=15,t.STAVEHEIGHT=100,t.INDENT=50,Lp=t,Lp}var qp,f8;function lw(){if(f8)return qp;f8=1;var t,e=wa();return function(){var o=1,n=128;t=function(p,w){w=w||{};var T,C=w.program||0,N=w.midiTranspose||0;p.visualTranspose&&(N-=p.visualTranspose);var k=w.channel||0,D=!1,F=w.drum||"",G=w.drumBars||1,E=w.drumIntro||0,R=F!=="",O=!!w.drumOff,P=[],j=50;C=parseInt(C,10),N=parseInt(N,10),k=parseInt(k,10),k===10&&(C=n),F=F.split(" "),G=parseInt(G,10),E=parseInt(E,10);var Y=p.formatting.bagpipes;Y&&(C=71);var H=[];if(p.formatting.midi){var q=p.formatting.midi;q.program&&q.program.length>0&&(C=q.program[0],q.program.length>1&&(C=q.program[1],k=q.program[0]),D=!0),q.transpose&&(N=q.transpose[0]),q.channel&&(k=q.channel[0],D=!0),q.drum&&(F=q.drum),q.drumbars&&(G=q.drumbars[0]),q.drumon&&(R=!0),k===10&&(C=n),q.beat&&H.push({el_type:"beat",beats:q.beat}),q.nobeataccents&&H.push({el_type:"beataccents",value:!1})}w.qpm?T=parseInt(w.qpm,10):p.metaText.tempo?T=g(p.metaText.tempo,p.getBeatLength()):w.defaultQpm?T=w.defaultQpm:T=180;var U=[];Y&&U.push({el_type:"bagpipes"}),U.push({el_type:"instrument",program:C}),k&&U.push({el_type:"channel",channel:k}),N&&U.push({el_type:"transpose",transpose:N}),U.push({el_type:"tempo",qpm:T});for(var X=0;X<H.length;X++)U.push(H[X]);var I=[],z=[],A=[],B=[],V=[0],Q={};Q[0]={el_type:"tempo",qpm:T,timing:0};for(var W,K=[],re=[],he=!1,ee=p.lines,pe=0;pe<ee.length;pe++){var Ce=ee[pe];if(Ce.staff){let mt=function(at){var wt={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},yt;if(at.decoration){if(at.decoration.indexOf("pppp")>=0?yt="pppp":at.decoration.indexOf("ppp")>=0?yt="ppp":at.decoration.indexOf("pp")>=0?yt="pp":at.decoration.indexOf("p")>=0?yt="p":at.decoration.indexOf("mp")>=0?yt="mp":at.decoration.indexOf("mf")>=0?yt="mf":at.decoration.indexOf("f")>=0?yt="f":at.decoration.indexOf("ff")>=0?yt="ff":at.decoration.indexOf("fff")>=0?yt="fff":at.decoration.indexOf("ffff")>=0&&(yt="ffff"),yt){W=wt[yt].slice(0);let Ye=[W];Array.isArray(at.decoration)&&(Ye=[],at.decoration.forEach(Oe=>{Oe in wt&&Ye.push(wt[Oe].slice(0))})),I[se].push({el_type:"beat",beats:W.slice(0),volumesPerNotePitch:Ye}),A[Se]=!1,B[Se]=!1}if(at.decoration.indexOf("crescendo(")>=0){var un=a(we,ye,"crescendo)"),Xt=Math.min(127,W[0]+j),fn=c(we,ye+un+1,Object.keys(wt));fn&&(Xt=wt[fn][0]),un>0?A[Se]=Math.floor((Xt-W[0])/un):A[Se]=!1,B[Se]=!1}else if(at.decoration.indexOf("crescendo)")>=0)A[Se]=!1;else if(at.decoration.indexOf("diminuendo(")>=0){var Cn=a(we,ye,"diminuendo)"),We=Math.max(15,W[0]-j),Me=c(we,ye+Cn+1,Object.keys(wt));Me&&(We=wt[Me][0]),A[Se]=!1,Cn>0?B[Se]=Math.floor((We-W[0])/Cn):B[Se]=!1}else at.decoration.indexOf("diminuendo)")>=0&&(B[Se]=!1)}};for(var Ie=mt,le=Ce.staff,se=0,fe=0;fe<le.length;fe++){var ae=le[fe];if(!(ae.clef&&ae.clef.type==="TAB"))for(var Se=0;Se<ae.voices.length;Se++){var we=ae.voices[Se];if(!I[se]){I[se]=[].concat(JSON.parse(JSON.stringify(U)));var te=d(Ce.staff,se);te&&I[se].unshift({el_type:"name",trackName:te})}if(N&&ae.clef.type==="perc"&&I[se].push({el_type:"transpose",transpose:0}),ae.clef&&ae.clef.type==="perc"&&!D)for(var ke=0;ke<I[se].length;ke++)I[se][ke].el_type==="instrument"&&(I[se][ke].program=n);else ae.key&&y(I[se],ae.key);ae.meter&&m(I[se],ae.meter),!he&&R&&(I[se].push({el_type:"drum",params:{pattern:F,bars:G,on:R,intro:E}}),he=!0),ae.clef&&ae.clef.type!=="perc"&&ae.clef.transpose&&(ae.clef.el_type="clef",I[se].push({el_type:"transpose",transpose:ae.clef.transpose}),z[se]=!1),ae.clef&&ae.clef.type&&(ae.clef.type.indexOf("-8")>=0?(I[se].push({el_type:"transpose",transpose:-12}),z[se]=!0):ae.clef.type.indexOf("+8")>=0?(I[se].push({el_type:"transpose",transpose:12}),z[se]=!0):z[se]&&(I[se].push({el_type:"transpose",transpose:0}),z[se]=!1)),p.formatting.midi&&p.formatting.midi.drumoff&&(I[se].push({el_type:"bar"}),I[se].push({el_type:"drum",params:{pattern:"",on:!1}}));var Be=0,je=0,Pe=0,ce=0;W=[105,95,85,1];for(var ye=0;ye<we.length;ye++){var ne=we[ye];switch(ne.el_type){case"note":if(A[Se]&&(W[0]+=A[Se],W[1]+=A[Se],W[2]+=A[Se],I[se].push({el_type:"beat",beats:W.slice(0)})),B[Se]&&(W[0]+=B[Se],W[1]+=B[Se],W[2]+=B[Se],I[se].push({el_type:"beat",beats:W.slice(0)})),mt(ne),!ne.rest||ne.rest.type!=="spacer"){var de={elem:ne,el_type:"note",timing:V[se]};if(ne.style?de.style=ne.style:P[se]&&(de.style=P[se]),de.duration=ne.duration===0?.25:ne.duration,ne.startTriplet){if(je=ne.tripletMultiplier,Pe=ne.startTriplet*je*ne.duration,ne.startTriplet!==ne.tripletR&&ye+ne.tripletR<=we.length){for(var xe=0,Te=ye;Te<ye+ne.tripletR;Te++)xe+=we[Te].duration;Pe=je*xe}de.duration=de.duration*je,de.duration=Math.round(de.duration*1e6)/1e6,ce=de.duration}else je&&(ne.endTriplet?(je=0,de.duration=Math.round((Pe-ce)*1e6)/1e6):(de.duration=de.duration*je,de.duration=Math.round(de.duration*1e6)/1e6,ce+=de.duration));ne.rest&&(de.rest=ne.rest),ne.decoration&&(de.decoration=ne.decoration.slice(0)),ne.pitches&&(de.pitches=e.cloneArray(ne.pitches)),ne.gracenotes&&(de.gracenotes=e.cloneArray(ne.gracenotes)),ne.chord&&(de.chord=e.cloneArray(ne.chord)),I[se].push(de),ne.style==="rhythm"&&f(I),Be++,V[se]+=de.duration}break;case"key":case"keySignature":y(I[se],ne);break;case"meter":m(I[se],ne);break;case"clef":ne.transpose&&I[se].push({el_type:"transpose",transpose:ne.transpose}),ne.type&&(ne.type.indexOf("-8")>=0?I[se].push({el_type:"transpose",transpose:-12}):ne.type.indexOf("+8")>=0&&I[se].push({el_type:"transpose",transpose:12}));break;case"tempo":T=g(ne,p.getBeatLength()),I[se].push({el_type:"tempo",qpm:T,timing:V[se]}),Q[""+V[se]]={el_type:"tempo",qpm:T,timing:V[se]};break;case"bar":Be>0&&I[se].push({el_type:"bar"}),mt(ne),Be=0;var Le=ne.type==="bar_right_repeat"||ne.type==="bar_dbl_repeat",ze=ne.startEnding==="1",De=ne.type==="bar_left_repeat"||ne.type==="bar_dbl_repeat"||ne.type==="bar_right_repeat";if(Le){var He=K[se];He||(He=0);var Xe=re[se];Xe||(Xe=I[se].length);for(var Ae=He;Ae<Xe;Ae++){var qe=Object.assign({},I[se][Ae]);qe.pitches&&(qe.pitches=e.cloneArray(qe.pitches)),I[se].push(qe)}re[se]=void 0,K[se]=void 0}ze&&(re[se]=I[se].length),De&&(K[se]=I[se].length);break;case"style":P[se]=ne.head;break;case"timeSignature":I[se].push(b(ne));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var Ue=!1;switch(ne.cmd){case"drumon":R=!0,Ue=!0;break;case"drumoff":R=!1,Ue=!0;break;case"drum":F=ne.params,Ue=!0;break;case"drumbars":G=ne.params[0],Ue=!0;break;case"drummap":break;case"channel":ne.params[0]===10&&I[se].push({el_type:"instrument",program:n});break;case"program":_(I[se],{el_type:"instrument",program:ne.params[0]}),D=!0;break;case"transpose":I[se].push({el_type:"transpose",transpose:ne.params[0]});break;case"gchordoff":I[se].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":I[se].push({el_type:"gchordOn",tacet:!1});break;case"beat":I[se].push({el_type:"beat",beats:ne.params});break;case"nobeataccents":I[se].push({el_type:"beataccents",value:!1});break;case"beataccents":I[se].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":I[se].push({el_type:ne.cmd,volume:ne.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":I[se].push({el_type:ne.cmd,param:ne.params[0]});break;case"bassprog":case"chordprog":I[se].push({el_type:ne.cmd,value:ne.params[0],octaveShift:ne.params[1]});break;case"gchordbars":I[se].push({el_type:ne.cmd,param:ne.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",ne.cmd,ne)}Ue&&(I[0].push({el_type:"drum",params:{pattern:F,bars:G,intro:E,on:R}}),he=!0);break;default:console.log("MIDI: element type "+ne.el_type+" not handled.")}}se++,V[se]||(V[se]=0)}}}}if(u(I,Q),E)for(var ct=p.getPickupLength(),Ve=0;Ve<I.length;Ve++){for(var Fe=0;I[Ve][Fe].el_type!=="note"&&I[Ve].length>Fe;)Fe++;if(I[Ve].length>Fe){for(var Te=0;Te<E;Te++)ct===0||Te<E-1?(I[Ve].splice(Fe,0,{el_type:"note",rest:{type:"rest"},duration:o},{el_type:"bar"}),Fe+=2):I[Ve].splice(Fe++,0,{el_type:"note",rest:{type:"rest"},duration:o-ct});O&&(R=!1,I[Ve].splice(Fe++,0,{el_type:"drum",params:{pattern:F,bars:G,intro:E,on:R}}),O=!1)}}return I.length>0&&I[0].length>0&&(I[0][0].pickupLength=p.getPickupLength()),I};function a(p,w,T){for(var C=0,N=w+1;N<p.length;N++)if(p[N].el_type==="note"&&C++,p[N].decoration&&p[N].decoration.indexOf(T)>=0)return C;return C}function c(p,w,T){for(var C=Math.min(p.length,w+3),N=w;N<C;N++)if(p[N].el_type==="note"&&p[N].decoration){for(var k=0;k<p[N].decoration.length;k++)if(T.indexOf(p[N].decoration[k])>=0)return p[N].decoration[k]}return null}function u(p,w){if(!(!w||w.length===0))for(var T=Object.keys(w),C=0;C<p.length;C++)for(var N=p[C],k=w[0]?w[0].qpm:0,D=0;D<N.length;D++){var F=N[D];F.el_type==="tempo"&&(k=F.qpm),T.indexOf(""+F.timing)>=0&&k!==w[""+F.timing].qpm&&(k=w[""+F.timing].qpm,F.el_type==="tempo"?(F.qpm=w[""+F.timing].qpm,D++):(p[C].splice(D,0,{el_type:"tempo",qpm:w[""+F.timing].qpm,timing:F.timing}),D+=2))}}function f(p){for(var w=0;w<p.length;w++)for(var T=p[w],C=T.length-1;C>=0&&T[C].el_type!=="bar";)T[C].noChordVoice=!0,C--}function d(p,w){if(!(!p||p.length<=w||!p[w].title))return p[w].title.join(" ")}function g(p,w){var T=.25;p.duration&&(T=p.duration[0]);var C=60;return p.bpm&&(C=p.bpm),T*C/w}function b(p){var w;switch(p.type){case"common_time":w={el_type:"meter",num:4,den:4};break;case"cut_time":w={el_type:"meter",num:2,den:2};break;case"specified":w={el_type:"meter",num:p.value[0].num,den:p.value[0].den};break;default:w={el_type:"meter"}}return o=w.num/w.den,w}function x(p){for(var w=[],T=0;T<p.length;T++)p[T].acc!=="natural"&&w.push(p[T]);return w}function y(p,w){var T;w.root==="HP"?T={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:T={el_type:"key",accidentals:x(w.accidentals)},_(p,T)}function m(p,w){var T=b(w);_(p,T)}function _(p,w){for(var T=p.length-1;T>=0;T--)if(p[T].el_type===w.el_type){JSON.stringify(p[T])!==JSON.stringify(w)&&p.push(w);return}p.push(w)}}(),qp=t,qp}var jp,h8;function Dz(){if(h8)return jp;h8=1;var t=function(g,b,x,y){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=g,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!b,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=y,this.tempoChangeFactor=1,this.bassInstrument=x.bassprog&&x.bassprog.length>=1?x.bassprog[0]:0,this.chordInstrument=x.chordprog&&x.chordprog.length>=1?x.chordprog[0]:0,this.bassOctaveShift=x.bassprog&&x.bassprog.length===2?x.bassprog[1]:0,this.chordOctaveShift=x.chordprog&&x.chordprog.length===2?x.chordprog[1]:0,this.boomVolume=x.bassvol&&x.bassvol.length===1?x.bassvol[0]:64,this.chickVolume=x.chordvol&&x.chordvol.length===1?x.chordvol[0]:48,x.gchord&&x.gchord.length>0?this.overridePattern=n(x.gchord[0]):this.overridePattern=void 0};t.prototype.setMeter=function(d){this.meter=d},t.prototype.setTempoChangeFactor=function(d){this.tempoChangeFactor=d},t.prototype.setLastBarTime=function(d){this.lastBarTime=d},t.prototype.setTranspose=function(d){this.transpose=d},t.prototype.setRhythmHead=function(d,g){this.hasRhythmHead=d;var b=[];if(d&&this.lastChord&&this.lastChord.chick)for(var x=0;x<this.lastChord.chick.length;x++){var y=Object.assign({},g.pitches[0]);y.actualPitch=this.lastChord.chick[x],b.push(y)}return b},t.prototype.barEnd=function(d){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,u(d.time)),this.currentChords=[]),this.chordLastBar=this.lastChord},t.prototype.gChordOn=function(d){this.chordsOff||(this.gChordTacet=d.tacet)},t.prototype.paramChange=function(d){switch(d.el_type){case"gchord":d.param&&d.param.length>0?this.overridePattern=n(d.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=d.value,d.octaveShift!=null&&d.octaveShift!=null?this.bassOctaveShift=d.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=d.value,d.octaveShift!=null&&d.octaveShift!=null?this.chordOctaveShift=d.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=d.param;break;case"chordvol":this.chickVolume=d.param;break;default:console.log("unhandled midi param",d)}},t.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)},t.prototype.addTrack=function(d){this.chordTrackEmpty()||d.push(this.chordTrack)},t.prototype.findChord=function(d){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!d.chord||d.chord.length===0)return null;for(var g=0;g<d.chord.length;g++){var b=d.chord[g];if(b.position==="default")return b.name;if(this.breakSynonyms.indexOf(b.name.toLowerCase())>=0)return"break"}return null},t.prototype.interpretChord=function(d){if(d.length!==0){if(d==="break")return{chick:[]};var g=d.substring(0,1);if(g==="("){if(d=d.substring(1,d.length-1),d.length===0)return;g=d.substring(0,1)}var b=this.basses[g];if(b){for(var x=this.transpose;x<-8;)x+=12;for(;x>8;)x-=12;b+=x,b<33?b+=12:b>44&&(b-=12);var y=b;b+=this.bassOctaveShift*12;var m=b-5,_;d.length===1&&(_=this.chordNotes(b,""));var p=d.substring(1),w=p.substring(0,1);w==="b"||w==="♭"?(y--,b--,m--,p=p.substring(1)):(w==="#"||w==="♯")&&(y++,b++,m++,p=p.substring(1));var T=p.split("/");if(_=this.chordNotes(y,T[0]),_.length>=3){var C=_[2]-_[0];m=m+C-7}if(T.length===2){var N=this.basses[T[1].substring(0,1)];if(N){var k=T[1].substring(1),D={"#":1,"♯":1,b:-1,"♭":-1}[k]||0;b=this.basses[T[1].substring(0,1)]+D+x,b+=this.bassOctaveShift*12,m=b}}return{boom:b,boom2:m,chick:_}}}},t.prototype.chordNotes=function(d,g){var b=this.chordIntervals[g];b||(g.slice(0,2).toLowerCase()==="ma"||g[0]==="M"?b=this.chordIntervals.M:g[0]==="m"||g[0]==="-"?b=this.chordIntervals.m:b=this.chordIntervals.M),d+=12,d+=this.chordOctaveShift*12;for(var x=[],y=0;y<b.length;y++)x.push(d+b[y]);return x},t.prototype.writeNote=function(d,g,b,x,y,m){d!==void 0&&this.chordTrack.push({cmd:"note",pitch:d,volume:b,start:this.lastBarTime+x*f(g,this.tempoChangeFactor),duration:f(y,this.tempoChangeFactor),gap:0,instrument:m})},t.prototype.chordTrackEmpty=function(){for(var d=!0,g=0;g<this.chordTrack.length&&d;g++)this.chordTrack[g].cmd==="note"&&(d=!1);return d},t.prototype.resolveChords=function(d,g){if(!this.hasRhythmHead){var b=this.meter.num,x=this.meter.den,y=1/x,m=y/2,_=parseInt(b,10)/parseInt(x,10),p=_-(g-d)/this.tempoChangeFactor;Math.abs(p)<1e-5&&(p=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var w=a(this.currentChords,8*b/x),T=this.overridePattern?this.overridePattern:this.rhythmPatterns[b+"/"+x];if(p){T=[];for(var C=(g-d)/this.tempoChangeFactor*8,N=0;N<C/2;N+=2)T.push("chick"),T.push("")}if(!T){T=[];for(var N=0;N<8*b/x/2;N++)T.push("chick"),T.push("")}for(var k=!0,D=Math.min(T.length,w.length),N=0;N<D;N++){N>0&&w[N-1]&&w[N]&&w[N-1].boom!==w[N].boom&&(k=!0);var F=T[N],G=F.indexOf("boom")>=0,E=!G&&N!==0&&T[0].indexOf("boom")>=0&&(!w[N-1]||w[N-1].boom!==w[N].boom),R=e(w[N],F,k,E);G&&(k=!1);for(var O=0;O<R.length;O++)this.writeNote(R[O],.125,G||E?this.boomVolume:this.chickVolume,N,m,G||E?this.bassInstrument:this.chordInstrument),E?E=!1:G=!1}}},t.prototype.processChord=function(d){if(!this.chordTrackFinished){var g=this.findChord(d);if(g){var b=this.interpretChord(g);if(b){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=b;var x=c(this.lastBarTime,u(d.time));this.currentChords.push({chord:this.lastChord,beat:x,start:u(d.time)})}}}};function e(d,g,b,x){var y=[];if(!d)return y;g.indexOf("boom")>=0?y.push(b?d.boom:d.boom2):x&&y.push(d.boom);var m=d.chick.length;if(g.indexOf("chick")>=0)for(var _=0;_<m;_++)y.push(d.chick[_]);switch(g){case"DO":y.push(d.chick[0]);break;case"MI":y.push(d.chick[1]);break;case"SOL":y.push(o(d,2));break;case"TI":y.push(o(d,3));break;case"TOP":y.push(o(d,4));break;case"do":y.push(d.chick[0]+12);break;case"mi":y.push(d.chick[1]+12);break;case"sol":y.push(o(d,2)+12);break;case"ti":y.push(o(d,3)+12);break;case"top":y.push(o(d,4)+12);break}return y}function o(d,g){var b=Math.floor(g/d.chick.length),x=d.chick[g%d.chick.length];return x+b*12}function n(d){for(var g=[],b=0;b<d.length;b++){var x=d[b];switch(x){case"z":g.push("");break;case"2":g.push("");break;case"c":g.push("chick");break;case"b":g.push("boom&chick");break;case"f":g.push("boom");break;case"G":g.push("DO");break;case"H":g.push("MI");break;case"I":g.push("SOL");break;case"J":g.push("TI");break;case"K":g.push("TOP");break;case"g":g.push("do");break;case"h":g.push("mi");break;case"i":g.push("sol");break;case"j":g.push("ti");break;case"k":g.push("top");break}}return g}function a(d,g,b){var x=[];if(d.length===0)return x;for(var y=d[0].chord,m=1;m<d.length;m++){for(var _=d[m];x.length<_.beat;)x.push(y);y=_.chord}for(;x.length<g;)x.push(y);return x}function c(d,g){var b=g-d;return b*8}t.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"],t.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43},t.prototype.chordIntervals={dim:[0,3,6],"°":[0,3,6],"˚":[0,3,6],dim7:[0,3,6,9],"°7":[0,3,6,9],"˚7":[0,3,6,9],ø7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7♭5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7♭5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-∆9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7♭9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"∆7":[0,4,7,11],Δ7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7♯5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9♯5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]},t.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function u(d){return d/1e6}function f(d,g){return Math.round(d*g*1e6)/1e6}return jp=t,jp}var Pp,d8;function cw(){if(d8)return Pp;d8=1;var t={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function e(o){var n=(o.accidental?o.accidental[0]:"x")+o.verticalPos;return t[n]}return Pp=e,Pp}var Hp,p8;function Oz(){if(p8)return Hp;p8=1;var t,e=Dz(),o=cw();return function(){var n,a,c,u,f,d=1,g,b,x,y,m,_,p={num:4,den:4},w=128,T,C=!0,N=105,k=95,D=85,F=[[N,k,D]],G=.25,E,R,O=0,P,j={},Y,H=0,q,U=0,X=-.001,I=.4;t=function(ce,ye,ne,de){ye||(ye={}),de||(de={}),n=[],a=[0,0,0,0,0,0,0],u=[],f=ye.qpm,d=1,g=void 0,b=void 0,x=void 0,y=void 0,m=0,q=ne,p={num:4,den:4},C=!0,N=105,k=95,D=85,F=[],G=.25,E=void 0,R=void 0,O=0,P=[],j={},Y=1,ce.length>0&&ce[0].length>0&&(H=ce[0][0].pickupLength),ye.bassprog!==void 0&&!de.bassprog&&(de.bassprog=[ye.bassprog]),ye.bassvol!==void 0&&!de.bassvol&&(de.bassvol=[ye.bassvol]),ye.chordprog!==void 0&&!de.chordprog&&(de.chordprog=[ye.chordprog]),ye.chordvol!==void 0&&!de.chordvol&&(de.chordvol=[ye.chordvol]),ye.gchord!==void 0&&!de.gchord&&(de.gchord=[ye.gchord]),_=new e(ce.length,ye.chordsOff,de,p),V(ce,ye);for(var xe=0;xe<ce.length;xe++){c=0,_.setTranspose(c);var Te=ce[xe];x=[{cmd:"program",channel:xe,instrument:g}],y=void 0,T=0,_.setLastBarTime(0);var Le=!1;(ye.voicesOff===!0||ye.voicesOff&&ye.voicesOff.length&&ye.voicesOff.indexOf(xe)>=0)&&(Le=!0);for(var ze=0;ze<Te.length;ze++){var De=Te[ze];switch(De.el_type){case"name":y={cmd:"text",type:"name",text:De.trackName};break;case"note":ee(De,Le);break;case"key":a=se(De);break;case"meter":p=De,_.setMeter(p),G=Q(p),Be();break;case"tempo":f?d=De.qpm?f/De.qpm:1:f=De.qpm,_.setTempoChangeFactor(d);break;case"transpose":c=De.transpose,_.setTranspose(c);break;case"bar":_.barEnd(De),n=[],xe===0&&je(ce.length+1),_.setRhythmHead(!1),T=A(De.time),_.setLastBarTime(T);break;case"bagpipes":break;case"instrument":if(g===void 0&&(g=De.program),b=De.program,x.length>0&&x[x.length-1].cmd==="program")x[x.length-1].instrument=De.program;else{var He;for(He=x.length-1;He>=0&&x[He].cmd!=="program";He--);(He<0||x[He].instrument!==De.program)&&x.push({cmd:"program",channel:0,instrument:De.program})}break;case"channel":z(De.channel);break;case"drum":j=ke(De.params),Be();break;case"gchordOn":_.gChordOn(De);break;case"beat":N=De.beats[0],k=De.beats[1],D=De.beats[2],De.volumesPerNotePitch?F=De.volumesPerNotePitch:F=[];break;case"vol":E=De.volume;break;case"volinc":R=De.volume;break;case"beataccents":C=De.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":_.paramChange(De);break;default:console.log("MIDI creation. Unknown el_type: "+De.el_type+`
`);break}}x[0].instrument===void 0&&(x[0].instrument=g||0),y&&x.unshift(y),u.push(x),_.finish(),P.length>0}return ye.detuneOctave&&Pe(u,parseInt(ye.detuneOctave,10)),_.addTrack(u),P.length>0&&u.push(P),{tempo:f,instrument:g,tracks:u,totalDuration:m}};function z(ce){for(var ye=x.length-1;ye>=0;ye--)if(x[ye].cmd==="program"){x[ye].channel=ce;return}}function A(ce){return ce/1e6}function B(ce){return Math.round(ce*d*1e6)/1e6}function V(ce,ye){for(var ne=0;ne<ce.length;ne++){for(var de=ce[ne],xe={},Te=ye.qpm,Le=0,ze=1,De=0;De<de.length;De++){var He=de[De];if(He.el_type==="tempo"){Te?ze=He.qpm?Te/He.qpm:1:Te=He.qpm;continue}He.time=Le;var Xe=He.duration?He.duration:0;if(Le+=Math.round(Xe*ze*1e6),He.pitches){for(var Ae=0;Ae<He.pitches.length;Ae++){var qe=He.pitches[Ae];if(qe){if(qe.duration=He.duration,qe.startTie)xe[qe.pitch]===void 0?xe[qe.pitch]={el:De,pitch:Ae}:(de[xe[qe.pitch].el].pitches[xe[qe.pitch].pitch].duration+=qe.duration,He.pitches[Ae]=null);else if(qe.endTie){var Ue=xe[qe.pitch];if(Ue){var ct=qe.duration;delete de[Ue.el].pitches[Ue.pitch].startTie,de[Ue.el].pitches[Ue.pitch].duration+=ct,He.pitches[Ae]=null,delete xe[qe.pitch]}else delete qe.endTie}}}delete He.duration}}for(var Ve in xe)if(xe.hasOwnProperty(Ve)){var Fe=xe[Ve];delete de[Fe.el].pitches[Fe.pitch].startTie}}}function Q(ce){switch(parseInt(ce.den,10)){case 2:return .5;case 4:return .25;case 8:return ce.num%3===0?.375:.125;case 16:return .125}return .25}function W(ce,ye,ne){var de=ne-ce;return de/ye}function K(ce,ye,ne){if(ye)return 0;let de=N,xe=k,Te=D;ne!==void 0&&F.length>=ne+1&&(de=F[ne][0],xe=F[ne][1],Te=F[ne][2]);var Le;if(E!==void 0)Le=E,E=void 0;else if(!C)Le=xe;else if(H>ce)Le=Te;else{var ze=W(T,Q(p),ce);ze===0?Le=de:parseInt(ze,10)===ze?Le=xe:Le=Te}return R&&(Le+=R,R=void 0),Le<0&&(Le=0),Le>127&&(Le=127),ye?0:Le}function re(ce,ye){var ne={};if(ce.decoration)for(var de=0;de<ce.decoration.length;de++)ce.decoration[de]==="staccato"?ne.thisBreakBetweenNotes="staccato":ce.decoration[de]==="tenuto"?ne.thisBreakBetweenNotes="tenuto":ce.decoration[de]==="accent"?ne.velocity=Math.min(127,ye*1.5):ce.decoration[de]==="trill"?ne.noteModification="trill":ce.decoration[de]==="lowermordent"?ne.noteModification="lowermordent":ce.decoration[de]==="uppermordent"?ne.noteModification="pralltriller":ce.decoration[de]==="mordent"?ne.noteModification="mordent":ce.decoration[de]==="turn"?ne.noteModification="turn":ce.decoration[de]==="roll"?ne.noteModification="roll":ce.decoration[de]==="pralltriller"?ne.noteModification="pralltriller":ce.decoration[de]==="trillh"&&(ne.noteModification="trillh");return ne}function he(ce,ye){var ne=ye.start,de=ye.duration,xe=B(1/32);switch(ce){case"trill":for(var Te=2;de>0;)x.push({cmd:"note",pitch:ye.pitch+Te,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),Te=Te===2?0:2,de-=xe,ne+=xe;break;case"trillh":for(var Te=1;de>0;)x.push({cmd:"note",pitch:ye.pitch+Te,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),Te=Te===1?0:1,de-=xe,ne+=xe;break;case"pralltriller":x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),de-=xe,ne+=xe,x.push({cmd:"note",pitch:ye.pitch+2,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),de-=xe,ne+=xe,x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne,duration:de,gap:0,instrument:b});break;case"mordent":case"lowermordent":x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),de-=xe,ne+=xe,x.push({cmd:"note",pitch:ye.pitch-2,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),de-=xe,ne+=xe,x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne,duration:de,gap:0,instrument:b});break;case"turn":xe=ye.duration/4,x.push({cmd:"note",pitch:ye.pitch+2,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne+xe,duration:xe,gap:0,instrument:b,style:"decoration"}),x.push({cmd:"note",pitch:ye.pitch-1,volume:ye.volume,start:ne+xe*2,duration:xe,gap:0,instrument:b,style:"decoration"}),x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne+xe*3,duration:xe,gap:0,instrument:b,style:"decoration"});break;case"roll":for(;de>0;)x.push({cmd:"note",pitch:ye.pitch,volume:ye.volume,start:ne,duration:xe,gap:0,instrument:b,style:"decoration"}),de-=xe*2,ne+=xe*2;break}}function ee(ce,ye){var ne=K(A(ce.time),ye);_.processChord(ce);var de;if(ce.gracenotes&&ce.pitches&&ce.pitches.length>0&&ce.pitches[0]&&(de=fe(ce.gracenotes,ce.pitches[0].duration),ce.elem&&(ce.elem.midiGraceNotePitches=ae(de,A(ce.time),ne*2/3,b))),ce.elem){var xe=A(ce.time),Te=xe/G/f*60*1e3;if(ce.elem.currentTrackMilliseconds===void 0)ce.elem.currentTrackMilliseconds=Te,ce.elem.currentTrackWholeNotes=xe;else if(ce.elem.currentTrackMilliseconds.length===void 0)ce.elem.currentTrackMilliseconds!==Te&&(ce.elem.currentTrackMilliseconds=[ce.elem.currentTrackMilliseconds,Te],ce.elem.currentTrackWholeNotes=[ce.elem.currentTrackWholeNotes,xe]);else{for(var Le=!1,ze=0;ze<ce.elem.currentTrackMilliseconds.length;ze++)ce.elem.currentTrackMilliseconds[ze]===Te&&(Le=!0);Le||(ce.elem.currentTrackMilliseconds.push(Te),ce.elem.currentTrackWholeNotes.push(xe))}}if(ce.pitches){var De="",He=re(ce,ne);He.thisBreakBetweenNotes&&(De=He.thisBreakBetweenNotes),He.velocity&&(ne=He.velocity);var Xe=ce.pitches;ce.style==="rhythm"&&(Xe=_.setRhythmHead(!0,ce)),ce.elem&&(ce.elem.midiPitches=[]);for(var Ae=0;Ae<Xe.length;Ae++){let mt=ne;!He.velocity&&Array.isArray(ce.decoration)&&ce.decoration.length>Ae&&(mt=K(A(ce.time),ye,Ae));var qe=Xe[Ae];if(qe){qe.startSlur&&(O+=qe.startSlur.length),qe.endSlur&&(O-=qe.endSlur.length);var Ue=qe.actualPitch?qe.actualPitch:le(qe);if(b===w&&q){var ct=o(qe);ct&&q[ct]&&(Ue=q[ct].sound)}var Ve={cmd:"note",pitch:Ue,volume:mt,start:A(ce.time),duration:B(qe.duration),instrument:b,startChar:ce.elem.startChar,endChar:ce.elem.endChar};if(Ve=Se(Ve),ce.gracenotes&&(Ve.duration=Ve.duration/2,Ve.start=Ve.start+Ve.duration),ce.elem&&ce.elem.midiPitches.push(Ve),He.noteModification)he(He.noteModification,Ve);else{switch(O>0?Ve.endType="tenuto":De&&(Ve.endType=De),Ve.endType){case"tenuto":Ve.gap=X;break;case"staccato":var Fe=Ve.duration*I;Ve.gap=f/60*Fe;break;default:Ve.gap=U;break}x.push(Ve)}}}x.length-1}var Ie=pe(ce);m=Math.max(m,A(ce.time)+B(Ie))}function pe(ce){return ce.pitches&&ce.pitches.length>0&&ce.pitches[0]?ce.pitches[0].duration:ce.elem?ce.elem.duration:ce.duration}var Ce=[0,2,4,5,7,9,11];function le(ce){if(ce.midipitch!==void 0)return ce.midipitch;var ye=ce.pitch;if(ce.accidental)switch(ce.accidental){case"sharp":n[ye]=1;break;case"flat":n[ye]=-1;break;case"natural":n[ye]=0;break;case"dblsharp":n[ye]=2;break;case"dblflat":n[ye]=-2;break;case"quartersharp":n[ye]=.25;break;case"quarterflat":n[ye]=-.25;break}var ne=we(ye)*12+Ce[te(ye)]+60;return n[ye]!==void 0?ne+=n[ye]:ne+=a[te(ye)],ne+=c,ne}function se(ce){var ye=[0,0,0,0,0,0,0];if(!ce.accidentals)return ye;for(var ne=0;ne<ce.accidentals.length;ne++){var de=ce.accidentals[ne],xe;switch(de.acc){case"flat":xe=-1;break;case"quarterflat":xe=-.25;break;case"sharp":xe=1;break;case"quartersharp":xe=.25;break;default:xe=0;break}var Te=de.note.toLowerCase(),Le=te(Te.charCodeAt(0)-99);ye[Le]+=xe}return ye}function fe(ce,ye){for(var ne=0,de=[],xe,Te=0;Te<ce.length;Te++)xe=ce[Te],ne+=xe.duration;var Le=ye/2/ne;for(Te=0;Te<ce.length;Te++){xe=ce[Te];var ze=le(xe);if(b===w&&q){var De=o(xe);De&&q[De]&&(ze=q[De].sound)}var He={pitch:ze,duration:xe.duration*Le};He=Se(He),de.push(He)}return de}function ae(ce,ye,ne,de){var xe=[];ne=Math.round(ne);for(var Te=0;Te<ce.length;Te++){var Le=ce[Te];x.push({cmd:"note",pitch:Le.pitch,volume:ne,start:ye,duration:Le.duration,gap:0,instrument:de,style:"grace"}),xe.push({pitch:Le.pitch,durationInMeasures:Le.duration,volume:ne,instrument:de}),ye+=Le.duration}return xe}function Se(ce){var ye=""+ce.pitch;return ye.indexOf(".75")>=0?(ce.pitch=Math.round(ce.pitch),ce.cents=-50):ye.indexOf(".25")>=0&&(ce.pitch=Math.round(ce.pitch),ce.cents=50),ce}function we(ce){return Math.floor(ce/7)}function te(ce){return ce=ce%7,ce<0&&(ce+=7),ce}function ke(ce){if(ce.pattern.length===0||ce.on===!1)return{on:!1};for(var ye=ce.pattern[0],ne=[],de="",xe=0,Te=0;Te<ye.length;Te++)if(ye[Te]==="d"&&xe++,ye[Te]==="d"||ye[Te]==="z")de.length!==0?(ne.push(de),de=ye[Te]):de=de+ye[Te];else{if(de.length===0)return{on:!1};de=de+ye[Te]}if(de.length!==0&&ne.push(de),ce.pattern.length!==xe*2+1)return{on:!1};for(var Le={on:!0,bars:ce.bars,pattern:[]},ze=Q(p),De=0,He=0;He<ne.length;He++){de=ne[He];for(var Xe=1,Ae=!1,qe=0,Ue=1;Ue<de.length;Ue++)switch(de[Ue]){case"/":qe!==0&&(Xe*=qe),qe=0,Ae=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":qe=qe*10+de[Ue];break;default:return{on:!1}}Ae?(qe===0&&(qe=2),Xe/=qe):qe&&(Xe*=qe),de[0]==="d"?(Le.pattern.push({len:Xe*ze,pitch:ce.pattern[1+De],velocity:ce.pattern[1+De+xe]}),De++):Le.pattern.push({len:Xe*ze,pitch:null})}return Y=ce.bars?ce.bars:1,Le}function Be(){if(!(!j||!j.pattern)){for(var ce=j,ye=0,ne=p.num/p.den,de=0;de<ce.pattern.length;de++)ye+=ce.pattern[de].len;var xe=ye/Y/ne;for(de=0;de<ce.pattern.length;de++)ce.pattern[de].len=ce.pattern[de].len/xe;j=ce}}function je(ce){if(!(P.length===0&&!j.on)){var ye=p.num/p.den;if(P.length===0){if(m<ye)return;P.push({cmd:"program",channel:ce,instrument:w})}if(j.on)for(var ne=T,de=0;de<j.pattern.length;de++){var xe=B(j.pattern[de].len);j.pattern[de].pitch&&P.push({cmd:"note",pitch:j.pattern[de].pitch,volume:j.pattern[de].velocity,start:ne,duration:xe,gap:0,instrument:w}),ne+=xe}}}function Pe(ce,ye){for(var ne={},de=0;de<ce.length;de++)for(var xe=0;xe<ce[de].length;xe++){var Te=ce[de][xe];Te.cmd==="note"&&(ne[Te.start]===void 0&&(ne[Te.start]=[]),ne[Te.start].push({track:de,event:xe,pitch:Te.pitch}))}var Le=Object.keys(ne);for(de=0;de<Le.length;de++){var ze=ne[Le[de]];if(ze.length>1){ze=ze.sort(function(qe,Ue){return qe.pitch-Ue.pitch});var De=ze[ze.length-1],He=De.pitch%12,Xe=!1;for(xe=0;!Xe&&xe<ze.length-1;xe++)ze[xe].pitch%12===He&&(Xe=!0);if(Xe){var Ae=ce[De.track][De.event];Ae.cents||(Ae.cents=0),Ae.cents+=ye}}}}}(),Hp=t,Hp}var Yp,g8;function zz(){if(g8)return Yp;g8=1;function t(d,g){g||(g={});for(var b=!!g.lineBreaks,x=[],y=!1,m=[],_=[],p=[],w=[],T=[],C=[],N=[],k=0;k<d.length;k++){var D=d[k];if(D.staff){if(y&&!D.vskip)for(var F=x[x.length-1],G=0;G<F.staff.length;G++){var E=D.staff[G],R=F.staff[G];if(E&&(u(E.meter,m[G])||(o(E.meter,E.voices),m[G]=E.meter,delete E.meter),u(E.key,_[G])||(n(E.key,E.voices),_[G]=E.key,delete E.key),E.title&&(R.abbrevTitle=E.title),u(E.clef,p[G])||(a(E.clef,E.voices),p[G]=E.clef,delete E.clef),u(E.vocalfont,w[G])||(c(E.vocalfont,E.voices,"vocalfont"),w[G]=E.vocalfont,delete E.vocalfont),u(E.gchordfont,T[G])||(c(E.gchordfont,E.voices,"gchordfont"),T[G]=E.gchordfont,delete E.gchordfont),u(E.tripletfont,C[G])||(c(E.tripletfont,E.voices,"tripletfont"),C[G]=E.tripletfont,delete E.tripletfont),u(E.annotationfont,N[G])||(c(E.annotationfont,E.voices,"annotationfont"),N[G]=E.annotationfont,delete E.annotationfont)),E)for(var O=0;O<R.voices.length;O++){var P=R.voices[O],j=E.voices[O];b&&P.push({el_type:"break"}),j&&(R.voices[O]=P.concat(j))}}else{for(var Y=0;Y<D.staff.length;Y++)_[Y]=D.staff[Y].key,m[Y]=D.staff[Y].meter,p[Y]=D.staff[Y].clef;x.push(f(D))}y=!0}else y=!1,x.push(D)}return x}function e(d,g){return d==="abselem"?"abselem":g}function o(d,g){d.el_type="meter",d.startChar=-1,d.endChar=-1;for(var b=0;b<g.length;b++)g[b].unshift(d)}function n(d,g){d.el_type="key",d.startChar=-1,d.endChar=-1;for(var b=0;b<g.length;b++)g[b].unshift(d)}function a(d,g){d.el_type="clef",d.startChar=-1,d.endChar=-1;for(var b=0;b<g.length;b++)g[b].unshift(d)}function c(d,g,b){d.el_type="font",d.type=b,d.startChar=-1,d.endChar=-1;for(var x=0;x<g.length;x++)g[x].unshift(d)}function u(d,g){if(!d)return!0;var b=JSON.stringify(d,e),x=JSON.stringify(g,e);return b===x}function f(d){for(var g={},b=Object.keys(d),x=0;x<b.length;x++)if(b[x]!=="staff")g[b[x]]=d[b[x]];else{g.staff=[];for(var y=0;y<d.staff.length;y++){for(var m={},_=Object.keys(d.staff[y]),p=0;p<_.length;p++)if(_[p]!=="voices")m[_[p]]=d.staff[y][_[p]];else{m.voices=[];for(var w=0;w<d.staff[y].voices.length;w++)m.voices.push([].concat(d.staff[y].voices[w]))}g.staff.push(m)}}return g}return Yp=t,Yp}var Up,v8;function uw(){if(v8)return Up;v8=1;var t=wa(),e=xr(),o=lw(),n=Oz(),a=zz(),c=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function u(y,m,_,p){for(var w=0;w<p.length;w++)y[_][p[w]]=m[_][p[w]]}this.copyTopInfo=function(y){var m=["tempo","title","header","rhythm","origin","composer","author","partOrder"];u(this,y,"metaText",m),u(this,y,"metaTextInfo",m)},this.copyBottomInfo=function(y){var m=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];u(this,y,"metaText",m),u(this,y,"metaTextInfo",m)},this.getBeatLength=function(){var y=this.getMeterFraction(),m=1;return(y.num===6||y.num===9||y.num===12||y.num===3&&y.den===8)&&(m=3),m/y.den};function f(y,m){for(var _=0,p=0;p<y.length;p++)if(y[p].staff)for(var w=0;w<y[p].staff.length;w++)for(var T=0;T<y[p].staff[w].voices.length;T++)for(var C=y[p].staff[w].voices[T],N=1,k=0;k<C.length;k++){var D=C[k].rest&&C[k].rest.type==="spacer";if(C[k].startTriplet&&(N=C[k].tripletMultiplier),C[k].duration&&!D&&C[k].el_type!=="tempo"&&(_+=C[k].duration*N),C[k].endTriplet&&(N=1),_>=m&&(_-=m),C[k].el_type==="bar")return _}return _}this.getPickupLength=function(){var y=this.getBarLength(),m=f(this.lines,y);return m<1e-8||y-m<1e-8?0:m},this.getBarLength=function(){var y=this.getMeterFraction();return y.num/y.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(y){var m;if(y)m=y;else{var _=this.metaText?this.metaText.tempo:null;m=this.getBpm(_)}m<=0&&(m=1);var p=this.getBeatsPerMeasure(),w=p/m;return w*6e4},this.getBeatsPerMeasure=function(){var y=this.getBeatLength(),m=this.getBarLength();return m/y},this.getMeter=function(){for(var y=0;y<this.lines.length;y++){var m=this.lines[y];if(m.staff)for(var _=0;_<m.staff.length;_++){var p=m.staff[_].meter;if(p)return p}}return{type:"common_time"}},this.getMeterFraction=function(){var y=this.getMeter(),m=4,_=4;return y&&(y.type==="specified"?(m=parseInt(y.value[0].num,10),_=parseInt(y.value[0].den,10)):y.type==="cut_time"?(m=2,_=2):y.type==="common_time"&&(m=4,_=4)),this.meter={num:m,den:_},this.meter},this.getKeySignature=function(){for(var y=0;y<this.lines.length;y++){var m=this.lines[y];if(m.staff){for(var _=0;_<m.staff.length;_++)if(m.staff[_].key)return m.staff[_].key}}return{}},this.getElementFromChar=function(y){for(var m=0;m<this.lines.length;m++){var _=this.lines[m];if(_.staff)for(var p=0;p<_.staff.length;p++)for(var w=_.staff[p],T=0;T<w.voices.length;T++)for(var C=w.voices[T],N=0;N<C.length;N++){var k=C[N];if(k.startChar&&k.endChar&&k.startChar<=y&&k.endChar>y)return k}}return null};function d(y){for(var m,_,p,w,T=y.length-1;T>=0;T--){var C=y[T];C.type==="bar"?(C.top=p,C.nextTop=m,m=p,C.bottom=w,C.nextBottom=_,_=w):C.type==="event"&&(p=C.top,w=C.top+C.height)}}function g(y){var m=[];for(var _ in y)y.hasOwnProperty(_)&&m.push(y[_]);return m=m.sort(function(p,w){var T=p.milliseconds-w.milliseconds;return T!==0?T:p.type==="bar"?-1:1}),m}this.addElementToEvents=function(y,m,_,p,w,T,C,N,k,D){if(m.hint)return{isTiedState:void 0,duration:0};var F=m.durationClass?m.durationClass:m.duration;if(m.abcelem.rest&&m.abcelem.rest.type==="spacer"&&(F=0),F>0){for(var G=[],E=0;E<m.elemset.length;E++)m.elemset[E]!==null&&G.push(m.elemset[E]);var R=m.startTie;if(k!==void 0)y["event"+k].elements.push(G),D&&(y["event"+_]||(y["event"+_]={type:"event",milliseconds:_,line:T,measureNumber:C,top:p,height:w,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),y["event"+_].measureStart=!0,D=!1),R||(k=void 0);else{if(!y["event"+_])y["event"+_]={type:"event",milliseconds:_,line:T,measureNumber:C,top:p,height:w,left:m.x,width:m.w,elements:[G],startChar:m.abcelem.startChar,endChar:m.abcelem.endChar,startCharArray:[m.abcelem.startChar],endCharArray:[m.abcelem.endChar],midiPitches:m.abcelem.midiPitches?t.cloneArray(m.abcelem.midiPitches):[]},m.abcelem.midiGraceNotePitches&&(y["event"+_].midiGraceNotePitches=t.cloneArray(m.abcelem.midiGraceNotePitches));else{if(y["event"+_].left?y["event"+_].left=Math.min(y["event"+_].left,m.x):y["event"+_].left=m.x,y["event"+_].elements.push(G),y["event"+_].startCharArray.push(m.abcelem.startChar),y["event"+_].endCharArray.push(m.abcelem.endChar),y["event"+_].startChar===null&&(y["event"+_].startChar=m.abcelem.startChar),y["event"+_].endChar===null&&(y["event"+_].endChar=m.abcelem.endChar),m.abcelem.midiPitches&&m.abcelem.midiPitches.length){y["event"+_].midiPitches||(y["event"+_].midiPitches=[]);for(var E=0;E<m.abcelem.midiPitches.length;E++)y["event"+_].midiPitches.push(m.abcelem.midiPitches[E])}if(m.abcelem.midiGraceNotePitches&&m.abcelem.midiGraceNotePitches.length){y["event"+_].midiGraceNotePitches||(y["event"+_].midiGraceNotePitches=[]);for(var O=0;O<m.abcelem.midiGraceNotePitches.length;O++)y["event"+_].midiGraceNotePitches.push(m.abcelem.midiGraceNotePitches[O])}}D&&(y["event"+_].measureStart=!0,D=!1)}}return{isTiedState:k,duration:F/N,nextIsBar:D||m.type==="bar"}},this.makeVoicesArray=function(){for(var y=[],m=[],_={},p=0;p<this.engraver.staffgroups.length;p++){var w=this.engraver.staffgroups[p];if(w&&w.staffs&&w.staffs.length>0){var T=w.staffs[0],C=T.absoluteY,N=C-T.top*e.STEP,k=w.staffs[w.staffs.length-1];C=k.absoluteY;for(var D=C-k.bottom*e.STEP,F=D-N,G=w.voices,E=0;E<G.length;E++)if(!(G[E].staff&&G[E].staff.isTabStaff)){var R=!1;y[E]||(y[E]=[]),m[E]===void 0&&(m[E]=0);for(var O=G[E].children,P=0;P<O.length;P++)O[P].type==="tempo"&&(_[m[E]]=this.getBpm(O[P].abcelem)),y[E].push({top:N,height:F,line:w.line,measureNumber:m[E],elem:O[P]}),O[P].type==="bar"&&R&&m[E]++,(O[P].type==="note"||O[P].type==="rest")&&(R=!0)}}}return this.tempoLocations=_,y},this.setupEvents=function(y,m,_,p){p||(p=1);for(var w=[],T={},C=y,N,k=!0,D=this.makeVoicesArray(),F=0,G=0;G<D.length;G++){var E=C,R=Math.round(E*1e3),O=0,P=-1,j=D[G],Y=_;m=this.getBeatLength()*Y/60;for(var H=-1,q=0;q<j.length;q++){var U=j[q].measureNumber;H!==U&&this.tempoLocations[U]&&(Y=this.tempoLocations[U],m=p*this.getBeatLength()*Y/60,H=U);var X=j[q].elem,I=this.addElementToEvents(T,X,R,j[q].top,j[q].height,j[q].line,j[q].measureNumber,m,N,k);N=I.isTiedState,k=I.nextIsBar,E+=I.duration;var z;if(X.duration>0&&T["event"+R]&&(z="event"+R),R=Math.round(E*1e3),X.type==="bar"){var A=X.abcelem.type,B=A==="bar_right_repeat"||A==="bar_dbl_repeat",V=X.abcelem.startEnding==="1",Q=A==="bar_left_repeat"||A==="bar_dbl_repeat"||A==="bar_right_repeat";if(B){q>0&&(T[z].endX=X.x),P===-1&&(P=q);var W=0;H=-1;for(var K=O;K<P;K++){U=j[K].measureNumber,H!==U&&this.tempoLocations[U]&&(Y=this.tempoLocations[U],m=p*this.getBeatLength()*Y/60,H=U);var re=j[K].elem;I=this.addElementToEvents(T,re,R,j[K].top,j[K].height,j[K].line,j[K].measureNumber,m,N,k),N=I.isTiedState,k=I.nextIsBar,E+=I.duration,W=R,R=Math.round(E*1e3)}T["event"+W]&&(T["event"+W].endX=j[P].elem.x),k=!0,P=-1}V&&(P=q),Q&&(O=q)}}F=Math.max(F,R)}return w=g(T),d(w),x(this.lines,w),w.push({type:"end",milliseconds:F}),this.addUsefulCallbackInfo(w,Y*p),w},this.addUsefulCallbackInfo=function(y,m){for(var _=this.millisecondsPerMeasure(m),p=0;p<y.length;p++){var w=y[p];w.millisecondsPerMeasure=_}};function b(y,m){for(;m<y.length&&y[m].left===null;)m++;return y[m]}function x(y,m){if(!(m.length<1)){for(var _=0;_<m.length-1;_++){var p=m[_],w=b(m,_+1);if(p.left!==null){var T=w&&p.top===w.top?w.left:y[p.line].staffGroup.w;p.endX!==void 0?T>p.left&&(p.endX=Math.min(p.endX,T)):p.endX=T}}var C=m[m.length-1];C.endX=y[C.line].staffGroup.w}}this.getBpm=function(y){var m;if(y||(y=this.metaText?this.metaText.tempo:null),y){m=y.bpm;var _=this.getBeatLength(),p=y.duration&&y.duration.length>0?y.duration[0]:_;m=m*p/_}if(!m){m=180;var w=this.getMeterFraction();w&&w.num!==3&&w.num%3===0&&(m=120)}return m},this.setTiming=function(y,m){if(m=m||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var _=this.metaText?this.metaText.tempo:null,p=this.getBpm(_),w=1;y?_&&(w=y/p):y=p;var T=this.getBeatLength(),C=y/60,N=this.getBarLength(),k=N/T*m/C;k&&(k-=this.getPickupLength()/T/C);var D=T*C;return this.noteTimings=this.setupEvents(k,D,y,w),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*C):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(y){y||(y={});var m=o(this,y);return n(m,y,this.formatting.percmap,this.formatting.midi)},this.deline=function(y){return a(this.lines,y)},this.findSelectableElement=function(y){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(y):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}};return Up=c,Up}var Fp,m8;function Bz(){if(m8)return Fp;m8=1;var t=i3(),e=function(E){var R=this,O={},P="";E.reset(),this.setVisualTranspose=function(j){j!==void 0&&(E.visualTranspose=j)},this.cleanUp=function(j,Y,H){m(E),delete E.runningFonts,n(E),E.metaText.tempo&&E.metaText.tempo.bpm&&!E.metaText.tempo.duration&&(E.metaText.tempo.duration=[E.getBeatLength()]);var q=!1,U,X,I;for(U=0;U<E.lines.length;U++)if(E.lines[U].staff!==void 0){var z=!1;for(X=0;X<E.lines[U].staff.length;X++)if(E.lines[U].staff[X]===void 0)q=!0,E.lines[U].staff[X]=null;else for(I=0;I<E.lines[U].staff[X].voices.length;I++)E.lines[U].staff[X].voices[I]===void 0?E.lines[U].staff[X].voices[I]=[]:_(E.lines[U].staff[X].voices[I])&&(z=!0);z||(E.lines[U]=null,q=!0)}if(q&&(E.lines=E.lines.filter(function(K){return!!K}),E.lines.forEach(function(K){K.staff&&(K.staff=K.staff.filter(function(re){return!!re}))})),j)for(;d(E.lines,j););if(Y){for(q=!1,U=0;U<E.lines.length;U++)if(E.lines[U].staff!==void 0)for(X=0;X<E.lines[U].staff.length;X++){var A=!1;for(I=0;I<E.lines[U].staff[X].voices.length;I++)p(E.lines[U].staff[X].voices[I])&&(A=!0);A||(q=!0,E.lines[U].staff[X]=null)}q&&E.lines.forEach(function(K){K.staff&&(K.staff=K.staff.filter(function(re){return!!re}))})}for(u(E.lines),U=0;U<E.lines.length;U++)if(E.lines[U].staff)for(X=0;X<E.lines[U].staff.length;X++)delete E.lines[U].staff[X].workingClef;for(;a(E););for(var U=0;U<E.lines.length;U++){var B=E.lines[U].staff;if(B)for(E.staffNum=0;E.staffNum<B.length;E.staffNum++)for(B[E.staffNum].clef&&t.fixClef(B[E.staffNum].clef),E.voiceNum=0;E.voiceNum<B[E.staffNum].voices.length;E.voiceNum++){var V=B[E.staffNum].voices[E.voiceNum];f(V,E.staffNum,E.voiceNum,H);for(var Q=0;Q<V.length;Q++)V[Q].el_type==="clef"&&t.fixClef(V[Q]);if(V.length>0&&V[V.length-1].barNumber){var W=b(E.lines,U);W&&(W.staff[0].barNumber=V[V.length-1].barNumber),delete V[V.length-1].barNumber}}}return delete E.staffNum,delete E.voiceNum,delete E.lineNum,delete E.potentialStartBeam,delete E.potentialEndBeam,delete E.vskipPending,H},this.addTieToLastNote=function(j){var Y=x(E);return Y&&Y.pitches&&Y.pitches.length>0?(Y.pitches[0].startTie={},j&&(Y.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(j,Y,H,q){if(q.el_type=j,Y!==null&&(q.startChar=Y),H!==null&&(q.endChar=H),j==="note"){var U=y(q);U>=.25||q.force_end_beam_last&&E.potentialStartBeam!==void 0?N(E):q.end_beam&&E.potentialStartBeam!==void 0?q.rest===void 0?C(q,E):N(E):q.rest===void 0&&(E.potentialStartBeam===void 0?q.end_beam||(E.potentialStartBeam=q,delete E.potentialEndBeam):E.potentialEndBeam=q)}else N(E);return delete q.end_beam,delete q.force_end_beam_last,q.rest&&q.rest.type==="invisible"&&delete q.decoration,E.lines.length<=E.lineNum||E.lines[E.lineNum].staff.length<=E.staffNum?!1:(T(R,E,q,O,P),!0)},this.appendStartingElement=function(j,Y,H,q){m(E);var U;j==="key"&&(U=q.impliedNaturals,delete q.impliedNaturals,delete q.explicitAccidentals);var X=Object.assign({},q);if(E.lines[E.lineNum]){var I=E.lines[E.lineNum].staff;if(I){I.length<=E.staffNum&&(I[E.staffNum]={},I[E.staffNum].clef=Object.assign({},I[0].clef),I[E.staffNum].key=Object.assign({},I[0].key),I[0].meter&&(I[E.staffNum].meter=Object.assign({},I[0].meter)),I[E.staffNum].workingClef=Object.assign({},I[0].workingClef),I[E.staffNum].voices=[[]]),j==="clef"&&(I[E.staffNum].workingClef=X);for(var z=I[E.staffNum].voices[E.voiceNum],A=0;A<z.length;A++){if(z[A].el_type==="note"||z[A].el_type==="bar"){X.el_type=j,X.startChar=Y,X.endChar=H,U&&(X.accidentals=U.concat(X.accidentals)),z.push(X);return}if(z[A].el_type===j){X.el_type=j,X.startChar=Y,X.endChar=H,U&&(X.accidentals=U.concat(X.accidentals)),z[A]=X;return}}I[E.staffNum][j]=q}}},this.addSubtitle=function(j,Y){w(E,{subtitle:{text:j,startChar:Y.startChar,endChar:Y.endChar}})},this.addSpacing=function(j){E.vskipPending=j},this.addNewPage=function(j){w(E,{newpage:j})},this.addSeparator=function(j,Y,H,q){w(E,{separator:{spaceAbove:Math.round(j),spaceBelow:Math.round(Y),lineLength:Math.round(H),startChar:q.startChar,endChar:q.endChar}})},this.addText=function(j,Y){w(E,{text:{text:j,startChar:Y.startChar,endChar:Y.endChar}})},this.addCentered=function(j){w(E,{text:[{text:j,center:!0}]})},this.changeVoiceScale=function(j){R.appendElement("scale",null,null,{size:j})},this.changeVoiceColor=function(j){R.appendElement("color",null,null,{color:j})},this.startNewLine=function(j){m(E),j.currentVoiceName&&(P=j.currentVoiceName,O[j.currentVoiceName]=j),E.lines[E.lineNum]===void 0?G(R,E,j):E.lines[E.lineNum].staff===void 0?(E.lineNum++,this.startNewLine(j)):E.lines[E.lineNum].staff[E.staffNum]===void 0?F(R,E,j):E.lines[E.lineNum].staff[E.staffNum].voices[E.voiceNum]===void 0?D(R,E,j):_(E.lines[E.lineNum].staff[E.staffNum].voices[E.voiceNum])?(E.lineNum++,this.startNewLine(j)):j.part&&R.appendElement("part",j.part.startChar,j.part.endChar,{title:j.part.title})},this.setRunningFont=function(j,Y){E.runningFonts[j]=Y},this.setBarNumberImmediate=function(j){var Y=this.getCurrentVoice();if(Y&&Y.length>0){var H=Y[Y.length-1];if(H.el_type==="bar")H.barNumber!==void 0&&(H.barNumber=j);else return j-1}return j},this.hasBeginMusic=function(){for(var j=0;j<E.lines.length;j++)if(E.lines[j].staff)return!0;return!1},this.isFirstLine=function(j){for(var Y=j-1;Y>=0;Y--)if(E.lines[Y].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var j=g(E.lines,E.lineNum);if(!j)return null;var Y=j.staff[E.staffNum];return Y&&Y.voices[E.voiceNum]!==void 0?Y.voices[E.voiceNum]:null},this.setCurrentVoice=function(j,Y,H){E.staffNum=j,E.voiceNum=Y,P=H;for(var q=0;q<E.lines.length;q++)if(E.lines[q].staff&&(E.lines[q].staff[j]===void 0||E.lines[q].staff[j].voices[Y]===void 0||!_(E.lines[q].staff[j].voices[Y])))return E.lineNum=q,!!(!E.lines[q].staff[j]||E.lines[q].staff[j].voices[Y]);return E.lineNum=q,!1},this.addMetaText=function(j,Y,H){E.metaText[j]===void 0?(E.metaText[j]=Y,E.metaTextInfo[j]=H):(typeof E.metaText[j]=="string"&&typeof Y=="string"?E.metaText[j]+=`
`+Y:(E.metaText[j]==="string"&&(E.metaText[j]=[{text:E.metaText[j]}]),typeof Y=="string"&&(Y=[{text:Y}]),E.metaText[j]=E.metaText[j].concat(Y)),E.metaTextInfo[j].endChar=H.endChar)},this.addMetaTextArray=function(j,Y,H){E.metaText[j]===void 0?(E.metaText[j]=[Y],E.metaTextInfo[j]=H):(E.metaText[j].push(Y),E.metaTextInfo[j].endChar=H.endChar)},this.addMetaTextObj=function(j,Y,H){E.metaText[j]=Y,E.metaTextInfo[j]=H}};function o(E){if(!E||typeof E=="string")return!1;for(var R=0;R<E.length;R++)if(typeof E[R]!="string")return!1;return!0}function n(E){o(E.metaText.notes)&&(E.metaText.notes=E.metaText.notes.join(`
`)),o(E.metaText.history)&&(E.metaText.history=E.metaText.history.join(`
`))}function a(E){for(var R=!1,O=[],P=0;P<E.lines.length;P++){var j=E.lines[P];if(j.staff)for(var Y=0;Y<j.staff.length;Y++){for(var H=j.staff[Y],q=[],U=0;U<H.voices.length;U++){var X=H.voices[U];q.push({hasOverlay:!1,voice:[],snip:[]}),O[P]=0;for(var I=0,z=!1,A=-1,B=0;B<X.length;B++){var V=X[B];if(V.el_type==="overlay"&&!z){R=!0,z=!0,A=B,q[U].hasOverlay=!0;for(var Q=0;Q<P;Q++)O[Q]&&E.lines[Q].staff&&H.voices.length>=E.lines[Q].staff[0].voices.length&&E.lines[Q].staff[0].voices.push([{el_type:"note",duration:O[Q],rest:{type:"invisible"},startChar:V.startChar,endChar:V.endChar}])}else V.el_type==="bar"?(z?(z=!1,q[U].snip.push({start:A,len:B-A}),q[U].voice.push(V)):(I>0&&q[U].voice.push({el_type:"note",duration:I,rest:{type:"invisible"},startChar:V.startChar,endChar:V.endChar}),q[U].voice.push(V)),I=0):V.el_type==="note"?z?q[U].voice.push(V):(I+=V.duration,O[P]+=V.duration):(V.el_type==="scale"||V.el_type==="stem"||V.el_type==="overlay"||V.el_type==="style"||V.el_type==="transpose"||V.el_type==="color")&&q[U].voice.push(V)}q[U].hasOverlay&&q[U].snip.length===0&&q[U].snip.push({start:A,len:X.length-A})}for(U=0;U<q.length;U++){var W=q[U];if(W.hasOverlay){W.voice.splice(0,0,{el_type:"stem",direction:"down"}),H.voices.push(W.voice);for(var K=W.snip.length-1;K>=0;K--){var re=W.snip[K];H.voices[U].splice(re.start,re.len),H.voices[U].splice(re.start+1,0,{el_type:"stem",direction:"auto"});var he=c(H.voices[U],re.start);H.voices[U].splice(he,0,{el_type:"stem",direction:"up"})}for(K=0;K<H.voices[H.voices.length-1].length;K++){H.voices[H.voices.length-1][K]=Object.assign({},H.voices[H.voices.length-1][K]);var ee=H.voices[H.voices.length-1][K];ee.el_type==="bar"&&ee.startEnding&&delete ee.startEnding,ee.el_type==="bar"&&ee.endEnding&&delete ee.endEnding}}}}}return R}function c(E,R){for(var O=R-1;O>0&&E[O].el_type!=="bar";O--);return O}function u(E){for(var R=!0,O=0;O<E.length;O++){var P=E[O];if(P.staff){for(var j=0;j<P.staff.length;j++){var Y=P.staff[j];if(Y.title){for(var H=!1,q=0;q<Y.title.length;q++)Y.title[q]?(Y.title[q]=R?Y.title[q].name:Y.title[q].subname,Y.title[q]?H=!0:Y.title[q]=""):Y.title[q]="";H||delete Y.title}}R=!1}}}function f(E,R,O,P){P[R]||(P[R]=[]),P[R][O]||(P[R][O]=[]);for(var j,Y=function(K,re,he){if(P[R][O][he]===void 0){for(j=0;j<P[R][O].length;j++)if(P[R][O][j]!==void 0){he=j;break}if(P[R][O][he]===void 0){var ee=he*100+1;K.endSlur.forEach(function(le){ee===le&&--ee}),P[R][O][he]=[ee]}}for(var pe,Ce=0;Ce<re;Ce++)pe=P[R][O][he].pop(),K.endSlur.push(pe);return P[R][O][he].length===0&&delete P[R][O][he],pe},H=function(K,re,he,ee){K.startSlur=[],P[R][O][he]===void 0&&(P[R][O][he]=[]);for(var pe=he*100+1,Ce=0;Ce<re;Ce++)ee&&(ee.forEach(function(le){pe===le&&++pe}),ee.forEach(function(le){pe===le&&++pe}),ee.forEach(function(le){pe===le&&++pe})),P[R][O][he].forEach(function(le){pe===le&&++pe}),P[R][O][he].forEach(function(le){pe===le&&++pe}),P[R][O][he].push(pe),K.startSlur.push({label:pe}),K.dottedSlur&&(K.startSlur[K.startSlur.length-1].style="dotted",delete K.dottedSlur),pe++},q=0;q<E.length;q++){var U=E[q];if(U.el_type==="note"){if(U.gracenotes)for(var X=0;X<U.gracenotes.length;X++){if(U.gracenotes[X].endSlur){var I=U.gracenotes[X].endSlur;U.gracenotes[X].endSlur=[];for(var z=0;z<I;z++)Y(U.gracenotes[X],1,20)}U.gracenotes[X].startSlur&&(j=U.gracenotes[X].startSlur,H(U.gracenotes[X],j,20))}if(U.endSlur&&(j=U.endSlur,U.endSlur=[],Y(U,j,0)),U.startSlur&&(j=U.startSlur,H(U,j,0)),U.pitches){for(var A=[],B=0;B<U.pitches.length;B++)if(U.pitches[B].endSlur){var V=U.pitches[B].endSlur;U.pitches[B].endSlur=[];for(var Q=0;Q<V;Q++){var W=Y(U.pitches[B],1,B+1);A.push(W)}}for(B=0;B<U.pitches.length;B++)U.pitches[B].startSlur&&(j=U.pitches[B].startSlur,H(U.pitches[B],j,B+1,A));U.gracenotes&&U.pitches[0].endSlur&&U.pitches[0].endSlur[0]===100&&U.pitches[0].startSlur&&(U.gracenotes[0].endSlur?U.gracenotes[0].endSlur.push(U.pitches[0].startSlur[0].label):U.gracenotes[0].endSlur=[U.pitches[0].startSlur[0].label],U.pitches[0].endSlur.length===1?delete U.pitches[0].endSlur:U.pitches[0].endSlur[0]===100?U.pitches[0].endSlur.shift():U.pitches[0].endSlur[U.pitches[0].endSlur.length-1]===100&&U.pitches[0].endSlur.pop(),P[R][O][1].length===1?delete P[R][O][1]:P[R][O][1].pop())}}}}function d(E,R){for(i=0;i<E.length;i++)if(E[i].staff!==void 0)for(s=0;s<E[i].staff.length;s++){var O=[];for(v=0;v<E[i].staff[s].voices.length;v++)for(var P=E[i].staff[s].voices[v],j=0,Y=0;Y<P.length;Y++)if(P[Y].el_type==="bar"){if(j++,j>=R&&Y<P.length-1){var H=b(E,i);if(!H){var q=JSON.parse(JSON.stringify(E[i]));E.push(Object.assign({},q)),H=E[E.length-1];for(var U=0;U<H.staff.length;U++)for(var X=0;X<H.staff[U].voices.length;X++)H.staff[U].voices[X]=[]}var I=Y+1,z=E[i].staff[s].voices[v].slice(I);return E[i].staff[s].voices[v]=E[i].staff[s].voices[v].slice(0,I),H.staff[s].voices[v]=O.concat(z.concat(H.staff[s].voices[v])),!0}}else P[Y].duration||O.push(P[Y])}return!1}function g(E,R){if(E.length<=R)return null;for(;R>=0;){if(E[R].staff)return E[R];R--}return null}function b(E,R){for(R++;E.length>R;){if(E[R].staff)return E[R];R++}return null}function x(E){if(!E.lines[E.lineNum]||!E.lines[E.lineNum].staff||!E.lines[E.lineNum].staff[E.staffNum])return null;var R=E.lines[E.lineNum].staff[E.staffNum].voices[E.voiceNum];if(!R)return null;for(var O=R.length-1;O>=0;O--){var P=R[O];if(P.el_type==="note")return P}return null}function y(E){return E.duration?E.duration:0}function m(E){E.potentialStartBeam&&E.potentialEndBeam&&(E.potentialStartBeam.startBeam=!0,E.potentialEndBeam.endBeam=!0),delete E.potentialStartBeam,delete E.potentialEndBeam}function _(E){for(var R=0;R<E.length;R++)if(E[R].el_type==="note"||E[R].el_type==="bar")return!0;return!1}function p(E){for(var R=0;R<E.length;R++)if(E[R].el_type==="note"&&(E[R].rest===void 0||E[R].chord!==void 0))return!0;return!1}function w(E,R){E.vskipPending&&(R.vskip=E.vskipPending,delete E.vskipPending),E.lines.push(R)}function T(E,R,O,P,j){var Y=R.lines[R.lineNum].staff[R.staffNum];if(O.pitches!==void 0){var H=Y.workingClef.verticalPos;O.pitches.forEach(function(U){U.verticalPos=U.pitch-H})}if(O.gracenotes!==void 0){var q=Y.workingClef.verticalPos;O.gracenotes.forEach(function(U){U.verticalPos=U.pitch-q})}Y.voices.length<=R.voiceNum&&(P[j]||(P[j]={}),D(E,R,P[j])),Y.voices[R.voiceNum].push(O)}function C(E,R){R.potentialStartBeam.startBeam=!0,E.endBeam=!0,delete R.potentialStartBeam,delete R.potentialEndBeam}function N(E){E.potentialStartBeam!==void 0&&E.potentialEndBeam!==void 0&&(E.potentialStartBeam.startBeam=!0,E.potentialEndBeam.endBeam=!0),delete E.potentialStartBeam,delete E.potentialEndBeam}function k(E,R,O){if(E.runningFonts[R]){for(var P=!1,j=Object.keys(O),Y=0;Y<j.length;Y++)E.runningFonts[R][j[Y]]!==O[j[Y]]&&(P=!0);P&&(E.lines[E.lineNum].staff[E.staffNum][R]=O)}E.runningFonts[R]=O}function D(E,R,O){var P=R.lines[R.lineNum].staff[R.staffNum];if(P.voices[R.voiceNum]=[],P.title||(P.title=[]),P.title[R.voiceNum]={name:O.name,subname:O.subname},O.style&&E.appendElement("style",null,null,{head:O.style}),O.stem)E.appendElement("stem",null,null,{direction:O.stem});else if(R.voiceNum>0){if(P.voices[0]!==void 0){for(var j=!1,Y=0;Y<P.voices[0].length;Y++)P.voices[0].el_type==="stem"&&(j=!0);if(!j){var H={el_type:"stem",direction:"up"};P.voices[0].splice(0,0,H)}}E.appendElement("stem",null,null,{direction:"down"})}O.scale&&E.appendElement("scale",null,null,{size:O.scale}),O.color&&E.appendElement("color",null,null,{color:O.color})}function F(E,R,O){O.key&&O.key.impliedNaturals&&(O.key.accidentals=O.key.accidentals.concat(O.key.impliedNaturals),delete O.key.impliedNaturals),R.lines[R.lineNum].staff[R.staffNum]={voices:[],clef:O.clef,key:O.key,workingClef:O.clef};var P=R.lines[R.lineNum].staff[R.staffNum];O.stafflines!==void 0&&(P.clef.stafflines=O.stafflines,P.workingClef.stafflines=O.stafflines),O.staffscale&&(P.staffscale=O.staffscale),O.annotationfont&&k(R,"annotationfont",O.annotationfont),O.gchordfont&&k(R,"gchordfont",O.gchordfont),O.tripletfont&&k(R,"tripletfont",O.tripletfont),O.vocalfont&&k(R,"vocalfont",O.vocalfont),O.bracket&&(P.bracket=O.bracket),O.brace&&(P.brace=O.brace),O.connectBarLines&&(P.connectBarLines=O.connectBarLines),O.barNumber&&(P.barNumber=O.barNumber),D(E,R,O),O.part&&E.appendElement("part",O.part.startChar,O.part.endChar,{title:O.part.title}),O.meter!==void 0&&(P.meter=O.meter),R.vskipPending&&(R.lines[R.lineNum].vskip=R.vskipPending,delete R.vskipPending)}function G(E,R,O){R.lines[R.lineNum]={staff:[]},F(E,R,O)}return Fp=e,Fp}var Gp,y8;function fw(){if(y8)return Gp;y8=1;var t=wa(),e=r3(),o=Mz(),n=Nz(),a=Rz(),c=ow(),u=uw(),f=Bz(),d=function(){var g=new u,b=new f(g),x,y="",m="";this.getTune=function(){var Y={formatting:g.formatting,lines:g.lines,media:g.media,metaText:g.metaText,metaTextInfo:g.metaTextInfo,version:g.version,addElementToEvents:g.addElementToEvents,addUsefulCallbackInfo:g.addUsefulCallbackInfo,getTotalTime:g.getTotalTime,getTotalBeats:g.getTotalBeats,getBarLength:g.getBarLength,getBeatLength:g.getBeatLength,getBeatsPerMeasure:g.getBeatsPerMeasure,getBpm:g.getBpm,getMeter:g.getMeter,getMeterFraction:g.getMeterFraction,getPickupLength:g.getPickupLength,getKeySignature:g.getKeySignature,getElementFromChar:g.getElementFromChar,makeVoicesArray:g.makeVoicesArray,millisecondsPerMeasure:g.millisecondsPerMeasure,setupEvents:g.setupEvents,setTiming:g.setTiming,setUpAudio:g.setUpAudio,deline:g.deline,findSelectableElement:g.findSelectableElement,getSelectableArray:g.getSelectableArray};return g.lineBreaks&&(Y.lineBreaks=g.lineBreaks),g.visualTranspose&&(Y.visualTranspose=g.visualTranspose),Y};function _(Y,H,q){Y.positioning||(Y.positioning={}),Y.positioning[H]=q}function p(Y,H,q){Y.fonts||(Y.fonts={}),Y.fonts[H]=q}var w={reset:function(){for(var Y in this)this.hasOwnProperty(Y)&&typeof this[Y]!="function"&&delete this[Y];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(Y,H){return this[Y].decoration!==H[Y].decoration||this[Y].face!==H[Y].face||this[Y].size!==H[Y].size||this[Y].style!==H[Y].style||this[Y].weight!==H[Y].weight},addFormattingOptions:function(Y,H,q){q==="note"?(this.vocalPosition!=="auto"&&_(Y,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&_(Y,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&_(Y,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&_(Y,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&_(Y,"volumePosition",this.volumePosition),this.differentFont("annotationfont",H)&&p(Y,"annotationfont",this.annotationfont),this.differentFont("gchordfont",H)&&p(Y,"gchordfont",this.gchordfont),this.differentFont("vocalfont",H)&&p(Y,"vocalfont",this.vocalfont),this.differentFont("tripletfont",H)&&p(Y,"tripletfont",this.tripletfont)):q==="bar"&&(this.dynamicPosition!=="auto"&&_(Y,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&_(Y,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&_(Y,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&_(Y,"volumePosition",this.volumePosition),this.differentFont("measurefont",H)&&p(Y,"measurefont",this.measurefont),this.differentFont("repeatfont",H)&&p(Y,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var Y=0;Y<this.inTie.length;Y++)if(this.endingHoldOver.inTie.push([]),this.inTie[Y])for(var H=0;H<this.inTie[Y].length;H++)this.endingHoldOver.inTie[Y].push(this.inTie[Y][H]);for(var q in this.inTieChord)this.inTieChord.hasOwnProperty(q)&&(this.endingHoldOver.inTieChord[q]=this.inTieChord[q])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var Y=0;Y<this.endingHoldOver.inTie.length;Y++){this.inTie.push([]);for(var H=0;H<this.endingHoldOver.inTie[Y].length;H++)this.inTie[Y].push(this.endingHoldOver.inTie[Y][H])}for(var q in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(q)&&(this.inTieChord[q]=this.endingHoldOver.inTieChord[q])}}},T=function(Y){w.warnings||(w.warnings=[]),w.warnings.push(Y)},C=function(Y){w.warningObjects||(w.warningObjects=[]),w.warningObjects.push(Y)},N=function(Y){var H=Y.replace(/\x12/g," ");return H=H.replace(/&/g,"&amp;"),H=H.replace(/</g,"&lt;"),H.replace(/>/g,"&gt;")},k=function(Y,H,q){H||(H=" ");var U=H[q];(U===" "||!U)&&(U="SPACE");var X=N(H.substring(q-64,q))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+U+"</span>"+N(H.substring(q+1).substring(0,64));T("Music Line:"+x.lineIndex+":"+(q+1)+": "+Y+":  "+X),C({message:Y,line:H,startChar:w.iChar+q,column:q})},D,F;this.getWarnings=function(){return w.warnings},this.getWarningObjects=function(){return w.warningObjects};var G=function(Y,H){if(H.indexOf("")>=0){y+=H;return}if(H=y+H,y="",!Y){k("Can't add words before the first line of music",Y,0);return}H=t.strip(H),H[H.length-1]!=="-"&&(H=H+" ");for(var q=[],U=0,X=!1,I=function(B){var V=t.strip(H.substring(U,B));if(V=V.replace(/\\([-_*|~])/g,"$1"),U=B+1,V.length>0){X&&(V=V.replace(/~/g," "));var Q=H[B];return Q!=="_"&&Q!=="-"&&(Q=" "),q.push({syllable:x.translateString(V),divider:Q}),X=!1,!0}return!1},z=!1,A=0;A<H.length;A++){switch(H[A]){case" ":case"":I(A);break;case"-":!z&&!I(A)&&q.length>0&&(t.last(q).divider="-",q.push({skip:!0,to:"next"}));break;case"_":z||(I(A),q.push({skip:!0,to:"slur"}));break;case"*":z||(I(A),q.push({skip:!0,to:"next"}));break;case"|":z||(I(A),q.push({skip:!0,to:"bar"}));break;case"~":z||(X=!0);break}z=H[A]==="\\"}Y.forEach(function(B){if(q.length!==0){if(q[0].skip){switch(q[0].to){case"next":B.el_type==="note"&&B.pitches!==null&&q.shift();break;case"slur":B.el_type==="note"&&B.pitches!==null&&q.shift();break;case"bar":B.el_type==="bar"&&q.shift();break}B.el_type!=="bar"&&(B.lyric===void 0?B.lyric=[{syllable:"",divider:" "}]:B.lyric.push({syllable:"",divider:" "}))}else if(B.el_type==="note"&&B.rest===void 0){var V=q.shift();V.syllable&&(V.syllable=V.syllable.replace(/ +/g," ")),B.lyric===void 0?B.lyric=[V]:B.lyric.push(V)}}})},E=function(Y,H){if(H.indexOf("")>=0){m+=H;return}if(H=m+H,m="",!Y){k("Can't add symbols before the first line of music",Y,0);return}H=t.strip(H),H[H.length-1]!=="-"&&(H=H+" ");for(var q=[],U=0,X=!1,I=function(A){var B=t.strip(H.substring(U,A));if(U=A+1,B.length>0){X&&(B=B.replace(/~/g," "));var V=H[A];return V!=="_"&&V!=="-"&&(V=" "),q.push({syllable:x.translateString(B),divider:V}),X=!1,!0}return!1},z=0;z<H.length;z++)switch(H[z]){case" ":case"":I(z);break;case"-":!I(z)&&q.length>0&&(t.last(q).divider="-",q.push({skip:!0,to:"next"}));break;case"_":I(z),q.push({skip:!0,to:"slur"});break;case"*":I(z),q.push({skip:!0,to:"next"});break;case"|":I(z),q.push({skip:!0,to:"bar"});break;case"~":X=!0;break}Y.forEach(function(A){if(q.length!==0){if(q[0].skip)switch(q[0].to){case"next":A.el_type==="note"&&A.pitches!==null&&q.shift();break;case"slur":A.el_type==="note"&&A.pitches!==null&&q.shift();break;case"bar":A.el_type==="bar"&&q.shift();break}else if(A.el_type==="note"&&A.rest===void 0){var B=q.shift();A.lyric===void 0?A.lyric=[B]:A.lyric.push(B)}}})},R=function(Y){if(t.startsWith(Y,"%%")){var H=e.addDirective(Y.substring(2));H&&k(H,Y,2);return}var q=Y.indexOf("%");if(q>=0&&(Y=Y.substring(0,q)),Y=Y.replace(/\s+$/,""),Y.length!==0){if(y){G(b.getCurrentVoice(),Y.substring(2));return}if(m){E(b.getCurrentVoice(),Y.substring(2));return}if(Y.length<2||Y[1]!==":"||F.lineContinuation){F.parseMusic(Y);return}var U=D.parseHeader(Y);U.regular&&F.parseMusic(Y),U.newline&&F.startNewLine(),U.words&&G(b.getCurrentVoice(),Y.substring(2)),U.symbols&&E(b.getCurrentVoice(),Y.substring(2))}};function O(Y,H){Y.push({el_type:"hint"});for(var q=0;q<H.length;q++){var U=H[q],X=Object.assign({},U);if(Y.push(X),U.el_type==="bar")return}}function P(Y,H){for(var q=0;q<Y.length;q++){var U=Y[q],X=H[q];if(X)for(var I=0;I<X.voices.length;I++){var z=X.voices[I],A=U.voices[I];A&&O(A,z)}}}function j(){for(var Y=0;Y<g.lines.length;Y++){var H=g.lines[Y].staff;if(H){for(var q=Y+1;q<g.lines.length&&g.lines[q].staff===void 0;)q++;if(q<g.lines.length){var U=g.lines[q].staff;P(H,U)}}}}this.parse=function(Y,H,q){H||(H={}),q||(q=0),g.reset(),Y=Y.replace(/\r\n?/g,`
`)+`
`;var U=Y.split(`
\\`);if(U.length>1){for(var X=1;X<U.length;X++)for(;U[X].length>0&&U[X][0]!==`
`;)U[X]=U[X].substr(1),U[X-1]+=" ";Y=U.join("  ")}Y=Y.replace(/\\([ \t]*)(%.*)*\n/g,function(W,K,re){var he=re?Array(re.length+1).join(" "):"";return K+""+he+`
`});var I=Y.split(`
`);t.last(I).length===0&&I.pop(),x=new a(I,w),D=new o(x,k,w,g,b),F=new n(x,k,w,g,b,D),H.print&&(g.media="print"),w.reset(),w.iChar=q,H.visualTranspose?(w.globalTranspose=parseInt(H.visualTranspose),w.globalTranspose===0?w.globalTranspose=void 0:b.setVisualTranspose(H.visualTranspose)):w.globalTranspose=void 0,H.lineBreaks&&(w.lineBreaks=H.lineBreaks),D.reset(x,k,w,g);try{H.format&&e.globalFormatting(H.format);for(var z=x.nextLine();z;){if(H.header_only&&w.is_in_header===!1||H.stop_on_warning&&w.warnings)throw"normal_abort";var A=w.is_in_header;R(z),A&&!w.is_in_header&&(b.setRunningFont("annotationfont",w.annotationfont),b.setRunningFont("gchordfont",w.gchordfont),b.setRunningFont("tripletfont",w.tripletfont),b.setRunningFont("vocalfont",w.vocalfont)),z=x.nextLine()}y&&G(b.getCurrentVoice(),""),m&&E(b.getCurrentVoice(),""),w.openSlurs=b.cleanUp(w.barsperstaff,w.staffnonote,w.openSlurs)}catch(W){if(W!=="normal_abort")throw W}var B=11*72,V=8.5*72;switch(w.papersize){case"legal":B=14*72,V=8.5*72;break;case"A4":B=11.7*72,V=8.3*72;break}if(w.landscape){var Q=B;B=V,V=Q}g.formatting.pagewidth||(g.formatting.pagewidth=V),g.formatting.pageheight||(g.formatting.pageheight=B),H.hint_measures&&j(),c.wrapLines(g,w.lineBreaks,w.barNumbers)}};return Gp=d,Gp}var $p,b8;function Lz(){if(b8)return $p;b8=1;var t=wa(),e=function(o){var n="",a=o.match(/(\s*)/);o=t.strip(o);for(var c=o.split(`
X:`),u=1;u<c.length;u++)c[u]="X:"+c[u];var f=a?a[0].length:0,d=[];if(c.forEach(function(y){d.push({abc:y,startPos:f}),f+=y.length+1}),d.length>1&&!t.startsWith(d[0].abc,"X:")){var g=d.shift(),b=g.abc.split(`
`);b.forEach(function(y){t.startsWith(y,"%%")&&(n+=y+`
`)})}var x=n;return d.forEach(function(y){var m=y.abc.indexOf(`

`);m>0&&(y.abc=y.abc.substring(0,m)),y.pure=y.abc,y.abc=n+y.abc,y.title="";var _=y.pure.split("T:");_.length>1&&(_=_[1].split(`
`),y.title=t.strip(_[0]));var p=y.pure.substring(2,y.pure.indexOf(`
`));y.id=t.strip(p)}),{header:x,tunes:d}};return $p=e,$p}var Xp,_8;function qz(){if(_8)return Xp;_8=1;function t(e,o){this.numLines=e,this.lineSpace=o,this.verticalSize=this.numLines*this.lineSpace;var n=3;this.bar={pitch:n,pitch2:o*e,height:5}}return t.prototype.bypass=function(e){var o=e.staffGroup.voices;return!!(o.length>0&&o[0].isPercussion)},t.prototype.setRelative=function(e,o,n){switch(e.type){case"bar":o.pitch=this.bar.pitch,o.pitch2=this.bar.pitch2,o.height=this.height;break;case"symbol":var a=this.bar.pitch2/2;if(e.name=="dots.dot")return n?(o.pitch=a,!1):(o.pitch=a+this.lineSpace,!0);break}return n},Xp=t,Xp}var Vp,x8;function hw(){if(x8)return Vp;x8=1;var t=function(o,n){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=o,this.voicetotal=n,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};return t.prototype.addChild=function(e){if(e.type==="bar"){for(var o=!0,n=0;o&&n<this.children.length;n++)this.children[n].type.indexOf("staff-extra")<0&&this.children[n].type!=="tempo"&&(o=!1);o||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)},t.prototype.setLimit=function(e,o){var n=o.specialY;n||(n=o),n[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],n[e]):this.specialY[e]=n[e])},t.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))},t.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)},t.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)},t.prototype.addBeam=function(e){this.beams.push(e)},t.prototype.setWidth=function(e){this.w=e},Vp=t,Vp}var Ip,w8;function a3(){if(w8)return Ip;w8=1;var t=function(e,o,n,a){if(e)for(var c=0;c<e.length;c++){var u=e[c],f=u.getAttribute("highlight");f||(f="fill"),u.setAttribute(f,a);var d=u.getAttribute("class");d||(d=""),d=d.replace(n,""),d=d.replace(o,""),o.length>0&&(d.length>0&&d[d.length-1]!==" "&&(d+=" "),d+=o),u.setAttribute("class",d)}};return Ip=t,Ip}var Zp,S8;function dw(){if(S8)return Zp;S8=1;var t=a3(),e=function(o,n){o===void 0&&(o="abcjs-note_selected"),n===void 0&&(n="#ff0000"),t(this.elemset,o,"",n)};return Zp=e,Zp}var Qp,T8;function pw(){if(T8)return Qp;T8=1;var t=a3(),e=function(o,n){o===void 0&&(o="abcjs-note_selected"),n===void 0&&(n="#000000"),t(this.elemset,"",o,n)};return Qp=e,Qp}var Kp,C8;function ko(){if(C8)return Kp;C8=1;var t=dw(),e=pw(),o=function(a,c,u,f,d,g){g||(g={}),this.tuneNumber=d,this.abcelem=a,this.duration=c,this.durationClass=g.durationClassOveride?g.durationClassOveride:this.duration,this.minspacing=u||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=f,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};return o.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}},o.prototype.addExtra=function(n){this.fixed.w=Math.max(this.fixed.w,n.dx+n.w),this.fixed.t===void 0?this.fixed.t=n.top:this.fixed.t=Math.max(this.fixed.t,n.top),this.fixed.b===void 0?this.fixed.b=n.bottom:this.fixed.b=Math.min(this.fixed.b,n.bottom),n.dx<this.extraw&&(this.extraw=n.dx),this.extra[this.extra.length]=n,this._addChild(n)},o.prototype.addHead=function(n){n.dx<this.extraw&&(this.extraw=n.dx),this.heads[this.heads.length]=n,this.addRight(n)},o.prototype.addRight=function(n){this.fixed.w=Math.max(this.fixed.w,n.dx+n.w),n.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=n.top:this.fixed.t=Math.max(this.fixed.t,n.top)),n.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=n.bottom:this.fixed.b=Math.min(this.fixed.b,n.bottom)),n.dx+n.w>this.w&&(this.w=n.dx+n.w),this.right[this.right.length]=n,this._addChild(n)},o.prototype.addFixed=function(n){this._addChild(n)},o.prototype.addFixedX=function(n){this._addChild(n)},o.prototype.addCentered=function(n){var a=n.w/2;-a<this.extraw&&(this.extraw=-a),this.extra[this.extra.length]=n,n.dx+a>this.w&&(this.w=n.dx+a),this.right[this.right.length]=n,this._addChild(n)},o.prototype.setLimit=function(n,a){a[n]&&(this.specialY[n]?this.specialY[n]=Math.max(this.specialY[n],a[n]):this.specialY[n]=a[n])},o.prototype._addChild=function(n){var a=!0;this.abcelem.el_type=="clef"&&n.type=="barNumber"&&(a=!1),n.parent=this,this.children[this.children.length]=n,a&&this.pushTop(n.top),this.pushBottom(n.bottom),this.setLimit("tempoHeightAbove",n),this.setLimit("partHeightAbove",n),this.setLimit("volumeHeightAbove",n),this.setLimit("dynamicHeightAbove",n),this.setLimit("endingHeightAbove",n),this.setLimit("chordHeightAbove",n),this.setLimit("lyricHeightAbove",n),this.setLimit("lyricHeightBelow",n),this.setLimit("chordHeightBelow",n),this.setLimit("volumeHeightBelow",n),this.setLimit("dynamicHeightBelow",n)},o.prototype.pushTop=function(n){n!==void 0&&(this.top===void 0?this.top=n:this.top=Math.max(n,this.top))},o.prototype.pushBottom=function(n){n!==void 0&&(this.bottom===void 0?this.bottom=n:this.bottom=Math.min(n,this.bottom))},o.prototype.setX=function(n){this.x=n;for(var a=0;a<this.children.length;a++)this.children[a].setX(n)},o.prototype.center=function(n,a){var c=(a.x-n.x)/2+n.x;this.x=c-this.w/2;for(var u=0;u<this.children.length;u++)this.children[u].setX(this.x)},o.prototype.setHint=function(){this.hint=!0},o.prototype.highlight=function(n,a){t.bind(this)(n,a)},o.prototype.unhighlight=function(n,a){e.bind(this)(n,a)},Kp=o,Kp}var Wp,E8;function Gi(){if(E8)return Wp;E8=1;var t=function(o,n,a,c,u){switch(u=u||{},this.x=0,this.c=o,this.dx=n,this.w=a,this.pitch=c,this.scalex=u.scalex||1,this.scaley=u.scaley||1,this.type=u.type||"symbol",this.pitch2=u.pitch2,this.linewidth=u.linewidth,this.klass=u.klass,this.anchor=u.anchor?u.anchor:"middle",this.top=c,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=c,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),u.thickness&&(this.top+=u.thickness/2,this.bottom-=u.thickness/2),u.stemHeight&&(u.stemHeight>0?this.top+=u.stemHeight:this.bottom+=u.stemHeight),u.dim&&(this.dim=u.dim),u.position&&(this.position=u.position),this.height=u.height?u.height:4,u.top&&(this.top=u.top),u.bottom&&(this.bottom=u.bottom),u.name?this.name=u.name:this.c?this.name=this.c:this.name=this.type,u.realWidth?this.realWidth=u.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":u.position&&u.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":u.position&&u.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?u.position&&u.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};return t.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,o=this.type==="chord"?this.realWidth/2:0,n=this.x-o-e,a=n+this.realWidth+e;return{left:n,right:a}},t.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1},t.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane},t.prototype.getLane=function(){return this.lane===void 0?0:this.lane},t.prototype.setX=function(e){this.x=e+this.dx},Wp=t,Wp}var Jp,A8;function jz(){if(A8)return Jp;A8=1;var t=ko(),e=Gi();function o(p){return p!=null&&p.constructor===Object}function n(p,w){for(var T in w)w.hasOwnProperty(T)&&(Array.isArray(w[T])||o(w[T])||(p[T]=w[T]))}function a(p){var w=new t("",0,0,"",0);return n(w,p),w.top=0,w.bottom=-1,p.abcelem&&(w.abcelem={},n(w.abcelem,p.abcelem),w.abcelem.el_type==="note"&&(w.abcelem.el_type="tabNumber")),p.cloned=w,w}function c(p,w){var T=a(p);if(w)for(var C=p.children,N=!0,k=0;k<C.length;k++){var D=C[k],F=new e("",0,0,0,"");n(F,D),N=w.tablature.setRelative(D,F,N),T.children.push(F)}return T}function u(p,w,T){var C="tab.tiny",N=7.5;p.isTabBig&&(C="tab.big",N=10);var k={el_type:"tab",icon:C,Ypos:N};if(N+=p.tabSymbolOffset,!p.hideTabSymbol){var D=new t(k,0,0,"symbol",0);D.x=w;var F=new e(C,0,0,7.5,"tab");F.x=T,D.children.push(F),D.abcelem.el_type=="tab"&&(F.pitch=N)}return D}function f(p){if(p.extra)for(var w=0;w<p.extra.length;w++){var T=p.extra[w];if(T.type=="lyric")return{bottom:T.bottom,height:T.height}}return null}function d(){this.accidentals=null}function g(p){for(var w=0,T=0;T<p.length;T++)p[T].tabNameInfos||w++;return w}function b(p,w,T,C,N){var k=C.num;C.note.quarter!=null&&(k=k.toString(),k+=C.note.quarter);var D=p.semantics.stringToPitch(C.str);T.notes.push({num:k,str:C.str,pitch:C.note.emit()});var F={type:"tabNumber"},G=new e(k,0,0,D+.3,F);return G.x=w,G.isGrace=N,G.isAltered=C.note.isAltered,G}function x(p,w){var T=0;if(p.extra){for(var C=0;C<p.extra.length;C++)if(p.extra[C].c.indexOf("noteheads")>=0){if(T===w)return p.extra[C].x+p.extra[C].w/2;T++}}return-1}function y(p){if(p.abcelem){var w=p.abcelem;if(w.rest)return w.gracenotes}return null}function m(p,w,T){var C=p.semantics.notesToNumber(w,T);if(C.error)return p.setError(C.error),C;if(C.graces&&C.notes){var N=C.notes.length-1;C.notes[N].graces=C.graces}return C}function _(p,w,T,C,N){for(var k=0;k<C.length;k++){var D={el_type:"note",startChar:T.abcelem.startChar,endChar:T.abcelem.endChar,notes:[],grace:!0},F=x(T,k),G=C[k],E=b(p,F,D,G,!0);w.children.push(E),N.push(D)}}return d.prototype.build=function(p,w,T,C,N,k,D){g(w);var F=w[N+C],G=w[D],E=null,R=null;F.children[0].abcelem.el_type!="clef"&&k!="none"&&F.children.splice(0,0,k);for(var O=0;O<F.children.length;O++){var P=F.children[O],j=P.x,Y=j;switch(P.isClef&&(G.children.push(u(p,j,Y)),P.abcelem.type.indexOf("-8")>=0&&(p.semantics.clefTranspose=-12),P.abcelem.type.indexOf("+8")>=0&&(p.semantics.clefTranspose=12)),P.type){case"staff-extra key-signature":this.accidentals=P.abcelem.accidentals,p.semantics.accidentals=this.accidentals;break;case"bar":p.semantics.measureAccidentals={};var H=!1;O===F.children.length-1&&(H=!0);var q=c(P,p);if(q.abcelem.barNumber){delete q.abcelem.barNumber;for(var U=0;U<q.children.length;U++)if(q.children[U].type==="barNumber"){q.children.splice(U,1);break}}q.abcelem.lastBar=H,G.children.push(q),T.push({el_type:P.abcelem.el_type,type:P.abcelem.type,endChar:P.abcelem.endChar,startChar:P.abcelem.startChar,abselem:q});break;case"rest":var X=y(P);if(X){if(E=m(p,null,X),E.error)return;K={el_type:"note",startChar:P.abcelem.startChar,endChar:P.abcelem.endChar,notes:[],grace:!0},_(p,I,P,E.graces,T)}break;case"note":var I=a(P);I.x=P.heads[0].x+P.heads[0].w/2,I.lyricDim=f(P);var z=P.abcelem.pitches,A=P.abcelem.gracenotes;if(I.type="tabNumber",E=m(p,z,A),E.error)return;if(E.graces){var B=E.notes.length-1;E.notes[B].graces=E.graces}R={el_type:"note",startChar:P.abcelem.startChar,endChar:P.abcelem.endChar,notes:[]};for(var V=0;V<E.notes.length;V++){var Q=E.notes[V];if(Q.graces)for(var W=0;W<Q.graces.length;W++){var K={el_type:"note",startChar:P.abcelem.startChar,endChar:P.abcelem.endChar,notes:[],grace:!0},re=x(P,W),he=Q.graces[W],ee=b(p,re,K,he,!0);I.children.push(ee),T.push(K)}var pe=b(p,I.x+P.heads[V].dx,R,Q,!1);I.children.push(pe)}R.notes.length>0&&(R.abselem=I,T.push(R),G.children.push(I));break}}},Jp=d,Jp}var eg,M8;function Pz(){if(M8)return eg;M8=1;var t=hw(),e=jz(),o=xr();function n(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function a(p){for(var w=0,T=0;T<p.children.length;T++){var C=p.children[T];C.specialY&&C.specialY.lyricHeightBelow>w&&(w=C.specialY.lyricHeightBelow)}return w}function c(p,w,T){var C=p.semantics,N=w.controller.getTextSize,k=C.tabInfos(p),D=C.suppress(p),F=!0;if(D&&(F=!1),F){var G=N.calc(k,"tablabelfont","text instrumentname");return T.tabNameInfos={textSize:{height:G.height,width:G.width},name:k},G.height}return 0}function u(p,w){return w[p].isTabStaff?p===w.length-1?!0:!w[p+1].isTabStaff:!1}function f(p){for(var w=0,T=0;T<p.length;T++)p[T].isTabStaff||w++;return w}function d(p,w){for(var T=w;T>=0;T--)if(!p[T].isTabStaff)return T;return-1}function g(p){for(var w=0;w<p.length;w++)if(p[w].isTabStaff){var T=d(p,w);p[w].hasStaff=p[T],p[T].hasTab||(p[T].hasTab=[]),p[T].hasTab.push(p[w])}}function b(p,w){return f(p)===1&&w.voices.length>1}function x(p,w){for(var T=0,C=0,N=!0,k=0;N;){if(!w[T])return-1;if(w[T].isTabStaff||(k=w[T].voices.length),w[T].isTabStaff){if(C++,u(T,w)&&C<k)return T+1}else if(C=0,T>=p&&(T+1==w.length||!w[T+1].isTabStaff))return T+1;if(T++,T>w.length)return-1}}function y(p,w){for(var T=w;T>=0;T--)if(!p[T].isTabStaff)return p[T];return null}function m(p,w){var T=p[w],C=T.children[0].abcelem;return C.el_type==="clef"?null:w==0?"none":p[w-1].children[0]}function _(p,w,T,C){var N=new e,k={clef:{type:"TAB"}},D=p.linePitch*p.nbLines,F=T.staff;if(F){var G=F[0];if(G&&G.clef&&G.clef.stafflines==0){p.setError("No tablatures when stafflines=0");return}F.splice(F.length,0,k)}var E=T.staffGroup,R=E.voices,O=R[0],P=a(O),j=3,Y=C,H=E.staffs[Y],q=D+j-H.bottom-P;H.isTabStaff&&(q=H.top);var U={bottom:-1,isTabStaff:!0,specialY:n(),lines:p.nbLines,linePitch:p.linePitch,dy:.15,top:q},X=x(C,E.staffs);if(X!==-1){U.parentIndex=X-1,E.staffs.splice(X,0,U),E.height+=D+j;var I=y(E.staffs,X),z=1;b(E.staffs,I)&&(z=I.voices.length),k.voices=[];for(var A=0;A<z;A++){var B=new t(0,0);A>0&&(B.duplicate=!0);var V=c(p,w,B)/o.STEP;V=Math.max(V,1),E.staffs[C].top+=1,E.height+=V,B.staff=U;var Q=R.length;R.splice(R.length,0,B);var W=m(R,A+C);k.voices[A]=[],N.build(p,R,k.voices[A],A,C,W,Q)}g(E.staffs)}}return eg=_,eg}var tg,k8;function gw(){if(k8)return tg;k8=1;var t={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},e=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function o(a){var c=a.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(c&&c.length===5){var u=t[c[1]],f=e.indexOf(c[2]),d=c[4].length-c[3].length;return 48+f+u+d*12}return 0}function n(a){a=parseInt(a,10);var c=Math.floor(a/12),u=a%12,f=e[u];if(f==="-"&&(f="^"+e[u-1]),c>4)for(f=f.toLowerCase(),c-=5;c>0;)f+="'",c--;else for(;c<4;)f+=",",c++;return f}return tg={noteToMidi:o,midiToNote:n},tg}var ng,N8;function vw(){if(N8)return ng;N8=1;var{noteToMidi:t,midiToNote:e}=gw();function o(a,c){var u=t(a);c&&(u+=c);var f=e(u),d=!1,g=!1,b=!1,x=null,y=null,m=!1,_=0;a.startsWith("_")?(d=!0,_=-1,a[1]=="/"?(d=!1,y="v",_=0):a[1]=="_"&&(m=!0,_-=1)):a.startsWith("^")?(g=!0,_=1,a[1]=="/"?(g=!1,y="^",_=0):a[1]=="^"&&(m=!0,_+=1)):a.startsWith("=")&&(x=!0,_=0),b=d||g||y!=null,(b||x)&&(y!=null||m?f=a.slice(2):f=a.slice(1));var p=(f.match(/,/g)||[]).length,w=(f.match(/'/g)||[]).length;this.pitch=u,this.pitchAltered=0,this.name=f,this.acc=_,this.isSharp=g,this.isKeySharp=!1,this.isDouble=m,this.isAltered=b,this.isFlat=d,this.isKeyFlat=!1,this.natural=x,this.quarter=y,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=p,this.isQuoted=w}function n(a){var c=a.name,u=new o(c);return u.pitch=a.pitch,u.hasComma=a.hasComma,u.isLower=a.isLower,u.isQuoted=a.isQuoted,u.isSharp=a.isSharp,u.isKeySharp=a.isKeySharp,u.isFlat=a.isFlat,u.isKeyFlat=a.isKeyFlat,u}return o.prototype.sameNoteAs=function(a){return a.pitch===this.pitch},o.prototype.isLowerThan=function(a){return a.pitch>this.pitch},o.prototype.checkKeyAccidentals=function(a,c){if(!(this.isAltered||this.natural)){if(c[this.name.toUpperCase()])switch(c[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(a)for(var u=this.name,f=0;f<a.length;f++){var d=a[f];u==d.note.toUpperCase()&&(d.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),d.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}},o.prototype.getAccidentalEquiv=function(){var a=n(this);return a.isSharp||a.isKeySharp?(a=a.nextNote(),a.isFlat=!0,a.isSharp=!1,a.isKeySharp=!1):(a.isFlat||a.isKeyFlat)&&(a=a.prevNote(),a.isSharp=!0,a.isFlat=!1,a.isKeyFlat=!1),a},o.prototype.nextNote=function(){var a=e(this.pitch+1+this.pitchAltered);return new o(a)},o.prototype.prevNote=function(){var a=e(this.pitch-1+this.pitchAltered);return new o(a)},o.prototype.emitNoAccidentals=function(){var a=this.name;this.isLower&&(a=a.toLowerCase());for(var c=0;c<this.isQuoted;c++)a+="'";for(var u=0;u<this.hasComma;u++)a+=",";return a},o.prototype.emit=function(){var a=this.name;(this.isSharp||this.isKeySharp)&&(a="^"+a,this.isDouble&&(a="^"+a)),(this.isFlat||this.isKeyFlat)&&(a="_"+a,this.isDouble&&(a="_"+a)),this.quarter&&(this.quarter=="^"?a="^/"+a:a="_/"+a),this.natural&&(a="="+a);for(var c=1;c<=this.hasComma;c++)a+=",";if(this.isLower){a=a.toLowerCase();for(var u=1;u<=this.isQuoted;u++)a+="'"}return a},ng=o,ng}var rg,R8;function Hz(){if(R8)return rg;R8=1;var t=vw(),e=["A","B","C","D","E","F","G"];function o(n,a){var c=new t(n),u=new t(a);if(u.isLowerThan(c)){var f=c.emit(),d=u.emit();return{error:"Invalid string Instrument tuning : "+d+" string lower than "+f+" string"}}var g=[],b=e.indexOf(c.name),x=e.indexOf(u.name);if(b==-1||x==-1)return g;for(var y=!1;!y;)g.push(c.emit()),c=c.nextNote(),c.sameNoteAs(u)&&(y=!0);return g}return rg=o,rg}var ig,D8;function Yz(){if(D8)return ig;D8=1;const{noteToMidi:t}=gw();var e=vw(),o=Hz();function n(y){var m=null,_=y.tuning;if(y.capo>0){m=[];for(var p=0;p<_.length;p++){for(var w=new e(_[p]),T=0;T<y.capo;T++)w=w.nextNote();m[p]=w.emit()}}return m}function a(y){var m=[],_=y.tuning;y.capo>0&&(_=y.capoTuning);for(var p=_.length-1,w=0;w<_.length;w++){var T=y.highestNote;w!=_.length-1&&(T=_[w+1]);var C=o(_[w],T);if(C.error)return C;m[p--]=C}return m}function c(y){var m=[];m[0]=[];for(var _=y.strings,p=1;p<_.length;p++)m[p]=_[p-1];return m}function u(y,m){for(var _=0;_<m.length-1;_++){var p=m[_],w=m[_+1];if(p.str==w.str){if(p.str==y.strings.length-1){p.num="?",w.num="?";return}w.num<p.num?(w.str++,w=d(y,w.note,w.str,y.secondPos,y.strings[w.str].length)):(p.str++,p=d(y,p.note,p.str,y.secondPos,y.strings[p.str].length)),m[_]=p,m[_+1]=w}}return null}function f(y,m){for(var _=[],p=0;p<m.length;p++)if(!m[p].endTie){var w=new e(m[p].name,y.clefTranspose);w.checkKeyAccidentals(y.accidentals,y.measureAccidentals);var T=g(y,w);_.push(T)}return u(y,_),_}function d(y,m,_,p,w){var T=y.strings;m.checkKeyAccidentals(y.accidentals,y.measureAccidentals),p&&(T=p);var C=m.emitNoAccidentals(),N=T[_].indexOf(C),k=m.acc;if(N!=-1){if(p&&(N+=w),(m.isFlat||m.acc==-1)&&N==0){var D=m.getAccidentalEquiv();_++,N=T[_].indexOf(D.emit()),k=0}return{num:N+k,str:_,note:m}}return null}function g(y,m){if(m.isAltered||m.natural){var _;m.isFlat?m.isDouble?_="__":_="_":m.isSharp?m.isDouble?_="^^":_="^":m.natural&&(_="="),y.measureAccidentals[m.name.toUpperCase()]=_}for(var p=y.stringPitches.length-1;p>=0;p--)if(m.pitch+m.pitchAltered>=y.stringPitches[p]){var w=m.pitch+m.pitchAltered-y.stringPitches[p];return m.quarter==="^"?w-=.5:m.quarter==="v"&&(w+=.5),{num:Math.round(w),str:y.stringPitches.length-1-p,note:m}}return{num:"?",str:y.stringPitches.length-1,note:m}}x.prototype.stringToPitch=function(y){var m=5.3,_=this.strings.length-1;return m+(_-y)*this.linePitch};function b(y,m){var _={num:"?",str:0,note:m};y.push(_),y.error=m.emit()+": unexpected note for instrument"}x.prototype.notesToNumber=function(y,m){var _,p,w=null,T=null;if(y&&(T=[],y.length>1?(T=f(this,y),T.error&&(w=T.error)):y[0].endTie||(_=new e(y[0].name,this.clefTranspose),_.checkKeyAccidentals(this.accidentals,this.measureAccidentals),p=g(this,_),p?T.push(p):(b(T,_),w=T.error))),w)return T;var C=null;if(m){C=[];for(var N=0;N<m.length;N++)_=new e(m[N].name,this.clefTranspose),_.checkKeyAccidentals(this.accidentals,this.measureAccidentals),p=g(this,_),p?C.push(p):(b(C,_),w=T.error)}return{notes:T,graces:C,error:w}},x.prototype.toString=function(){for(var y=[],m=0;m<this.tuning.length;m++){var _=this.tuning[m].replaceAll(",","").replaceAll("'","").toUpperCase();_[0]==="_"?_=_[1]+"b ":_[0]==="^"&&(_=_[1]+"# "),y.push(_)}return y.join("")},x.prototype.tabInfos=function(y){var m=y.params.label;if(m){var _=m.indexOf("%T"),p="";return _!=-1&&(p=this.toString(),y.capo>0&&(p+=" capo:"+y.capo),m=m.replace("%T",p)),m}return""},x.prototype.suppress=function(y){var m=y.params.suppress;return!!m};function x(y){var m=y.tuning,_=y.capo,p=y.params.highestNote;this.linePitch=y.linePitch,this.highestNote="a'",p&&(this.highestNote=p),this.measureAccidentals={},this.capo=0,_&&(this.capo=parseInt(_,10)),this.transpose=y.transpose?y.transpose:0,this.tuning=m,this.stringPitches=[];for(var w=0;w<this.tuning.length;w++){var T=t(this.tuning[w])+this.capo;this.stringPitches.push(T)}if(this.capo>0&&(this.capoTuning=n(this)),this.strings=a(this),this.strings.error){y.setError(this.strings.error),y.inError=!0;return}this.secondPos=c(this)}return ig=x,ig}var ag,O8;function Uz(){if(O8)return ag;O8=1;var t=qz(),e=Pz(),o=Yz();n.prototype.init=function(c,u,f,d){this.tune=c,this.params=f,this.tuneNumber=u,this.inError=!1,this.abcTune=c,this.linePitch=3,this.nbLines=d.defaultTuning.length,this.isTabBig=d.isTabBig,this.tabSymbolOffset=d.tabSymbolOffset,this.capo=f.capo,this.transpose=f.visualTranspose,this.hideTabSymbol=f.hideTabSymbol,this.tablature=new t(this.nbLines,this.linePitch);var g=f.tuning;g||(g=d.defaultTuning),this.tuning=g,this.semantics=new o(this)},n.prototype.setError=function(c){c&&(this.error=c,this.inError=!0,this.tune.warnings?this.tune.warnings.push(c):this.tune.warnings=[c])},n.prototype.render=function(c,u,f){this.inError||this.tablature.bypass(u)||e(this,c,u,f)};function n(){}var a=function(){return{name:"StringTab",tablature:n}};return ag=a,ag}var sg,z8;function mw(){if(z8)return sg;z8=1;var t=Uz(),e={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},o={inited:!1,plugins:{},register:function(n){var a=n.name,c=n.tablature;this.plugins[a]=c},setError:function(n,a){n.warnings?n.warning.push(a):n.warnings=[a]},preparePlugins:function(n,a,c){this.inited||(this.register(new t),this.inited=!0);var u=null;if(c.tablature){var f=c.tablature;u=[];for(var d=0;d<f.length;d++){var g=f[d],b=g.instrument;if(b==null)return this.setError(n,"tablature 'instrument' is missing"),u;var x=e[b],y=null;if(x&&(y=this.plugins[x.name]),y){c.visualTranspose!=0&&(g.visualTranspose=c.visualTranspose),g.abcSrc=c.tablature.abcSrc;var m={classz:y,tuneNumber:a,params:g,instance:null,tabType:x};u.push(m)}else if(b==="")u.push(null);else return this.setError(n,"Undefined tablature plugin: "+b),u}}return u},layoutTablatures:function(a,c){var u=c.tablatures,f=0;if(u&&u.length>0)for(var d=u.length,g=0;g<d;++g)u[g]&&u[g].params.firstStaffOnly&&(u[g].params.suppress=!1);for(var b=0;b<c.lines.length;b++){var x=c.lines[b];if(x.staff&&f++,f>1&&u&&u.length>0)for(var d=u.length,g=0;g<d;++g)u[g].params.firstStaffOnly&&(u[g].params.suppress=!0);var y=x.staff;if(y){for(var m=y.length,_=0;_<y.length;_++)if(u[_]&&_<m){var p=u[_];p.instance==null&&(p.instance=new p.classz,p.instance.init(c,p.tuneNumber,p.params,p.tabType)),p.instance.render(a,x,_)}}}}};return sg=o,sg}var og,B8;function kh(){if(B8)return og;B8=1;var t=fw(),e=Lz(),o=mw(),n={};return function(){n.numberOfTunes=function(c){var u=c.split(`
X:`),f=u.length;return f===0&&(f=1),f};var a=n.TuneBook=function(c){var u=e(c);this.header=u.header,this.tunes=u.tunes};a.prototype.getTuneById=function(c){for(var u=0;u<this.tunes.length;u++)if(this.tunes[u].id===""+c)return this.tunes[u];return null},a.prototype.getTuneByTitle=function(c){for(var u=0;u<this.tunes.length;u++)if(this.tunes[u].title===c)return this.tunes[u];return null},n.parseOnly=function(c,u){for(var f=n.numberOfTunes(c),d=[],g=0;g<f;g++)d.push(1);function b(){}return n.renderEngine(b,d,c,u)},n.renderEngine=function(c,u,f,d){var g=[],b=function(N){return N&&!N.propertyIsEnumerable("length")&&typeof N=="object"&&typeof N.length=="number"};if(!(u===void 0||f===void 0)){b(u)||(u=[u]),d===void 0&&(d={});for(var x=d.startingTune?parseInt(d.startingTune,10):0,y=new a(f),m=new t,_=0;_<u.length;_++){var p=u[_];if(p==="*"||typeof p=="string"&&(p=document.getElementById(p)),p)if(x>=0&&x<y.tunes.length){m.parse(y.tunes[x].abc,d,y.tunes[x].startPos-y.header.length);var w=m.getTune();d.tablature&&(w.tablatures=o.preparePlugins(w,x,d));var T=m.getWarnings();T&&(w.warnings=T);var C=c(p,w,_,y.tunes[x].abc);g.push(C||w)}else p.innerHTML&&(p.innerHTML="");x++}return g}},n.extractMeasures=function(c){for(var u=[],f=new a(c),d=0;d<f.tunes.length;d++){for(var g=f.tunes[d],b=g.abc.split("K:"),x=b[1].split(`
`),y=b[0]+"K:"+x[0]+`
`,m=null,_=null,p=null,w=[],T=!1,C=n.parseOnly(g.abc)[0],N=C.getPickupLength()>0,k=0;k<C.lines.length;k++){var D=C.lines[k];if(D.staff)for(var F=0;F<1;F++)for(var G=D.staff[F],E=0;E<1;E++)for(var R=G.voices[E],O=0;O<R.length;O++){var P=R[O];if(p===null&&P.startChar>=0&&(p=P.startChar,P.chord===void 0?_=m:_=null),P.chord&&(m=P),P.el_type==="bar"){if(T){var j=g.abc.substring(p,P.endChar),Y={abc:j};m=_&&_.chord&&_.chord.length>0?_.chord[0].name:null,m&&(Y.lastChord=m),P.startEnding&&(Y.startEnding=P.startEnding),P.endEnding&&(Y.endEnding=P.endEnding),w.push(Y),p=null,T=!1}}else P.el_type==="note"&&(T=!0)}}u.push({header:y,measures:w,hasPickup:N})}return u}}(),og=n,og}var lg,L8;function Fz(){if(L8)return lg;L8=1;var t=aw(),{relativeMajor:e,transposeKey:o,relativeMode:n}=iw(),a=rw(),c;return function(){c=function(R,O,P){if(O==="TEST")return{keyAccidentals:t,relativeMajor:e,transposeKey:o,relativeMode:n,transposeChordName:a};P=parseInt(P,10);var j=[],Y;for(Y=0;Y<O.length;Y++)j=j.concat(u(R,O[Y],P));j=j.sort(function(U,X){return X.start-U.start});var H=R.split("");for(Y=0;Y<j.length;Y++){var q=j[Y];H.splice(q.start,q.end-q.start,q.note)}return H.join("")};function u(R,O,P){var j=[],Y=O.getKeySignature();if(Y.root==="Hp"||Y.root==="HP")return j;j=j.concat(f(R,P));for(var H=0;H<O.lines.length;H++){var q=O.lines[H].staff;if(q)for(var U=0;U<q.length;U++){var X=q[U];X.clef.type!=="perc"&&(j=j.concat(d(R,X.voices,X.key,P)))}}return j}function f(R,O){for(var P=[],j=R.split("K:"),Y=j[0].length,H=1;H<j.length;H++){var q=j[H],U=q.match(/^( *)([A-G])([#b]?)( ?)(\w*)/);if(U){var X=Y+2+U[1].length,I=U[2]+U[3]+U[4]+U[5],z=_({root:U[2],acc:U[3],mode:U[5]},O),A=z.root+z.acc+U[4]+z.mode;P.push({start:X,end:X+I.length,note:A})}Y+=q.length+2}return P}function d(R,O,P,j){for(var Y=[],H=_(P,j),q=0;q<O.length;q++)Y=Y.concat(x(R,O[q],P.root,g(P),H,j));return Y}function g(R){for(var O={},P=0;P<R.accidentals.length;P++){var j=R.accidentals[P];j.acc==="flat"?O[j.note.toUpperCase()]="_":j.acc==="sharp"&&(O[j.note.toUpperCase()]="^")}return O}function b(R,O,P){var j=y.indexOf(R.root)-y.indexOf(O);return O==="none"&&(j=y.indexOf(R.root)),j===0?P>2?j+=7:P===-12&&(j-=7):P>0&&j<0?j+=7:P<0&&j>0&&(j-=7),P>12?j+=7:P<-12&&(j-=7),j}function x(R,O,P,j,Y,H){for(var q=[],U=b(Y,P,H),X={},I={},z=0;z<O.length;z++){var A=O[z];if(A.chord)for(var B=0;B<A.chord.length;B++){var V=A.chord[B];if(V.position==="default"){var Q=Y.accidentals.length&&Y.accidentals[0].acc==="flat",W=a(V.name,H,Q,!0);W=W.replace(/♭/g,"b").replace(/♯/g,"#"),W!==V.name&&q.push(G(R,A.startChar,A.endChar,W))}}if(A.el_type==="note"&&A.pitches){for(var K=0;K<A.pitches.length;K++){var re=k(A.pitches[K].name,P,j,X);re.acc&&(X[re.name.toUpperCase()]=re.acc);var he=p(re,Y,U,I);he.acc&&(I[he.upper]=he.acc),q.push(D(R,A.startChar,A.endChar,he.acc+he.name,K))}if(A.gracenotes)for(var ee=0;ee<A.gracenotes.length;ee++){var pe=k(A.gracenotes[ee].name,P,j,X);pe.acc&&(X[pe.name.toUpperCase()]=pe.acc);var Ce=p(pe,Y,U,X);Ce.acc&&(I[Ce.upper]=Ce.acc),q.push(F(R,A.startChar,A.endChar,Ce.acc+Ce.name,ee))}}else A.el_type==="bar"?(X={},I={}):A.el_type==="keySignature"&&(P=A.root,j=g(A),Y=_(A,H),U=b(Y,P,H))}return q}var y="CDEFGAB",m=[",,,,",",,,",",,",",","","'","''","'''","''''"];function _(R,O){if(R.root==="none")return{root:o("C",O),mode:"",acc:"",accidentals:[]};var P=e(R.root+R.acc+R.mode),j=o(P,O),Y=n(j,R.mode),H=t(j);return{root:Y[0],mode:R.mode,acc:Y.length>1?Y[1]:"",accidentals:H}}function p(R,O,P,j){for(var Y=R.pitch,H=y.indexOf(R.name),q=y.indexOf(O.root),U=(q+Y)%7,X=H+P,I=R.oct;X>6;)I++,X-=7;for(;X<0;)I--,X+=7;for(var z=y[U],A="",B=R.adj,V="=",Q=0;Q<O.accidentals.length;Q++)if(O.accidentals[Q].note.toLowerCase()===z.toLowerCase()){B=B+(O.accidentals[Q].acc==="flat"?-1:1),V=O.accidentals[Q].acc==="flat"?"_":"^";break}switch(B){case-2:A="__";break;case-1:A="_";break;case 0:A="=";break;case 1:A="^";break;case 2:A="^^";break;case-3:var W={};return W.pitch=R.pitch-1,W.oct=R.oct,W.name=y[y.indexOf(R.name)-1],W.name||(W.name="B",W.oct--),W.name==="B"||W.name==="E"?W.adj=R.adj+1:W.adj=R.adj+2,p(W,O,P+1,j);case 3:var W={};return W.pitch=R.pitch+1,W.oct=R.oct,W.name=y[y.indexOf(R.name)+1],W.name||(W.name="C",W.oct++),W.name==="C"||W.name==="F"?W.adj=R.adj-1:W.adj=R.adj-2,p(W,O,P+1,j)}switch((j[z]===A||!j[z]&&A===V)&&!R.courtesy&&(A=""),I){case 0:z=z+",,,";break;case 1:z=z+",,";break;case 2:z=z+",";break;case 4:z=z.toLowerCase();break;case 5:z=z.toLowerCase()+"'";break;case 6:z=z.toLowerCase()+"''";break;case 7:z=z.toLowerCase()+"'''";break;case 8:z=z.toLowerCase()+"''''";break}return I>4&&(z=z.toLowerCase()),{acc:A,name:z,upper:z.toUpperCase()}}var w=/([_^=]*)([A-Ga-g])([,']*)/,T=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,C=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,N=/(\s*)$/;function k(R,O,P,j){var Y=O==="none"?0:y.indexOf(O),H=R.match(w),q=H[2].toUpperCase(),U=y.indexOf(q)-Y;U<0&&(U+=7);var X=m.indexOf(H[3]);q===H[2]&&X--;var I=j[q]||P[q]||"=";return{acc:H[1],name:q,pitch:U,oct:X,adj:E(H[1],P[q],j[q]),courtesy:H[1]===I}}function D(R,O,P,j,Y){var H=R.substring(O,P),q=H.match(new RegExp(T.source+N.source),"");if(q){var U=q[1].length,X=q[2].length+q[3].length+q[4].length,I=P-O-U-X;O+=I,P-=X}else{var z=/([^\[]*)/,A=/\[/,B=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(q=H.match(new RegExp(z.source+A.source+C.source+C.source+C.source+C.source+C.source+C.source+C.source+C.source+B.source+N.source)),q){for(var V=1+q[1].length,Q=0;Q<Y;Q++)q[Q*3+2]&&(V+=q[Q*3+2].length),q[Q*3+3]&&(V+=q[Q*3+3].length),q[Q*3+4]&&(V+=q[Q*3+4].length);O+=V;var W=q[Y*3+2]?q[Y*3+2].length:0;P=O+W}}return{start:O,end:P,note:j}}function F(R,O,P,j,Y){var H=R.substring(O,P),q=/\{/,U=/\}/,X=/([^\{]*)/,I=/(\/*)/,z=H.match(new RegExp(X.source+q.source+I.source+C.source+I.source+C.source+I.source+C.source+I.source+C.source+I.source+C.source+I.source+C.source+I.source+C.source+I.source+C.source+U.source));if(z){for(var A=1+z[1].length,B=0;B<Y;B++)z[B*3+2]&&(A+=z[B*3+2].length),z[B*3+3]&&(A+=z[B*3+3].length),z[B*3+4]&&(A+=z[B*3+4].length),z[B*3+5]&&(A+=z[B*3+5].length);z[Y*3+2]&&(A+=z[B*3+2].length),O+=A;var V=z[Y*3+3]?z[Y*3+3].length:0;V+=z[Y*3+4]?z[Y*3+4].length:0,V+=z[Y*3+5]?z[Y*3+5].length:0,P=O+V}return{start:O,end:P,note:j}}function G(R,O,P,j){var Y=R.substring(O,P).match(/([^"]+)?(".+")+/);return Y[1]&&(O+=Y[1].length),P=O+Y[2].length,{start:O+1,end:P-1,note:j}}function E(R,O,P){if(!R&&P&&(R=P),!R)return 0;switch(O){case void 0:switch(R){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(R){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(R){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}}(),lg=c,lg}var cg,q8;function Gz(){if(q8)return cg;q8=1;var t=function(n,a,c,u){this.type="BeamElem",this.isflat=!!c,this.isgrace=!!(a&&a==="grace"),this.forceup=!!(this.isgrace||a&&a==="up"),this.forcedown=!!(a&&a==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=n,this.beams=[],u&&u.duration?(this.duration=u.duration,u.startTriplet&&(this.duration*=u.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};t.prototype.setHint=function(){this.hint=!0},t.prototype.runningDirection=function(o){var n=o.averagepitch;n!==void 0&&(this.total=Math.round(this.total+n),this.count||(this.count=0),this.count++)},t.prototype.add=function(o){var n=o.abcelem.averagepitch;n!==void 0&&(o.abcelem.rest||(this.allrests=!1),o.beam=this,this.elems.push(o),this.total=Math.round(this.total+n),(this.min===void 0||o.abcelem.minpitch<this.min)&&(this.min=o.abcelem.minpitch),(this.max===void 0||o.abcelem.maxpitch>this.max)&&(this.max=o.abcelem.maxpitch))},t.prototype.addBeam=function(o){this.beams.push(o)},t.prototype.setStemDirection=function(){if(this.average=e(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var o=6;this.stemsUp=this.average<o}delete this.count,this.total=0},t.prototype.calcDir=function(){if(this.average=e(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var o=6;this.stemsUp=this.average<o}for(var n=this.stemsUp?"up":"down",a=0;a<this.elems.length;a++)for(var c=0;c<this.elems[a].heads.length;c++)this.elems[a].heads[c].stemDir=n};function e(o,n){return n?o/n:0}return cg=t,cg}var ug,j8;function $z(){if(j8)return ug;j8=1;var t=function(o,n){this.startVoice=o,this.type=n};return t.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)},t.prototype.continuing=function(e){this.lastContinuedVoice=e},t.prototype.getWidth=function(){return 10},t.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)},ug=t,ug}var fg,P8;function ss(){if(P8)return fg;P8=1;var t=xr(),e={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};e["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63},e["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9},e["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165},e["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var o=function(c){for(var u=[],f=0,d=c.length;f<d;f++){u[f]=[];for(var g=0,b=c[f].length;g<b;g++)u[f][g]=c[f][g]}return u},n=function(c,u,f){for(var d=0,g=c.length;d<g;d++){var b=c[d],x,y;for(x=1,y=b.length;x<y;x++)b[x]*=x%2?u:f}},a={printSymbol:function(c,u,f,d,g){if(!e[f])return null;var b=o(e[f].d);b[0][1]+=c,b[0][2]+=u;for(var x="",y=0;y<b.length;y++)x+=b[y].join(" ");return g.path=x,d.path(g)},getPathForSymbol:function(c,u,f,d,g){if(d=d||1,g=g||1,!e[f])return null;var b=o(e[f].d);return(d!==1||g!==1)&&n(b,d,g),b[0][1]+=c,b[0][2]+=u,b},getSymbolWidth:function(c){return e[c]?e[c].w:0},symbolHeightInPitches:function(c){var u=e[c]?e[c].h:0;return u/t.STEP},getSymbolAlign:function(c){return c.substring(0,7)==="scripts"&&c!=="scripts.roll"?"center":"left"},getYCorr:function(c){switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(c,u){e[c]=u}};return fg=a,fg}var hg,H8;function Xz(){if(H8)return hg;H8=1;var t=ko(),e=ss(),o=Gi(),n=function(c,u){var f,d=0;c.el_type="clef";var g=new t(c,0,10,"staff-extra clef",u);switch(g.isClef=!0,c.type){case"treble":f="clefs.G";break;case"tenor":f="clefs.C";break;case"alto":f="clefs.C";break;case"bass":f="clefs.F";break;case"treble+8":f="clefs.G",d=1;break;case"tenor+8":f="clefs.C",d=1;break;case"bass+8":f="clefs.F",d=1;break;case"alto+8":f="clefs.C",d=1;break;case"treble-8":f="clefs.G",d=-1;break;case"tenor-8":f="clefs.C",d=-1;break;case"bass-8":f="clefs.F",d=-1;break;case"alto-8":f="clefs.C",d=-1;break;case"none":return null;case"perc":f="clefs.perc";break;default:g.addFixed(new o("clef="+c.type,0,0,void 0,{type:"debug"}))}var b=5;if(f){var x=e.symbolHeightInPitches(f),y=a(f);if(g.addRight(new o(f,b,e.getSymbolWidth(f),c.clefPos,{top:x+c.clefPos+y,bottom:c.clefPos+y})),d!==0){var m=.6666666666666666,_=(e.getSymbolWidth(f)-e.getSymbolWidth("8")*m)/2,p=d>0?g.top+3:g.bottom-1,w=d>0?g.top+3:g.bottom-3,T=w-2;c.type==="bass-8"&&(p=3,_=0),g.addRight(new o("8",b+_,e.getSymbolWidth("8")*m,p,{scalex:m,scaley:m,top:w,bottom:T}))}}return g};function a(c){switch(c){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}return hg=n,hg}var dg,Y8;function Vz(){if(Y8)return dg;Y8=1;var t=ko(),e=ss(),o=Gi(),n=function(a,c){if(a.el_type="keySignature",!a.accidentals||a.accidentals.length===0)return null;var u=new t(a,0,10,"staff-extra key-signature",c);u.isKeySig=!0;var f=0;return a.accidentals.forEach(function(d){var g,b=0;switch(d.acc){case"sharp":g="accidentals.sharp",b=-3;break;case"natural":g="accidentals.nat";break;case"flat":g="accidentals.flat",b=-1.2;break;case"quartersharp":g="accidentals.halfsharp",b=-2.5;break;case"quarterflat":g="accidentals.halfflat",b=-1.2;break;default:g="accidentals.flat"}u.addRight(new o(g,f,e.getSymbolWidth(g),d.verticalPos,{thickness:e.symbolHeightInPitches(g),top:d.verticalPos+e.symbolHeightInPitches(g)+b,bottom:d.verticalPos+b})),f+=e.getSymbolWidth(g)+2},this),u};return dg=n,dg}var pg,U8;function Iz(){if(U8)return pg;U8=1;var t=ss(),e=Gi(),o=function(n,a,c,u){u||(u={});var f=u.dir!==void 0?u.dir:null,d=u.headx!==void 0?u.headx:0,g=u.extrax!==void 0?u.extrax:0,b=u.flag!==void 0?u.flag:null,x=u.dot!==void 0?u.dot:0,y=u.dotshiftx!==void 0?u.dotshiftx:0,m=u.scale!==void 0?u.scale:1,_=u.accidentalSlot!==void 0?u.accidentalSlot:[],p=u.shouldExtendStem!==void 0?u.shouldExtendStem:!1,w=u.printAccidentals!==void 0?u.printAccidentals:!0,T=c.verticalPos,C,N=0,k=0,D=0;if(a===void 0)n.addFixed(new e("pitch is undefined",0,0,0,{type:"debug"}));else if(a==="")C=new e(null,0,0,T);else{var F=d;if(c.printer_shift){var G=c.printer_shift==="same"?1:0;F=f==="down"?-t.getSymbolWidth(a)*m+G:t.getSymbolWidth(a)*m-G}var E={scalex:m,scaley:m,thickness:t.symbolHeightInPitches(a)*m,name:c.name};if(C=new e(a,F,t.getSymbolWidth(a)*m,T,E),C.stemDir=f,b){var R=T+(f==="down"?-7:7)*m;p&&(f==="down"&&R>6&&(R=6),f==="up"&&R<6&&(R=6));var O=f==="down"?d:d+C.w-.6;n.addRight(new e(b,O,t.getSymbolWidth(b)*m,R,{scalex:m,scaley:m}))}for(k=C.w+y-2+5*x;x>0;x--){var P=1-Math.abs(T)%2;n.addRight(new e("dots.dot",C.w+y-2+5*x,t.getSymbolWidth("dots.dot"),T+P))}}if(C&&(C.highestVert=c.highestVert),w&&c.accidental){var j;switch(c.accidental){case"quartersharp":j="accidentals.halfsharp";break;case"dblsharp":j="accidentals.dblsharp";break;case"sharp":j="accidentals.sharp";break;case"quarterflat":j="accidentals.halfflat";break;case"flat":j="accidentals.flat";break;case"dblflat":j="accidentals.dblflat";break;case"natural":j="accidentals.nat"}for(var Y=!1,H=g,q=0;q<_.length;q++)if(T-_[q][0]>=6){_[q][0]=T,H=_[q][1],Y=!0;break}Y===!1&&(H-=t.getSymbolWidth(j)*m+2,_.push([T,H]),N=t.getSymbolWidth(j)*m+2);var U=t.symbolHeightInPitches(j);n.addExtra(new e(j,H,t.getSymbolWidth(j),T,{scalex:m,scaley:m,top:T+U/2,bottom:T-U/2})),D=t.getSymbolWidth(j)/2}return{notehead:C,accidentalshiftx:N,dotshiftx:k,extraLeft:D}};return pg=o,pg}var gg,F8;function Zz(){if(F8)return gg;F8=1;var t=ko(),e=ss(),o=Gi(),n=function(a,c){a.el_type="timeSignature";var u=new t(a,0,10,"staff-extra time-signature",c);if(a.type==="specified")for(var f=0,d=0;d<a.value.length;d++)if(d!==0&&(u.addRight(new o("+",f+1,e.getSymbolWidth("+"),6,{thickness:e.symbolHeightInPitches("+")})),f+=e.getSymbolWidth("+")+2),a.value[d].den){for(var g=0,b=0;b<a.value[d].num.length;b++)g+=e.getSymbolWidth(a.value[d].num[b]);var x=0;for(b=0;b<a.value[d].num.length;b++)x+=e.getSymbolWidth(a.value[d].den[b]);var y=Math.max(g,x);u.addRight(new o(a.value[d].num,f+(y-g)/2,g,8,{thickness:e.symbolHeightInPitches(a.value[d].num[0])})),u.addRight(new o(a.value[d].den,f+(y-x)/2,x,4,{thickness:e.symbolHeightInPitches(a.value[d].den[0])})),f+=y}else{for(var m=0,_=0;_<a.value[d].num.length;_++)m+=e.getSymbolWidth(a.value[d].num[_]);u.addRight(new o(a.value[d].num,f,m,6,{thickness:e.symbolHeightInPitches(a.value[d].num[0])})),f+=m}else a.type==="common_time"?u.addRight(new o("timesig.common",0,e.getSymbolWidth("timesig.common"),6,{thickness:e.symbolHeightInPitches("timesig.common")})):a.type==="cut_time"?u.addRight(new o("timesig.cut",0,e.getSymbolWidth("timesig.cut"),6,{thickness:e.symbolHeightInPitches("timesig.cut")})):a.type==="tempus_imperfectum"?u.addRight(new o("timesig.imperfectum",0,e.getSymbolWidth("timesig.imperfectum"),6,{thickness:e.symbolHeightInPitches("timesig.imperfectum")})):a.type==="tempus_imperfectum_prolatio"?u.addRight(new o("timesig.imperfectum2",0,e.getSymbolWidth("timesig.imperfectum2"),6,{thickness:e.symbolHeightInPitches("timesig.imperfectum2")})):a.type==="tempus_perfectum"?u.addRight(new o("timesig.perfectum",0,e.getSymbolWidth("timesig.perfectum"),6,{thickness:e.symbolHeightInPitches("timesig.perfectum")})):a.type==="tempus_perfectum_prolatio"?u.addRight(new o("timesig.perfectum2",0,e.getSymbolWidth("timesig.perfectum2"),6,{thickness:e.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",a);return u};return gg=n,gg}var vg,G8;function Qz(){if(G8)return vg;G8=1;var t=function(o,n,a){this.type="DynamicDecoration",this.anchor=o,this.dec=n,a==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0};return vg=t,vg}var mg,$8;function Kz(){if($8)return mg;$8=1;var t=function(o,n,a,c){this.type="CrescendoElem",this.anchor1=o,this.anchor2=n,this.dir=a,c==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0};return mg=t,mg}var yg,X8;function Wz(){if(X8)return yg;X8=1;var t=function(o,n){this.type="GlissandoElem",this.anchor1=o,this.anchor2=n};return yg=t,yg}var bg,V8;function yw(){if(V8)return bg;V8=1;var t=function(o){this.type="TieElem",this.anchor1=o.anchor1,this.anchor2=o.anchor2,o.isGrace&&(this.isGrace=!0),o.fixedY&&(this.fixedY=!0),o.stemDir&&(this.stemDir=o.stemDir),o.voiceNumber!==void 0&&(this.voiceNumber=o.voiceNumber),o.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};return t.prototype.addInternalNote=function(e){this.internalNotes.push(e)},t.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)},t.prototype.setStartX=function(e){this.startLimitX=e},t.prototype.setEndX=function(e){this.endLimitX=e},t.prototype.setHint=function(){this.hint=!0},t.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}},t.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var o=0;o<this.internalNotes.length;o++){var n=this.internalNotes[o];n.stemDir==="down"&&(e=!0)}this.above=e}},t.prototype.calcX=function(e,o){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=o},t.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0},t.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,o=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&o<this.startY?(this.endY=o,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var n=!!this.anchor1.parent.beam,a=!!this.anchor2.parent.beam;if(n){var c=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];c||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(a){var u=this.anchor2.parent===this.anchor2.parent.beam.elems[0];u||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)},t.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,o=0;o<this.internalNotes.length;o++)this.internalNotes[o].highestVert>e&&(e=this.internalNotes[o].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}},t.prototype.getYBounds=function(){var e=10,o=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,o),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,o),this.calcSlurY());var n,a;return this.above?(a=Math.min(this.startY,this.endY),n=a+3):(n=Math.min(this.startY,this.endY),a=n-3),[n,a]},bg=t,bg}var _g,I8;function Jz(){if(I8)return _g;I8=1;var t=Qz(),e=Kz(),o=Wz(),n=ss(),a=Gi(),c=yw(),u=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},f=function(y,m,_,p,w,T,C,N,k){for(var D,F=0;F<m.length;F++){if(m[F]==="staccato"||m[F]==="tenuto"||m[F]==="accent"&&!k){var G="scripts."+m[F];if(m[F]==="accent"&&(G="scripts.sforzato"),D===void 0?D=C==="down"?_+2:N-2:D=C==="down"?D+2:D-2,m[F]==="accent")C==="up"?D--:D++;else switch(D){case 2:case 4:case 6:case 8:case 10:C==="up"?D--:D++;break}_>9&&D++;var E=p/2;n.getSymbolAlign(G)!=="center"&&(E-=n.getSymbolWidth(G)/2),w.addFixedX(new a(G,E,n.getSymbolWidth(G),D))}if(m[F]==="slide"&&w.heads[0]){var R=w.heads[0].pitch;R-=2;var O=new a("",-T-15,0,R-1),P=new a("",-T-5,0,R+1);w.addFixedX(O),w.addFixedX(P),y.addOther(new c({anchor1:O,anchor2:P,fixedY:!0}))}}return D===void 0&&(D=_),{above:D,below:w.bottom}},d=function(y,m,_,p){for(var w=0;w<m.length;w++)switch(m[w]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var T=new t(_,m[w],p);y.addOther(T)}},g=function(y,m,_,p,w){function T(){if(p.heads.length===0)return 10;for(var D=p.heads[0].pitch,F=1;F<p.heads.length;F++)D=Math.max(D,p.heads[F].pitch);return D}function C(){if(p.heads.length===0)return 2;for(var D=p.heads[0].pitch,F=1;F<p.heads.length;F++)D=Math.min(D,p.heads[F].pitch);return D}function N(D,F){var G=w==="down"?C()+1:T()+9;w!=="down"&&F===1&&G--;var E=_/2;E+=w==="down"?-5:3;for(var R=0;R<F;R++)G-=1,p.addFixedX(new a(D,E,n.getSymbolWidth(D),G))}for(var k=0;k<y.length;k++)switch(y[k]){case"/":N("flags.ugrace",1);break;case"//":N("flags.ugrace",2);break;case"///":N("flags.ugrace",3);break;case"////":N("flags.ugrace",4);break}},b=function(y,m,_,p,w,T,C,N){function k(P,j){P==="above"?p.above+=j:p.below-=j}function D(P){var j;return P==="above"?(j=p.above,j<T&&(j=T)):(j=p.below,j>C&&(j=C)),j}function F(P,j,Y){var H=D(j),q=2,U=5;_.addFixedX(new a(P,m/2,0,H+q,{type:"decoration",klass:"ornament",thickness:3,anchor:Y})),k(j,U)}function G(P,j){var Y=m/2;n.getSymbolAlign(P)!=="center"&&(Y-=n.getSymbolWidth(P)/2);var H=n.symbolHeightInPitches(P)+1,q=D(j);q=j==="above"?q+H/2:q-H/2,_.addFixedX(new a(P,Y,n.getSymbolWidth(P),q,{klass:"ornament",thickness:n.symbolHeightInPitches(P),position:j})),k(j,H)}for(var E={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",trillh:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},R=!1,O=0;O<y.length;O++)switch(y[O]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":F(y[O],w,"middle"),R=!0;break;case"D.C.alcoda":F("D.C. al coda",w,"end"),R=!0;break;case"D.C.alfine":F("D.C. al fine",w,"end"),R=!0;break;case"D.S.alcoda":F("D.S. al coda",w,"end"),R=!0;break;case"D.S.alfine":F("D.S. al fine",w,"end"),R=!0;break;case"fine":F("FINE",w,"middle"),R=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"trillh":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":G(E[y[O]],w),R=!0;break;case"invertedfermata":G(E[y[O]],"below"),R=!0;break;case"mark":_.klass="mark";break;case"accent":N&&(G("scripts.sforzato",w),R=!0);break}return R};function x(y,m,_){for(var p=0;p<y.length;p++)switch(y[p]){case"arpeggio":for(var w=m.abcelem.minpitch-1;w<=m.abcelem.maxpitch;w+=2)m.addExtra(new a("scripts.arpeggio",-n.getSymbolWidth("scripts.arpeggio")*2-_,0,w+2,{klass:"ornament",thickness:n.symbolHeightInPitches("scripts.arpeggio")}));break}}return u.prototype.dynamicDecoration=function(y,m,_,p){for(var w,T,C,N=0;N<m.length;N++)switch(m[N]){case"diminuendo(":this.startDiminuendoX=_,w=void 0;break;case"diminuendo)":w={start:this.startDiminuendoX,stop:_},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=_,T=void 0;break;case"crescendo)":T={start:this.startCrescendoX,stop:_},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=_,C=void 0;break;case"~)":case"glissando)":C={start:this.startGlissandoX,stop:_},this.startGlissandoX=void 0;break}w&&y.addOther(new e(w.start,w.stop,">",p)),T&&y.addOther(new e(T.start,T.stop,"<",p)),C&&y.addOther(new o(C.start,C.stop))},u.prototype.createDecoration=function(y,m,_,p,w,T,C,N,k,D,F){k||(k={ornamentPosition:"above",volumePosition:D?"above":"below",dynamicPosition:D?"above":"below"}),d(y,m,w,k.volumePosition),this.dynamicDecoration(y,m,w,k.dynamicPosition),g(m,_,p,w,C);var G=f(y,m,_,p,w,T,C,N,F);G.above=Math.max(G.above,this.minTop),G.below=Math.min(G.below,N),b(m,p,w,G,k.ornamentPosition,this.minTop,N,F),x(m,w,T)},_g=u,_g}var xg,Z8;function eB(){if(Z8)return xg;Z8=1;var t=function(o,n,a){this.type="EndingElem",this.text=o,this.anchor1=n,this.anchor2=a,this.endingHeightAbove=5,this.pitch=void 0};return xg=t,xg}var wg,Q8;function tB(){if(Q8)return wg;Q8=1;var t=function(e){for(var o=0,n=0;n<e.voices.length;n++){var a=e.voices[n].staff;e.voices[n].duplicate||(o+=a.top,o+=-a.bottom)}return o};return wg=t,wg}var Sg,K8;function nB(){if(K8)return Sg;K8=1;var t=tB(),e=function(o){this.getTextSize=o,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};return e.prototype.setLimit=function(o,n){n.specialY[o]&&(n.staff.specialY[o]?n.staff.specialY[o]=Math.max(n.staff.specialY[o],n.specialY[o]):n.staff.specialY[o]=n.specialY[o])},e.prototype.addVoice=function(o,n,a){var c=this.voices.length;this.voices[c]=o,this.staffs[n]?this.staffs[n].voices.push(c):this.staffs[this.staffs.length]={top:10,bottom:2,lines:a,voices:[c],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},o.staff=this.staffs[n]},e.prototype.setHeight=function(){this.height=t(this)},e.prototype.setWidth=function(o){this.w=o;for(var n=0;n<this.voices.length;n++)this.voices[n].setWidth(o)},e.prototype.setStaffLimits=function(o){o.staff.top=Math.max(o.staff.top,o.top),o.staff.bottom=Math.min(o.staff.bottom,o.bottom),this.setLimit("tempoHeightAbove",o),this.setLimit("partHeightAbove",o),this.setLimit("volumeHeightAbove",o),this.setLimit("dynamicHeightAbove",o),this.setLimit("endingHeightAbove",o),this.setLimit("chordHeightAbove",o),this.setLimit("lyricHeightAbove",o),this.setLimit("lyricHeightBelow",o),this.setLimit("chordHeightBelow",o),this.setLimit("volumeHeightBelow",o),this.setLimit("dynamicHeightBelow",o)},Sg=e,Sg}var Tg,W8;function rB(){if(W8)return Tg;W8=1;var t=ko(),e=Gi(),o=function(a,c,u){this.type="TempoElement",this.tempo=a,this.tempo.type="tempo",this.tuneNumber=c,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(u,a,c))};return o.prototype.setX=function(n){this.x=n},o.prototype.createNote=function(n,a,c){var u=.75,f=a.duration[0],d=new t(a,f,1,"tempo",c),g,b,x;f<=1/32?(x="noteheads.quarter",b="flags.u32nd",g=0):f<=1/16?(x="noteheads.quarter",b="flags.u16th",g=0):f<=3/32?(x="noteheads.quarter",b="flags.u16nd",g=1):f<=1/8?(x="noteheads.quarter",b="flags.u8th",g=0):f<=3/16?(x="noteheads.quarter",b="flags.u8th",g=1):f<=1/4?(x="noteheads.quarter",g=0):f<=3/8?(x="noteheads.quarter",g=1):f<=1/2?(x="noteheads.half",g=0):f<=3/4?(x="noteheads.half",g=1):f<=1?(x="noteheads.whole",g=0):f<=1.5?(x="noteheads.whole",g=1):f<=2?(x="noteheads.dbl",g=0):(x="noteheads.dbl",g=1);var y=n(d,x,{verticalPos:0},{dir:"up",flag:b,dot:g,scale:u}),m=y.notehead;d.addHead(m);var _;if(x!=="noteheads.whole"&&x!=="noteheads.dbl"){var p=.3333333333333333*u,w=5*u,T=m.dx+m.w,C=-.6;_=new e(null,T,0,p,{type:"stem",pitch2:w,linewidth:C}),d.addRight(_)}return d},Tg=o,Tg}var Cg,J8;function iB(){if(J8)return Cg;J8=1;var t=function(o,n,a){this.type="TripletElem",this.anchor1=n,this.number=o,this.durationClass=("d"+Math.round(n.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=a.flatBeams};return t.prototype.isClosed=function(){return!!this.anchor2},t.prototype.middleNote=function(e){this.middleElems.push(e)},t.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)},Cg=t,Cg}var Eg,e9;function aB(){if(e9)return Eg;e9=1;function t(o){switch(o){case"B#":return"H#";case"B♯":return"H♯";case"B":return"H";case"Bb":return"B";case"B♭":return"B"}return o}function e(o,n,a){var c=o.split(`
`);for(let u=0;u<c.length;u++){let d=c[u].match(/^([ABCDEFG][♯♭]?)?([^\/]+)?(\/([ABCDEFG][#b♯♭]?))?/);if(!d)continue;let g=d[1]||"",b=d[2]||"",x=d[4]||"";a&&(g=t(g),x=t(x));const y=n?"":"",m=x?"/"+x:"";c[u]=[g,b,m].join(y)}return c.join(`
`)}return Eg=e,Eg}var Ag,t9;function sB(){if(t9)return Ag;t9=1;var t=Gi(),e=xr();const o=aB();var n=function(c,u,f,d,g,b,x,y){for(var m=0;m<f.chord.length;m++){var _=f.chord[m].position,p=f.chord[m].rel_position,w=_==="left"||_==="right"||_==="below"||_==="above"||!!p,T,C;w?(T="annotationfont",C="abcjs-annotation"):(T="gchordfont",C="abcjs-chord");var N=c.attr(T,C),k=f.chord[m].name,D;if(typeof k=="string")D=a(k,_,p,w,T,C,N,c,u,f,d,g,b,x,y),d=D.roomTaken,g=D.roomTakenRight;else for(var F=0;F<k.length;F++)D=a(k[F].text,_,p,w,T,C,N,c,u,f,d,g,b,x,y),d=D.roomTaken,g=D.roomTakenRight}return{roomTaken:d,roomTakenRight:g}};function a(c,u,f,d,g,b,x,y,m,_,p,w,T,C,N){for(var k=c.split(`
`),D=k.length-1;D>=0;D--){var F=k[D],G=0,E;d||(F=o(F,C,N));var R=y.calc(F,g,b),O=R.width,P=R.height/e.STEP;switch(u){case"left":p+=O+7,G=-p,E=_.averagepitch,m.addExtra(new t(F,G,O+4,E,{type:"text",height:P,dim:x,position:"left"}));break;case"right":w+=4,G=w,E=_.averagepitch,m.addRight(new t(F,G,O+4,E,{type:"text",height:P,dim:x,position:"right"}));break;case"below":m.addRight(new t(F,0,0,void 0,{type:"text",position:"below",height:P,dim:x,realWidth:O}));break;case"above":m.addRight(new t(F,0,0,void 0,{type:"text",position:"above",height:P,dim:x,realWidth:O}));break;default:if(f){var j=f.y+3*e.STEP;m.addRight(new t(F,G+f.x,0,_.minpitch+j/e.STEP,{position:"relative",type:"text",height:P,dim:x}))}else{var Y="above";_.positioning&&_.positioning.chordPosition&&(Y=_.positioning.chordPosition),Y!=="hidden"&&m.addCentered(new t(F,T/2,O,void 0,{type:"chord",position:Y,height:P,dim:x,realWidth:O}))}}}return{roomTaken:p,roomTakenRight:w}}return Ag=n,Ag}var Mg,n9;function oB(){if(n9)return Mg;n9=1;var t=ko(),e=Gz(),o=$z(),n=Xz(),a=Vz(),c=Iz(),u=Zz(),f=Jz(),d=eB(),g=ss(),b=Gi(),x=xr(),y=nB(),m=rB(),_=yw(),p=iB(),w=hw(),T=sB(),C=cw(),N=wa(),k=function(H){var q=0;return H.duration&&(q=H.duration),q},D=!1,F={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},G=function(H,q,U){this.decoration=new f,this.getTextSize=H,this.tuneNumber=q,this.isBagpipes=U.bagpipes,this.flatBeams=U.flatbeams,this.graceSlurs=U.graceSlurs,this.percmap=U.percmap,this.initialClef=U.initialClef,this.jazzchords=!!U.jazzchords,this.accentAbove=!!U.accentAbove,this.germanAlphabet=!!U.germanAlphabet,this.reset()};G.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0},G.prototype.setStemHeight=function(H){this.stemHeight=Math.round(H*10/x.STEP)/10},G.prototype.getCurrentVoiceId=function(H,q){return"s"+H+"v"+q},G.prototype.pushCrossLineElems=function(H,q){this.slursbyvoice[this.getCurrentVoiceId(H,q)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(H,q)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(H,q)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(H,q)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(H,q)]=this.voiceColor)},G.prototype.popCrossLineElems=function(H,q){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(H,q)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(H,q)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(H,q)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(H,q)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(H,q)]},G.prototype.containsLyrics=function(H){for(var q=0;q<H.length;q++)for(var U=0;U<H[q].voices.length;U++)for(var X=0;X<H[q].voices[U].length;X++){var I=H[q].voices[U][X];if(I.lyric){(!I.positioning||I.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}},G.prototype.createABCLine=function(H,q,U){this.minY=2,this.containsLyrics(H);var X=new y(this.getTextSize);this.tempoSet=!1;for(var I=0;I<H.length;I++)D&&this.restoreState(),D=!1,this.createABCStaff(X,H[I],q,I,U);return X},G.prototype.createABCStaff=function(H,q,U,X,I){H.getTextSize.updateFonts(q);for(var z=0;z<q.voices.length;z++){var A=new w(z,q.voices.length);z===0?(A.barfrom=q.connectBarLines==="start"||q.connectBarLines==="continue",A.barto=q.connectBarLines==="continue"||q.connectBarLines==="end"):A.duplicate=!0,q.title&&q.title[z]&&(A.header=q.title[z].replace(/\\n/g,`
`),A.headerPosition=6+H.getTextSize.baselineToCenter(A.header,"voicefont","staff-extra voice-name",z,q.voices.length)/x.STEP),q.clef&&q.clef.type==="perc"&&(A.isPercussion=!0);var B=(!this.initialClef||I===0)&&n(q.clef,this.tuneNumber);B&&(z===0&&q.barNumber&&this.addMeasureNumber(q.barNumber,B),A.addChild(B),this.startlimitelem=B);var V=a(q.key,this.tuneNumber);if(V&&(A.addChild(V),this.startlimitelem=V),q.meter){q.meter.type==="specified"?this.measureLength=q.meter.value[0].num/q.meter.value[0].den:this.measureLength=1;var Q=u(q.meter,this.tuneNumber);A.addChild(Q),this.startlimitelem=Q}A.duplicate&&(A.children=[]);var W=q.clef.stafflines||q.clef.stafflines===0?q.clef.stafflines:5;H.addVoice(A,X,W);var K=W===1;this.createABCVoice(q.voices[z],U,X,z,K,A),H.setStaffLimits(A),z===0&&(q.brace==="start"||!H.brace&&q.brace?(H.brace||(H.brace=[]),H.brace.push(new o(A,"brace"))):q.brace==="end"&&H.brace?H.brace[H.brace.length-1].setBottomStaff(A):q.brace==="continue"&&H.brace&&H.brace[H.brace.length-1].continuing(A),q.bracket==="start"||!H.bracket&&q.bracket?(H.bracket||(H.bracket=[]),H.bracket.push(new o(A,"bracket"))):q.bracket==="end"&&H.bracket?H.bracket[H.bracket.length-1].setBottomStaff(A):q.bracket==="continue"&&H.bracket&&H.bracket[H.bracket.length-1].continuing(A))}};function E(H,q){var U=H[q];if(U.el_type!=="note"||!U.startBeam||U.endBeam)return{count:1,elem:U};for(var X=[];q<H.length&&H[q].el_type==="note"&&(X.push(H[q]),!H[q].endBeam);)q++;return{count:X.length,elem:X}}G.prototype.createABCVoice=function(H,q,U,X,I,z){this.popCrossLineElems(U,X),this.stemdir=this.isBagpipes?"down":null,this.abcline=H,this.partstartelem&&(this.partstartelem=new d("",null,null),z.addOther(this.partstartelem));var A=z.voicetotal<2?-1:z.voicenumber;for(var B in this.slurs)this.slurs.hasOwnProperty(B)&&(this.slurs[B]=new _({force:this.slurs[B].force,voiceNumber:A,stemDir:this.slurs[B].stemDir,style:this.slurs[B].dotted}),D&&this.slurs[B].setHint(),z.addOther(this.slurs[B]));for(var V=0;V<this.ties.length;V++)this.ties[V]=new _({force:this.ties[V].force,stemDir:this.ties[V].stemDir,voiceNumber:A,style:this.ties[V].dotted}),D&&this.ties[V].setHint(),z.addOther(this.ties[V]);for(var Q=0;Q<this.abcline.length;Q++)R(this.abcline[Q]),this.minY=Math.min(this.abcline[Q].minpitch,this.minY);for(var W=U===0,K=0;K<this.abcline.length;){var re=E(this.abcline,K),he=this.createABCElement(W,I,z,re.elem);if(he)for(V=0;V<he.length;V++){if(!this.tempoSet&&q&&!q.suppress){this.tempoSet=!0;var ee=new t(q,0,0,"tempo",this.tuneNumber,{});ee.addFixedX(new m(q,this.tuneNumber,c)),z.addChild(ee)}z.addChild(he[V])}K+=re.count}this.pushCrossLineElems(U,X)},G.prototype.saveState=function(){this.tiesSave=N.cloneArray(this.ties),this.slursSave=N.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=N.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=N.cloneHashOfArrayOfHash(this.tiesbyvoice)},G.prototype.restoreState=function(){this.ties=N.cloneArray(this.tiesSave),this.slurs=N.cloneHashOfHash(this.slursSave),this.slursbyvoice=N.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=N.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)},G.prototype.createABCElement=function(H,q,U,X){var I=[];switch(X.el_type){case void 0:I=this.createBeam(q,U,X);break;case"note":I[0]=this.createNote(X,!1,q,U),this.triplet&&this.triplet.isClosed()&&(U.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":I[0]=this.createBarLine(U,X,H),U.duplicate&&I.length>0&&(I[0].invisible=!0);break;case"meter":I[0]=u(X,this.tuneNumber),this.startlimitelem=I[0],U.duplicate&&I.length>0&&(I[0].invisible=!0);break;case"clef":if(I[0]=n(X,this.tuneNumber),!I[0])return null;U.duplicate&&I.length>0&&(I[0].invisible=!0);break;case"key":var z=a(X,this.tuneNumber);z&&(I[0]=z,this.startlimitelem=I[0]),U.duplicate&&I.length>0&&(I[0].invisible=!0);break;case"stem":this.stemdir=X.direction==="auto"?void 0:X.direction;break;case"part":var A=new t(X,0,0,"part",this.tuneNumber),B=this.getTextSize.calc(X.title,"partsfont","part");A.addFixedX(new b(X.title,0,0,void 0,{type:"part",height:B.height/x.STEP})),I[0]=A;break;case"tempo":var V=new t(X,0,0,"tempo",this.tuneNumber);V.addFixedX(new m(X,this.tuneNumber,c)),I[0]=V;break;case"style":X.head==="normal"?delete this.style:this.style=X.head;break;case"hint":D=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=X.size;break;case"color":this.voiceColor=X.color,U.color=this.voiceColor;break;default:var Q=new t(X,0,0,"unsupported",this.tuneNumber);Q.addFixed(new b("element type "+X.el_type,0,0,void 0,{type:"debug"})),I[0]=Q}return I};function R(H){if(H.pitches){O(H);for(var q=0,U=0;U<H.pitches.length;U++)q+=H.pitches[U].verticalPos;H.averagepitch=q/H.pitches.length,H.minpitch=H.pitches[0].verticalPos,H.maxpitch=H.pitches[H.pitches.length-1].verticalPos}}G.prototype.createBeam=function(H,q,U){var X=[],I=new e(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,U[0]);D&&I.setHint();for(var z=0;z<U.length;z++)I.runningDirection(U[z]);I.setStemDirection();var A=this.stemdir;for(this.stemdir=I.stemsUp?"up":"down",z=0;z<U.length;z++){var B=U[z],V=this.createNote(B,!0,H,q);X.push(V),I.add(V),this.triplet&&this.triplet.isClosed()&&(q.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return I.calcDir(),q.addBeam(I),this.stemdir=A,X};var O=function(H){var q;do{q=!0;for(var U=0;U<H.pitches.length-1;U++)if(H.pitches[U].pitch>H.pitches[U+1].pitch){q=!1;var X=H.pitches[U];H.pitches[U]=H.pitches[U+1],H.pitches[U+1]=X}}while(!q)},P=function(H,q,U,X,I,z,A,B,V){for(var Q=U;Q>11;Q--)Q%2===0&&!X&&H.addFixed(new b(null,B,(I+4)*V,Q,{type:"ledger"}));for(Q=q;Q<1;Q++)Q%2===0&&!X&&H.addFixed(new b(null,B,(I+4)*V,Q,{type:"ledger"}));for(Q=0;Q<z.length;Q++){var W=I;A==="down"&&(W=-W),H.addFixed(new b(null,W+B,(I+4)*V,z[Q],{type:"ledger"}))}};G.prototype.addGraceNotes=function(H,q,U,X,I,z,A){var B=.6,V=3.5/5;I=Math.round(I*V);var Q=null,W;H.gracenotes.length>1&&(Q=new e(I,"grace",z),D&&Q.setHint(),Q.mainNote=U);var K,re=[];for(K=H.gracenotes.length-1;K>=0;K--)A+=10,re[K]=A,H.gracenotes[K].accidental&&(A+=7);for(K=0;K<H.gracenotes.length;K++){var he=H.gracenotes[K].verticalPos;W=Q?null:F.uflags[z?5:3];var ee=[],pe=c(U,"noteheads.quarter",H.gracenotes[K],{dir:"up",headx:-re[K],extrax:-re[K],flag:W,scale:B*this.voiceScale,accidentalSlot:ee});pe.notehead.highestVert=pe.notehead.pitch+I;var Ce=pe.notehead;if(this.addSlursAndTies(U,H.gracenotes[K],Ce,q,"up",!0),U.addExtra(Ce),H.gracenotes[K].acciaccatura){var le=H.gracenotes[K].verticalPos+7*B,se=Q?5:6;U.addRight(new b("flags.ugrace",-re[K]+se,0,le,{scalex:B,scaley:B}))}if(Q){var fe=H.gracenotes[K].duration/2;z&&(fe/=2);var ae={heads:[Ce],abcelem:{averagepitch:he,minpitch:he,maxpitch:he,duration:fe}};Q.add(ae)}else{var Se=he+.3333333333333333*B,we=he+7*B,te=Ce.dx+Ce.w,ke=-.6;U.addExtra(new b(null,te,0,Se,{type:"stem",pitch2:we,linewidth:ke}))}P(U,he,he,!1,g.getSymbolWidth("noteheads.quarter"),[],!0,Ce.dx-1,.6);var Be=H.rest&&(H.rest.type==="spacer"||H.rest.type==="invisible");K===0&&!z&&this.graceSlurs&&!Be&&q.addOther(new _({anchor1:Ce,anchor2:X,isGrace:!0}))}return Q&&(Q.calcDir(),q.addBeam(Q)),A};function j(H,q,U,X,I,z,A,B,V){var Q,W=7,K,re,he;switch(I&&(z==="down"&&(W=3),z==="up"&&(W=11)),A&&(U<.5||U<1?W=7:W=5),q.rest.type){case"whole":Q=F.rest[0],q.averagepitch=W,q.minpitch=W,q.maxpitch=W,X=0;break;case"rest":q.style==="rhythm"?Q=F.rhythm[-B]:Q=F.rest[-B],q.averagepitch=W,q.minpitch=W,q.maxpitch=W;break;case"invisible":case"invisible-multimeasure":case"spacer":Q="",q.averagepitch=W,q.minpitch=W,q.maxpitch=W;break;case"multimeasure":Q=F.rest.multi,q.averagepitch=W,q.minpitch=W,q.maxpitch=W,X=0;var ee=g.getSymbolWidth(Q);H.addHead(new b(Q,ee,ee*2,7));var pe=new b(""+q.rest.text,ee,ee,16,{type:"multimeasure-text"});H.addExtra(pe)}if(q.rest.type.indexOf("multimeasure")<0&&q.rest.type!=="invisible"){var Ce=c(H,Q,{verticalPos:W},{dot:X,scale:V});K=Ce.notehead,K&&(H.addHead(K),re=Ce.accidentalshiftx,he=Ce.dotshiftx)}return{noteHead:K,roomTaken:re,roomTakenRight:he}}function Y(H,q){for(var U=0;U<H.length;U++)if(JSON.stringify(H[U])===JSON.stringify(q))return;H.push(q)}return G.prototype.addNoteToAbcElement=function(H,q,U,X,I,z,A,B,V){var Q=0,W,K=0,re=0,he,ee,pe=[],Ce=[],le=0,se=q.averagepitch>=6?"down":"up";X&&(se=X),I=q.style?q.style:I,(!I||I==="normal")&&(I="note");var fe;z?fe=F[I].nostem:fe=F[I][-A],fe||console.log("noteSymbol:",I,A,z);var ae;for(ae=se==="down"?q.pitches.length-2:1;se==="down"?ae>=0:ae<q.pitches.length;ae=se==="down"?ae-1:ae+1){var Se=q.pitches[se==="down"?ae+1:ae-1],we=q.pitches[ae],te=se==="down"?Se.pitch-we.pitch:we.pitch-Se.pitch;te<=1&&!Se.printer_shift&&(we.printer_shift=te?"different":"same",(we.verticalPos>11||we.verticalPos<1)&&pe.push(we.verticalPos-we.verticalPos%2),se==="down"?K=g.getSymbolWidth(fe)+2:Q=g.getSymbolWidth(fe)+2)}var ke=q.pitches.length;for(ae=0;ae<q.pitches.length;ae++){if(!B){var Be;se==="down"&&ae!==0||se==="up"&&ae!==ke-1?Be=null:Be=F[se==="down"?"dflags":"uflags"][-A]}var je;if(q.pitches[ae].style)je=F[q.pitches[ae].style][-A];else if(V.isPercussion&&this.percmap){je=fe;var Pe=this.percmap[C(q.pitches[ae])];Pe&&Pe.noteHead&&F[Pe.noteHead]&&(je=F[Pe.noteHead][-A])}else je=fe;q.pitches[ae].highestVert=q.pitches[ae].verticalPos;var ce=(X==="up"||se==="up")&&ae===0,ye=(X==="down"||se==="down")&&ae===ke-1;if(ce||ye){if((q.startSlur||ke===1)&&(q.pitches[ae].highestVert=q.pitches[ke-1].verticalPos,k(q)<1&&(X==="up"||se==="up")&&(q.pitches[ae].highestVert+=6)),q.startSlur)for(q.pitches[ae].startSlur||(q.pitches[ae].startSlur=[]),ee=0;ee<q.startSlur.length;ee++)Y(q.pitches[ae].startSlur,q.startSlur[ee]);if(q.endSlur)for(q.pitches[ae].highestVert=q.pitches[ke-1].verticalPos,k(q)<1&&(X==="up"||se==="up")&&(q.pitches[ae].highestVert+=6),q.pitches[ae].endSlur||(q.pitches[ae].endSlur=[]),ee=0;ee<q.endSlur.length;ee++)Y(q.pitches[ae].endSlur,q.endSlur[ee])}var ne=!B&&A<=-1,de=c(H,je,q.pitches[ae],{dir:se,extrax:-K,flag:Be,dot:U,dotshiftx:Q,scale:this.voiceScale,accidentalSlot:Ce,shouldExtendStem:!X,printAccidentals:!V.isPercussion});le=Math.max(g.getSymbolWidth(je),le),H.extraw-=de.extraLeft,W=de.notehead,W&&(this.addSlursAndTies(H,q.pitches[ae],W,V,ne?se:null,!1),q.gracenotes&&q.gracenotes.length>0&&(W.bottom=W.bottom-1),H.addHead(W)),K+=de.accidentalshiftx,re=Math.max(re,de.dotshiftx)}if(ne){var xe=Math.round(70*this.voiceScale)/10,Te=se==="down"?q.minpitch-xe:q.minpitch+1/3;Te>6&&!X&&(Te=6);var Le=se==="down"?q.maxpitch-1/3:q.maxpitch+xe;Le<6&&!X&&(Le=6);var ze=se==="down"||H.heads.length===0?0:H.heads[0].w,De=se==="down"?1:-1;W&&W.c==="noteheads.slash.quarter"&&(se==="down"?Le-=1:Te+=1),W&&W.c==="noteheads.triangle.quarter"&&(se==="down"?Le-=.7:Te-=1.2),H.addRight(new b(null,ze,0,Te,{type:"stem",pitch2:Le,linewidth:De,bottom:Te-1})),he=Math.min(Te,Le)}return{noteHead:W,roomTaken:K,roomTakenRight:re,min:he,additionalLedgers:pe,dir:se,symbolWidth:le}},G.prototype.addLyric=function(H,q){var U="";q.lyric.forEach(function(z){var A=z.divider===" "?"":z.divider;U+=z.syllable+A+`
`});var X=this.getTextSize.calc(U,"vocalfont","lyric"),I=q.positioning?q.positioning.vocalPosition:"below";H.addCentered(new b(U,0,X.width,void 0,{type:"lyric",position:I,height:X.height/x.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))},G.prototype.createNote=function(H,q,U,X){var I=null,z=0,A=0,B=0,V=[],Q,W=k(H),K=!1;W===0&&(K=!0,W=.25,q=!0);for(var re=Math.floor(Math.log(W)/Math.log(2)),he=0,ee=Math.pow(2,re),pe=ee/2;ee<W;he++,ee+=pe,pe/=2);H.startTriplet&&(this.tripletmultiplier=H.tripletMultiplier);var Ce=W*this.tripletmultiplier;H.rest&&H.rest.type==="multimeasure"&&(Ce=1),H.rest&&H.rest.type==="invisible-multimeasure"&&(Ce=this.measureLength*H.rest.text);var le=H.rest?"rest":"note",se=new t(H,Ce,1,le,this.tuneNumber,{durationClassOveride:H.duration*this.tripletmultiplier});if(D&&se.setHint(),H.rest){this.measureLength===W&&H.rest.type!=="invisible"&&H.rest.type!=="spacer"&&H.rest.type.indexOf("multimeasure")<0&&(H.rest.type="whole");var fe=j(se,H,W,he,X.voicetotal>1,this.stemdir,U,re,this.voiceScale);I=fe.noteHead,z=fe.roomTaken,A=fe.roomTakenRight}else{var ae=this.addNoteToAbcElement(se,H,he,this.stemdir,this.style,K,re,q,X);ae.min!==void 0&&(this.minY=Math.min(ae.min,this.minY)),I=ae.noteHead,z=ae.roomTaken,A=ae.roomTakenRight,V=ae.additionalLedgers,Q=ae.dir,B=ae.symbolWidth}if(H.lyric!==void 0&&this.addLyric(se,H),H.gracenotes!==void 0&&(z+=this.addGraceNotes(H,X,se,I,this.stemHeight*this.voiceScale,this.isBagpipes,z)),H.decoration){var Se=q&&Q!=="up"?Math.min(-3,se.bottom-6):se.bottom;this.decoration.createDecoration(X,H.decoration,se.top,I?I.w:0,se,z,Q,Se,H.positioning,this.hasVocals,this.accentAbove)}if(H.barNumber&&se.addFixed(new b(H.barNumber,-10,0,0,{type:"barNumber"})),P(se,H.minpitch,H.maxpitch,H.rest,B,V,Q,-2,1),H.chord!==void 0){var we=T(this.getTextSize,se,H,z,A,B,this.jazzchords,this.germanAlphabet);z=we.roomTaken,A=we.roomTakenRight}return H.startTriplet&&(this.triplet=new p(H.startTriplet,I,{flatBeams:this.flatBeams})),H.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(I),this.triplet&&!H.startTriplet&&!H.endTriplet&&!(H.rest&&H.rest.type==="spacer")&&this.triplet.middleNote(I),se},G.prototype.addSlursAndTies=function(H,q,U,X,I,z){if(q.endTie&&this.ties.length>0){for(var A=!1,B=0;B<this.ties.length;B++)if(this.ties[B].anchor1&&this.ties[B].anchor1.pitch===U.pitch){this.ties[B].setEndAnchor(U),X.setRange(this.ties[B]),this.ties.splice(B,1),A=!0;break}A||(this.ties[0].setEndAnchor(U),X.setRange(this.ties[0]),this.ties.splice(0,1))}var V=X.voicetotal<2?-1:X.voicenumber;if(q.startTie){var Q=new _({anchor1:U,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:z,voiceNumber:V,style:q.startTie.style});D&&Q.setHint(),this.ties[this.ties.length]=Q,X.addOther(Q),H.startTie=!0}var W,K;if(q.endSlur)for(var re=0;re<q.endSlur.length;re++)K=q.endSlur[re],this.slurs[K]?(W=this.slurs[K],W.setEndAnchor(U),X.setRange(W),delete this.slurs[K]):(W=new _({anchor2:U,stemDir:this.stemdir,voiceNumber:V}),D&&W.setHint(),X.addOther(W)),this.startlimitelem&&W.setStartX(this.startlimitelem);else if(!z)for(var he in this.slurs)this.slurs.hasOwnProperty(he)&&this.slurs[he].addInternalNote(U);if(q.startSlur)for(re=0;re<q.startSlur.length;re++)K=q.startSlur[re].label,W=new _({anchor1:U,stemDir:this.stemdir,voiceNumber:V,style:q.startSlur[re].style}),D&&W.setHint(),this.slurs[K]=W,X.addOther(W)},G.prototype.addMeasureNumber=function(H,q){var U=this.getTextSize.calc(H,"measurefont","bar-number"),X=0;q.isClef&&(X+=U.width/2);var I=U.width>10&&q.abcelem.type==="treble"?13.5:11;q.addFixed(new b(H,X,U.width,I+U.height/x.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))},G.prototype.createBarLine=function(H,q,U){var X=new t(q,0,10,"bar",this.tuneNumber),I=null,z=0;q.barNumber&&this.addMeasureNumber(q.barNumber,X);var A=q.type==="bar_right_repeat"||q.type==="bar_dbl_repeat",B=q.type!=="bar_left_repeat"&&q.type!=="bar_thick_thin"&&q.type!=="bar_invisible",V=q.type==="bar_right_repeat"||q.type==="bar_dbl_repeat"||q.type==="bar_left_repeat"||q.type==="bar_thin_thick"||q.type==="bar_thick_thin",Q=q.type==="bar_left_repeat"||q.type==="bar_thick_thin"||q.type==="bar_thin_thin"||q.type==="bar_dbl_repeat",W=q.type==="bar_left_repeat"||q.type==="bar_dbl_repeat";if(A||W){for(var K in this.slurs)this.slurs.hasOwnProperty(K)&&this.slurs[K].setEndX(X);this.startlimitelem=X}if(A&&(X.addRight(new b("dots.dot",z,1,7)),X.addRight(new b("dots.dot",z,1,5)),z+=6),B&&(I=new b(null,z,1,2,{type:"bar",pitch2:10,linewidth:.6}),X.addRight(I)),q.type==="bar_invisible"&&(I=new b(null,z,1,2,{type:"none",pitch2:10,linewidth:.6}),X.addRight(I)),q.decoration&&this.decoration.createDecoration(H,q.decoration,12,V?3:1,X,0,"down",2,q.positioning,this.hasVocals,this.accentAbove),V&&(z+=4,I=new b(null,z,4,2,{type:"bar",pitch2:10,linewidth:4}),X.addRight(I),z+=5),this.partstartelem&&q.endEnding&&(this.partstartelem.anchor2=I,this.partstartelem=null),Q&&(z+=3,I=new b(null,z,1,2,{type:"bar",pitch2:10,linewidth:.6}),X.addRight(I)),W&&(z+=3,X.addRight(new b("dots.dot",z,1,7)),X.addRight(new b("dots.dot",z,1,5))),q.startEnding&&U&&H.voicenumber===0){var re=this.getTextSize.calc(q.startEnding,"repeatfont","").width;X.minspacing+=re+10,this.partstartelem=new d(q.startEnding,I,null),H.addOther(this.partstartelem)}return X.extraw-=5,q.chord!==void 0&&T(this.getTextSize,X,q,0,0,0,!1,this.germanAlphabet),X},Mg=G,Mg}var kg,r9;function lB(){if(r9)return kg;r9=1;var t="http://www.w3.org/2000/svg";function e(u){this.svg=c(),this.currentGroup=[],u.appendChild(this.svg)}e.prototype.clear=function(){if(this.svg){var u=this.svg.parentNode;this.svg=c(),this.currentGroup=[],u&&(u.innerHTML="",u.appendChild(this.svg))}},e.prototype.setTitle=function(u){var f=document.createElement("title"),d=document.createTextNode(u);f.appendChild(d),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.setResponsiveWidth=function(u,f){if(this.svg.setAttribute("viewBox","0 0 "+u+" "+f),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var d=this.svg.parentNode.getAttribute("class");d?d.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",d+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var g=f/u*100;this.svg.parentNode.style["padding-bottom"]=g+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}},e.prototype.setSize=function(u,f){this.svg.setAttribute("width",u),this.svg.setAttribute("height",f)},e.prototype.setAttribute=function(u,f){this.svg.setAttribute(u,f)},e.prototype.setScale=function(u){u!==1?(this.svg.style.transform="scale("+u+","+u+")",this.svg.style["-ms-transform"]="scale("+u+","+u+")",this.svg.style["-webkit-transform"]="scale("+u+","+u+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")},e.prototype.insertStyles=function(u){var f=document.createElementNS(t,"style");f.textContent=u,this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.setParentStyles=function(u){for(var f in u)u.hasOwnProperty(f)&&this.svg.parentNode&&(this.svg.parentNode.style[f]=u[f]);if(this.dummySvg){var d=document.querySelector("body");d.removeChild(this.dummySvg),this.dummySvg=null}};function o(u,f,d){var g=d-u;return"M "+u+" "+f+" l "+g+" 0 l 0 1  l "+-g+" 0  z "}function n(u,f,d){var g=d-f;return"M "+u+" "+f+" l 0 "+g+" l 1 0  l 0 "+-g+"  z "}e.prototype.rect=function(u){var f=[],d=u.x,g=u.y,b=u.x+u.width,x=u.y+u.height;return f.push(o(d,g,b)),f.push(o(d,x,b)),f.push(n(b,g,x)),f.push(n(d,x,g)),this.path({path:f.join(" "),stroke:"none","data-name":u["data-name"]})},e.prototype.dottedLine=function(u){var f=document.createElementNS(t,"line");f.setAttribute("x1",u.x1),f.setAttribute("x2",u.x2),f.setAttribute("y1",u.y1),f.setAttribute("y2",u.y2),f.setAttribute("stroke",u.stroke),f.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.rectBeneath=function(u){var f=document.createElementNS(t,"rect");f.setAttribute("x",u.x),f.setAttribute("width",u.width),f.setAttribute("y",u.y),f.setAttribute("height",u.height),u.stroke&&f.setAttribute("stroke",u.stroke),u["stroke-opacity"]&&f.setAttribute("stroke-opacity",u["stroke-opacity"]),u.fill&&f.setAttribute("fill",u.fill),u["fill-opacity"]&&f.setAttribute("fill-opacity",u["fill-opacity"]),this.svg.insertBefore(f,this.svg.firstChild)},e.prototype.text=function(u,f,d){var g=document.createElementNS(t,"text");g.setAttribute("stroke","none");for(var b in f)f.hasOwnProperty(b)&&g.setAttribute(b,f[b]);for(var x=f["data-name"]=="free-text",y=(""+u).split(`
`),m=0;m<y.length;m++)if(!(x&&y[m]=="")){var _=document.createElementNS(t,"tspan");if(_.setAttribute("x",f.x?f.x:0),m!==0&&_.setAttribute("dy","1.2em"),y[m].indexOf("")!==-1){var p=y[m].split("");if(_.textContent=p[0],p[1]){var w=document.createElementNS(t,"tspan");w.setAttribute("dy","-0.3em"),w.setAttribute("style","font-size:0.7em"),w.textContent=p[1],_.appendChild(w)}if(p[2]){var T=p[1]?"0.4em":"0.1em",C=document.createElementNS(t,"tspan");C.setAttribute("dy",T),C.setAttribute("style","font-size:0.7em"),C.textContent=p[2],_.appendChild(C)}}else x&&y[m].trim()==""?_.innerHTML="&nbsp;":_.textContent=y[m];g.appendChild(_)}return d?d.appendChild(g):this.append(g),g},e.prototype.richTextLine=function(u,f,d,g,b,x){var y=document.createElementNS(t,"text");y.setAttribute("stroke","none"),y.setAttribute("class",g),y.setAttribute("x",f),y.setAttribute("y",d),y.setAttribute("text-anchor",b),y.setAttribute("dominant-baseline","middle");for(var m=0;m<u.length;m++){for(var _=u[m],p=document.createElementNS(t,"tspan"),w=Object.keys(_.attrs),T=0;T<w.length;T++){var C=_.attrs[w[T]];C!==""&&p.setAttribute(w[T],C)}p.textContent=_.content,y.appendChild(p)}return x?x.appendChild(y):this.append(y),y},e.prototype.guessWidth=function(u,f){var d=this.createDummySvg(),g=this.text(u,f,d),b;try{b=g.getBBox(),isNaN(b.height)||!b.height?b={width:f["font-size"]/2,height:f["font-size"]+2}:b={width:b.width,height:b.height}}catch{b={width:f["font-size"]/2,height:f["font-size"]+2}}return d.removeChild(g),b},e.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=c();var u=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",u.join(""));var f=document.querySelector("body");f.appendChild(this.dummySvg)}return this.dummySvg};var a={};e.prototype.getTextSize=function(u,f,d){if(typeof u=="number"&&(u=""+u),!u||u.match(/^\s+$/))return{width:0,height:0};var g;if(u.length<20&&(g=u+JSON.stringify(f),a[g]))return a[g];var b=!d;d||(d=this.text(u,f));var x;try{x=d.getBBox(),isNaN(x.height)||!x.height?x=this.guessWidth(u,f):x={width:x.width,height:x.height}}catch{x=this.guessWidth(u,f)}return b&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(d):this.svg.removeChild(d)),g&&(a[g]=x),x},e.prototype.openGroup=function(u){u=u||{};var f=document.createElementNS(t,"g");return u.klass&&f.setAttribute("class",u.klass),u.fill&&f.setAttribute("fill",u.fill),u.stroke&&f.setAttribute("stroke",u.stroke),u["data-name"]&&f.setAttribute("data-name",u["data-name"]),u.prepend?this.prepend(f):this.append(f),this.currentGroup.unshift(f),f},e.prototype.closeGroup=function(){var u=this.currentGroup.shift();return u&&u.children.length===0?(u.parentElement.removeChild(u),null):u},e.prototype.path=function(u){var f=document.createElementNS(t,"path");for(var d in u)u.hasOwnProperty(d)&&(d==="path"?f.setAttributeNS(null,"d",u.path):d==="klass"?f.setAttributeNS(null,"class",u[d]):u[d]!==void 0&&f.setAttributeNS(null,d,u[d]));return this.append(f),f},e.prototype.pathToBack=function(u){var f=document.createElementNS(t,"path");for(var d in u)u.hasOwnProperty(d)&&(d==="path"?f.setAttributeNS(null,"d",u.path):d==="klass"?f.setAttributeNS(null,"class",u[d]):f.setAttributeNS(null,d,u[d]));return this.prepend(f),f},e.prototype.lineToBack=function(u){for(var f=document.createElementNS(t,"line"),d=Object.keys(u),g=0;g<d.length;g++)f.setAttribute(d[g],u[d[g]]);return this.prepend(f),f},e.prototype.append=function(u){this.currentGroup.length>0?this.currentGroup[0].appendChild(u):this.svg.appendChild(u)},e.prototype.prepend=function(u){this.currentGroup.length>0?this.currentGroup[0].appendChild(u):this.svg.insertBefore(u,this.svg.firstChild)},e.prototype.setAttributeOnElement=function(u,f){for(var d in f)f.hasOwnProperty(d)&&u.setAttributeNS(null,d,f[d])},e.prototype.moveElementToChild=function(u,f){u.appendChild(f)};function c(){var u=document.createElementNS(t,"svg");return u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("role","img"),u.setAttribute("fill","currentColor"),u.setAttribute("stroke","currentColor"),u}return kg=e,kg}var Ng,i9;function cB(){if(i9)return Ng;i9=1;var t=xr(),e=lB(),o=function(n){this.paper=new e(n),this.controller=null,this.space=3*t.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};return o.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()},o.prototype.newTune=function(n){this.abctune=n,this.setVerticalSpace(n.formatting),this.isPrint=n.media==="print",this.setPadding(n)},o.prototype.setLineThickness=function(n){this.lineThickness=n},o.prototype.setPaddingOverride=function(n){this.paddingOverride={top:n.paddingtop,bottom:n.paddingbottom,right:n.paddingright,left:n.paddingleft}},o.prototype.setPadding=function(n){function a(c,u,f,d,g){n.formatting[f]!==void 0?c.padding[u]=n.formatting[f]:c.paddingOverride[u]!==void 0?c.padding[u]=c.paddingOverride[u]:c.isPrint?c.padding[u]=d:c.padding[u]=g}a(this,"top","topmargin",38,15),a(this,"bottom","botmargin",38,15),a(this,"left","leftmargin",68,15),a(this,"right","rightmargin",68,15)},o.prototype.adjustNonScaledItems=function(n){this.padding.top/=n,this.padding.bottom/=n,this.padding.left/=n,this.padding.right/=n,this.abctune.formatting.headerfont.size/=n,this.abctune.formatting.footerfont.size/=n},o.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}},o.prototype.setVerticalSpace=function(n){n.staffsep!==void 0&&(this.spacing.staffSeparation=n.staffsep*4/3),n.composerspace!==void 0&&(this.spacing.composer=n.composerspace*4/3),n.partsspace!==void 0&&(this.spacing.parts=n.partsspace*4/3),n.textspace!==void 0&&(this.spacing.text=n.textspace*4/3),n.musicspace!==void 0&&(this.spacing.music=n.musicspace*4/3),n.titlespace!==void 0&&(this.spacing.title=n.titlespace*4/3),n.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=n.sysstaffsep*4/3),n.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=n.stafftopmargin*4/3),n.subtitlespace!==void 0&&(this.spacing.subtitle=n.subtitlespace*4/3),n.topspace!==void 0&&(this.spacing.top=n.topspace*4/3),n.vocalspace!==void 0&&(this.spacing.vocal=n.vocalspace*4/3),n.wordsspace!==void 0&&(this.spacing.words=n.wordsspace*4/3)},o.prototype.calcY=function(n){return this.y-n*t.STEP},o.prototype.moveY=function(n,a){a===void 0&&(a=1),this.y+=n*a},o.prototype.absolutemoveY=function(n){this.y=n},Ng=o,Ng}var Rg,a9;function uB(){if(a9)return Rg;a9=1;function t(e,o,n,a,c,u){var f=e.text;this.rows=[];var d;o&&this.rows.push({move:o});var g=n.calc("textfont","defined-text");if(f==="")this.rows.push({move:g.attr["font-size"]*2});else if(typeof f=="string"){let T=function(C){return C.replace(/^[ \t]*\n/gm,`X
`)};var w=T;this.rows.push({move:g.attr["font-size"]/2}),this.rows.push({left:a,text:f,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"});var b=T(f);d=u.calc(b,"textfont","defined-text"),this.rows.push({move:d.height})}else if(f){for(var x=0,y=a,m="textfont",_=0;_<f.length;_++)f[_].font?m=f[_].font:m="textfont",this.rows.push({left:y,text:f[_].text,font:m,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=u.calc(f[_].text,n.calc(m,"defined-text").font,"defined-text"),y+=d.width+d.height/2,x=Math.max(x,d.height);this.rows.push({move:x})}else if(e.length===1){var p=c/2;this.rows.push({left:p,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),d=u.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:d.height})}}return Rg=t,Rg}var Dg,s9;function fB(){if(s9)return Dg;s9=1;function t(e,o,n){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:o,absElemType:"separator"}),n&&this.rows.push({move:n})}return Dg=t,Dg}var Og,o9;function hB(){if(o9)return Og;o9=1;function t(e,o,n,a,c,u){this.rows=[],e&&this.rows.push({move:e});var f=o.titleleft?"start":"middle",d=o.titleleft?c:a;this.rows.push({left:d,text:n.text,font:"subtitlefont",klass:"text subtitle",anchor:f,startChar:n.startChar,endChar:n.endChar,absElemType:"subtitle",name:"subtitle"});var g=u.calc(n.text,"subtitlefont","text subtitle");this.rows.push({move:g.height})}return Og=t,Og}var zg,l9;function s3(){if(l9)return zg;l9=1;function t(e,o,n){if(o.text){o.marginLeft||(o.marginLeft=0),o.klass||(o.klass=""),o.anchor||(o.anchor="start"),o.info||(o.info={startChar:-2,endChar:-2}),o.marginTop&&e.push({move:o.marginTop});var a={left:o.marginLeft,text:o.text,font:o.font,anchor:o.anchor,startChar:o.info.startChar,endChar:o.info.endChar,"dominant-baseline":o["dominant-baseline"]};o.absElemType&&(a.absElemType=o.absElemType),!o.inGroup&&o.klass&&(a.klass=o.klass),o.name&&(a.name=o.name),e.push(a);var c=n.calc("A",o.font,o.klass),u=o.text.split(`
`).length;if(o.text[o.text.length-1]===`
`&&u--,!o.noMove){var f=c.height*1.1*u;e.push({move:Math.round(f)}),o.marginBottom&&e.push({move:o.marginBottom})}}}return zg=t,zg}var Bg,c9;function bw(){if(c9)return Bg;c9=1;const t=s3();function e(o,n,a,c,u,f,d,g){var b=g.calc("i",a,c);if(n==="")o.push({move:b.height});else{if(typeof n=="string"){t(o,{marginLeft:f,text:n,font:a,klass:c,marginTop:d.marginTop,anchor:d.anchor,absElemType:d.absElemType,info:d.info,name:u},g);return}d.marginTop&&o.push({move:d.marginTop});var x=0,y={left:f,anchor:d.anchor,phrases:[]};c&&(y.klass=c),o.push(y);for(var m=0;m<n.length;m++){var _=n[m],p=_.font?_.font:g.attr(a,c).font,w={content:_.text};p&&(w.attrs={"font-family":g.getFamily(p.face),"font-size":p.size,"font-weight":p.weight,"font-style":p.style,"font-decoration":p.decoration}),y.phrases.push(w);var T=g.calc(_.text,p,c);x=Math.max(x,T.height),_.text[_.text.length-1]===" "&&b.width}o.push({move:x})}}return Bg=e,Bg}var Lg,u9;function dB(){if(u9)return Lg;u9=1;const t=s3(),e=bw();function o(n,a,c,u,f,d,g,b,x,y){if(this.rows=[],n.header&&d){var m=y.calc("X","headerfont","abcjs-header abcjs-meta-top").height;t(this.rows,{marginLeft:g,text:n.header.left,font:"headerfont",klass:"header meta-top",marginTop:-m,info:a.header,name:"header"},y),t(this.rows,{marginLeft:g+f/2,text:n.header.center,font:"headerfont",klass:"header meta-top",marginTop:-m,anchor:"middle",info:a.header,name:"header"},y),t(this.rows,{marginLeft:g+f,text:n.header.right,font:"headerfont",klass:"header meta-top",marginTop:-m,anchor:"end",info:a.header,name:"header"},y)}d&&this.rows.push({move:b.top});var _=c.titleleft?"start":"middle",p=c.titleleft?g:g+f/2;if(n.title){var w=x?"abcjs-title":"";e(this.rows,n.title,"titlefont",w,"title",p,{marginTop:b.title,anchor:_,absElemType:"title",info:a.title},y)}if(u.length)for(var T=0;T<u.length&&u[T].subtitle;){var w=x?"abcjs-text abcjs-subtitle":"";e(this.rows,u[T].subtitle.text,"subtitlefont",w,"subtitle",p,{marginTop:b.subtitle,anchor:_,absElemType:"subtitle",info:u[T].subtitle},y),T++}if(n.rhythm||n.origin||n.composer){if(this.rows.push({move:b.composer}),n.rhythm&&n.rhythm.length>0){var C=!!(n.composer||n.origin),w=x?"abcjs-rhythm":"";t(this.rows,{marginLeft:g,text:n.rhythm,font:"infofont",klass:w,absElemType:"rhythm",noMove:C,info:a.rhythm,name:"rhythm"},y)}n.composer&&n.composer,n.origin&&n.origin;var N=n.composer?n.composer:"";if(n.origin&&(typeof N=="string"&&typeof n.origin=="string"?N+=" ("+n.origin+")":typeof N=="string"&&typeof n.origin!="string"?(N=[{text:N}],N.push({text:" ("}),N=N.concat(n.origin),N.push({text:")"})):(N.push({text:" ("}),N=N.concat(n.origin),N.push({text:")"}))),N){var w=x?"abcjs-composer":"";e(this.rows,N,"composerfont",w,"composer",g+f,{anchor:"end",absElemType:"composer",info:a.composer,ingroup:!0},y)}}if(n.author&&n.author.length>0){var w=x?"abcjs-author":"";e(this.rows,n.author,"composerfont",w,"author",g+f,{anchor:"end",absElemType:"author",info:a.author},y)}if(n.partOrder&&n.partOrder.length>0){var w=x?"abcjs-part-order":"";e(this.rows,n.partOrder,"partsfont",w,"part-order",g,{absElemType:"partOrder",info:a.partOrder,anchor:"start"},y)}}return Lg=o,Lg}var qg,f9;function pB(){if(f9)return qg;f9=1;const t=s3(),e=bw();function o(c,u,f,d,g,b,x){this.rows=[],c.unalignedWords&&c.unalignedWords.length>0&&this.unalignedWords(c.unalignedWords,d,g,b,x),this.extraText(c,d,g,b,x),c.footer&&f&&this.footer(c.footer,u,d,x)}o.prototype.unalignedWords=function(c,u,f,d,g){var b=d?"abcjs-unaligned-words":"",x="wordsfont",y=g.calc("i",x,b);this.rows.push({move:f.words}),a(this.rows,"",c,u,x,"unalignedWords","unalignedWords",b,"unalignedWords",f,d,g),this.rows.push({move:y.height})};function n(c,u,f,d,g,b,x){f&&(u&&(typeof f=="string"?f=u+f:f=[{text:u}].concat(f)),g=b?"abcjs-extra-text "+g:"",e(c,f,"historyfont",g,"description",d,{absElemType:"extraText",anchor:"start"},x))}function a(c,u,f,d,g,b,x,y,m,_,p,w){if(f){y=p?"abcjs-extra-text "+y:"";var T=w.calc("A",g,y);if(typeof f=="string")u&&(f=u+`
`+f),t(c,{marginLeft:d,text:f,font:g,absElemType:"extraText",name:m,"dominant-baseline":"middle",klass:y},w);else{c.push({startGroup:x,klass:y,name:m}),c.push({move:_.info}),u&&(t(c,{marginLeft:d,text:u,font:g,absElemType:"extraText",name:m,"dominant-baseline":"middle"},w),c.push({move:T.height*3/4}));for(var C=0;C<f.length;C++)e(c,f[C],g,"",m,d,{anchor:"start"},w),C<f.length-1&&typeof f[C]=="string"&&typeof f[C+1]!="string"&&c.push({move:T.height*3/4});c.push({endGroup:x,absElemType:b,startChar:-1,endChar:-1,name:m}),c.push({move:T.height})}}}return o.prototype.extraText=function(c,u,f,d,g){n(this.rows,"Book: ",c.book,u,"abcjs-book",d,g),n(this.rows,"Source: ",c.source,u,"abcjs-source",d,g),n(this.rows,"Discography: ",c.discography,u,"abcjs-discography",d,g),a(this.rows,"Notes:",c.notes,u,"historyfont","extraText","notes","abcjs-notes","description",f,d,g),n(this.rows,"Transcription: ",c.transcription,u,"abcjs-transcription",d,g),a(this.rows,"History:",c.history,u,"historyfont","extraText","history","abcjs-history","description",f,d,g),n(this.rows,"Copyright: ",c["abc-copyright"],u,"abcjs-copyright",d,g),n(this.rows,"Creator: ",c["abc-creator"],u,"abcjs-creator",d,g),n(this.rows,"Edited By: ",c["abc-edited-by"],u,"abcjs-edited-by",d,g)},o.prototype.footer=function(c,u,f,d){var g="header meta-bottom",b="footerfont";this.rows.push({startGroup:"footer",klass:g}),t(this.rows,{marginLeft:f,text:c.left,font:b,klass:g,name:"footer"},d),t(this.rows,{marginLeft:f+u/2,text:c.center,font:b,klass:g,anchor:"middle",name:"footer"},d),t(this.rows,{marginLeft:f+u,text:c.right,font:b,klass:g,anchor:"end",name:"footer"},d)},qg=o,qg}var jg,h9;function _w(){if(h9)return jg;h9=1;function t(o,n,a,c){if(o.indexOf(n)===0){var u=o.replace(n,""),f=parseInt(u,10);""+f===u&&(a[c]=f)}}function e(o,n){var a=[];if(o.absEl.elemset){for(var c={},u=0;u<o.absEl.elemset.length;u++){var f=o.absEl.elemset[u];if(f)for(var d=f.getAttribute("class").split(" "),g=0;g<d.length;g++)c[d[g]]=!0}for(var b=0;b<Object.keys(c).length;b++)a.push(Object.keys(c)[b])}for(var x={},y=0;y<a.length;y++)t(a[y],"abcjs-v",x,"voice"),t(a[y],"abcjs-l",x,"line"),t(a[y],"abcjs-m",x,"measure");o.staffPos&&(x.staffPos=o.staffPos);for(var m=n.target;m&&m.dataset&&!m.dataset.name&&m.tagName.toLowerCase()!=="svg";)m=m.parentNode;for(var _=n.target;_&&_.dataset&&!_.dataset.index&&_.tagName.toLowerCase()!=="svg";)_=_.parentNode;return _&&_.dataset&&(x.name=_.dataset.name,x.clickedName=m.dataset.name,x.parentClasses=_.classList),m&&m.classList&&(x.clickedClasses=m.classList),x.selectableElement=o.svgEl,{classes:a,analysis:x}}return jg=e,jg}var Pg,d9;function gB(){if(d9)return Pg;d9=1;var t=xr(),e=_w();function o(E,R){if(E.rangeHighlight=N,E.dragging)for(var O=0;O<E.selectables.length;O++){var P=E.selectables[O];P.svgEl.getAttribute("selectable")==="true"&&(P.svgEl.setAttribute("tabindex",0),P.svgEl.setAttribute("data-index",O),P.svgEl.addEventListener("keydown",c.bind(E)),P.svgEl.addEventListener("keyup",u.bind(E)),P.svgEl.addEventListener("focus",a.bind(E)))}for(var j=0;j<R.length;j++)R[j].addEventListener("touchstart",m.bind(E),{passive:!0}),R[j].addEventListener("touchmove",_.bind(E),{passive:!0}),R[j].addEventListener("touchend",p.bind(E),{passive:!0}),R[j].addEventListener("mousedown",m.bind(E)),R[j].addEventListener("mousemove",_.bind(E)),R[j].addEventListener("mouseup",p.bind(E))}function n(E){var R=1,O=1,P=E.target.closest("svg"),j=0;P&&P.viewBox&&P.viewBox.baseVal&&(P.viewBox.baseVal.width!==0&&(R=P.viewBox.baseVal.width/P.clientWidth),P.viewBox.baseVal.height!==0&&(O=P.viewBox.baseVal.height/P.clientHeight),j=P.viewBox.baseVal.y);var Y=E.target&&E.target.tagName==="svg",H,q;return Y?(H=E.offsetX,q=E.offsetY):(H=E.layerX,q=E.layerY),H=H*R,q=q*O,[H,q+j]}function a(E){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&T.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,E),this.dragYStep=0}function c(E){switch(E.keyCode){case 38:case 40:E.preventDefault()}}function u(E){var R=!1,O=E.target.dataset.index;switch(E.keyCode){case 13:case 32:R=!0,this.dragTarget=this.selectables[O],this.dragIndex=O,this.dragMechanism="keyboard",p.bind(this)(E);break;case 38:R=!0,this.dragTarget=this.selectables[O],this.dragIndex=O,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*t.STEP+")"));break;case 40:R=!0,this.dragTarget=this.selectables[O],this.dragIndex=O,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*t.STEP+")"));break;case 9:this.dragYStep!==0&&p.bind(this)(E);break}R&&E.preventDefault()}function f(E,R){if(!R)return-1;var O=R.dataset;if(!O)return-1;for(var P=O.index,j=0;j<E.length;j++){var Y=E[j].svgEl.dataset;if(Y&&P===Y.index)return j}return-1}function d(E,R,O){for(var P=9999999,j=-1,Y=0;Y<E.selectables.length&&P>0;Y++){var H=E.selectables[Y];if(E.getDim(H),H.dim.left<R&&H.dim.right>R&&H.dim.top<O&&H.dim.bottom>O)j=Y,P=0;else if(H.dim.top<O&&H.dim.bottom>O){var q=Math.min(Math.abs(H.dim.left-R),Math.abs(H.dim.right-R));q<P&&(P=q,j=Y)}else if(H.dim.left<R&&H.dim.right>R){var U=Math.min(Math.abs(H.dim.top-O),Math.abs(H.dim.bottom-O));U<P&&(P=U,j=Y)}else{var X=Math.abs(R-H.dim.left)>Math.abs(R-H.dim.right)?Math.abs(R-H.dim.right):Math.abs(R-H.dim.left),I=Math.abs(O-H.dim.top)>Math.abs(O-H.dim.bottom)?Math.abs(O-H.dim.bottom):Math.abs(O-H.dim.top),z=Math.sqrt(X*X+I*I);z<P&&(P=z,j=Y)}}return j>=0&&P<=12?j:-1}function g(E,R,O){if(E.x<=R.offsetX&&E.x+E.width>=R.offsetX&&E.y<=R.offsetY&&E.y+E.height>=R.offsetY)return[R.offsetX,R.offsetY];var P=Math.abs(R.layerY/O-R.offsetY);return P<3?[R.offsetX,R.offsetY]:[R.layerX,R.layerY]}function b(E){if(!E)return null;if(E.tagName==="svg")return E;if(!E.getAttribute)return null;for(var R=E.getAttribute("selectable");!R;)E.parentElement?(E=E.parentElement,E.tagName==="svg"?R=!0:R=E.getAttribute("selectable")):R=!0;return E}function x(E,R){var O,P,j,Y=f(E.selectables,b(R.target));return Y>=0?(j=g(E.selectables[Y].svgEl.getBBox(),R,E.scale),O=j[0],P=j[1]):(j=n(R),O=j[0],P=j[1],Y=d(E,O,P)),{x:O,y:P,clickedOn:Y}}function y(E){if(!(!E||!E.target||!E.touches||E.touches.length<1)){var R=E.target.getBoundingClientRect(),O=E.touches[0].pageX-R.left,P=E.touches[0].pageY-R.top;E.touches[0].offsetX=O,E.touches[0].offsetY=P,E.touches[0].layerX=E.touches[0].pageX,E.touches[0].layerY=E.touches[0].pageY}}function m(E){var R=E;E.type==="touchstart"&&(y(E),E.touches.length>0&&(R=E.touches[0]));var O=x(this,R);O.clickedOn>=0&&(E.type==="touchstart"||E.button===0)&&this.selectables[O.clickedOn]&&(this.dragTarget=this.selectables[O.clickedOn],this.dragIndex=O.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:O.x,y:O.y},this.dragging&&this.dragTarget.isDraggable&&(F(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function _(E){var R=E;if(E.type==="touchmove"&&(y(E),E.touches.length>0&&(R=E.touches[0])),this.lastTouchMove=E,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var O=x(this,R),P=Math.round((O.y-this.dragMouseStart.y)/t.STEP);P!==this.dragYStep&&(this.dragYStep=P,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+P*t.STEP+")"))}}function p(E){var R=E;E.type==="touchend"&&this.lastTouchMove&&(y(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(R=this.lastTouchMove.touches[0])),this.dragTarget&&(C.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),T.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,R),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),G(this.renderer.svg,"abcjs-dragging-in-progress"))}function w(E){E>=0&&E<this.selectables.length&&(this.dragTarget=this.selectables[E],this.dragIndex=E,this.dragMechanism="keyboard",p.bind(this)({target:this.dragTarget.svgEl}))}function T(E,R,O,P,j){for(var Y=e(E,j),H=Y.classes,q=Y.analysis,U=0;U<this.listeners.length;U++)this.listeners[U](E.absEl.abcelem,E.absEl.tuneNumber,H.join(" "),q,{step:R,max:O,index:P,setSelection:w.bind(this)},j)}function C(){for(var E=0;E<this.selected.length;E++)this.selected[E].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function N(E,R){C.bind(this)();for(var O=0;O<this.staffgroups.length;O++)for(var P=this.staffgroups[O].voices,j=0;j<P.length;j++)for(var Y=P[j].children,H=0;H<Y.length;H++){var q=Y[H].abcelem.startChar,U=Y[H].abcelem.endChar;(R>q&&E<U||R===E&&R===U)&&(this.selected[this.selected.length]=Y[H],Y[H].highlight(void 0,this.selectionColor))}}function k(E){var R=E.getAttribute("class");R||(R="");for(var O=R.split(" "),P={},j=0;j<O.length;j++)P[O[j]]=!0;return P}function D(E,R){var O=[];for(var P in R)R.hasOwnProperty(P)&&O.push(P);E.setAttribute("class",O.join(" "))}function F(E,R){if(E){var O=k(E.svg);O[R]=!0,D(E.svg,O)}}function G(E,R){if(E){var O=k(E.svg);delete O[R],D(E.svg,O)}}return Pg=o,Pg}var Hg,p9;function o3(){if(p9)return Hg;p9=1;function t(e,o,n,a,c){return o+(a-o)/(n-e)*(c-e)}return Hg=t,Hg}var Yg,g9;function vB(){if(g9)return Yg;g9=1;var t=Gi(),e=xr(),o=o3(),n=function(y){if(!(y.elems.length===0||y.allrests)){var m=f(y.stemsUp,y.isgrace),_=y.elems[0],p=y.elems[y.elems.length-1],w=0,T=y.stemsUp?_.abcelem.maxpitch:_.abcelem.minpitch;w=c(_,y.stemsUp,T,w),w=c(p,y.stemsUp,T,w),w=Math.max(y.stemHeight,w+3);var C=g(y.average,y.elems.length,w,y.stemsUp,_.abcelem.averagepitch,p.abcelem.averagepitch,y.isflat,y.min,y.max,y.isgrace),N=d(y.stemsUp,_,p);y.addBeam({startX:N[0],endX:N[1],startY:C[0],endY:C[1],dy:m});for(var k=x(y.elems,y.stemsUp,y.beams[0],y.isgrace,m),D=0;D<k.length;D++)y.addBeam(k[D]);b(y.elems,y.stemsUp,y.beams[0],m,y.mainNote)}},a=function(y){return y===void 0?0:Math.floor(Math.log(y)/Math.log(2))};function c(y,m,_,p){if(!y.children)return p;for(var w=0;w<y.children.length;w++){var T=y.children[w];m&&T.top!==void 0&&T.c==="flags.ugrace"?p=Math.max(p,T.top-_):!m&&T.bottom!==void 0&&T.c==="flags.ugrace"&&(p=Math.max(p,_-T.bottom+7))}return p}function u(y,m,_,p){if(p)return 0;var w=y-m,T=_/2;return w>T&&(w=T),w<-T&&(w=-T),w}function f(y,m){var _=y?e.STEP:-e.STEP;return m&&(_=_*.4),_}function d(y,m,_){var p=m.heads[y?0:m.heads.length-1],w=_.heads[y?0:_.heads.length-1],T=p.x;y&&(T+=p.w-.6);var C=w.x;return C+=y?w.w:.6,[T,C]}function g(y,m,_,p,w,T,C,N,k,D){var F=_-2,G=_-2,E=Math.round(p?Math.max(y+F,k+G):Math.min(y-F,N-G)),R=u(w,T,m,C),O=E+Math.floor(R/2),P=E+Math.floor(-R/2);return D||(p&&E<6||!p&&E>6)&&(O=6,P=6),[O,P]}function b(y,m,_,p,w){for(var T=0;T<y.length;T++){var C=y[T];if(!C.abcelem.rest){var N=!C.addExtra,k=N?w:C,D=C.heads[m?0:C.heads.length-1],F=1/5,G=D.pitch+(m?F:-F),E=m?D.w:0;N||(E+=D.dx);var R=D.x+E,O=o(_.startX,_.startY,_.endX,_.endY,R),P=m?-.6:.6;m||(O-=p/2/e.STEP),N&&(E+=C.heads[0].dx),D.c==="noteheads.slash.quarter"&&(m?G+=1:G-=1);var j=new t(null,E,0,G,{type:"stem",pitch2:O,linewidth:P});j.setX(k.x),k.addRight(j)}}}function x(y,m,_,p,w){for(var T=[],C=[],N=0;N<y.length;N++){var k=y[N];if(!k.abcelem.rest){var D=k.heads[m?0:k.heads.length-1],F=D.x+(m?D.w:0),G=o(_.startX,_.startY,_.endX,_.endY,F),E=m?-1.5:1.5;p&&(E=E*2/3);var R=k.abcelem.duration;R===0&&(R=.25);for(var O=a(R);O<-3;O++){var P=-4-O;if(C[P]?C[P].single=!1:C[P]={x:F+(m?-.6:0),y:G+E*(P+1),durlog:O,single:!0},N>0&&k.abcelem.beambr&&k.abcelem.beambr<=P+1){C[P].split||(C[P].split=[C[P].x]);var j=d(m,y[N-1],k);C[P].split[C[P].split.length-1]>=j[0]&&(j[0]+=k.w),C[P].split.push(j[0]),C[P].split.push(j[1])}}for(var Y=C.length-1;Y>=0;Y--)if(N===y.length-1||a(y[N+1].abcelem.duration)>-Y-4){var H=F,q=G+E*(Y+1);C[Y].single&&(H=N===0?F+5:F-5,q=o(_.startX,_.startY,_.endX,_.endY,H)+E*(Y+1));var U={startX:C[Y].x,endX:H,startY:C[Y].y,endY:q,dy:w};if(C[Y].split!==void 0){var X=C[Y].split;U.endX<=X[X.length-1]&&(X[X.length-1]-=k.w),X.push(U.endX),U.split=C[Y].split}T.push(U),C=C.slice(0,Y)}}}return T}return Yg=n,Yg}var Ug,v9;function mB(){if(v9)return Ug;v9=1;var t=o3();function e(c){if(c.anchor1&&c.anchor2){c.hasBeam=!!c.anchor1.parent.beam&&c.anchor1.parent.beam===c.anchor2.parent.beam;var u=c.anchor1.parent.beam;if(c.hasBeam&&(u.elems[0]!==c.anchor1.parent||u.elems[u.elems.length-1]!==c.anchor2.parent)&&(c.hasBeam=!1),c.hasBeam){var f=o(u)?c.anchor1.x+c.anchor1.w:c.anchor1.x;c.yTextPos=n(f,c.anchor2.x,u),c.yTextPos+=o(u)?3:-2,c.xTextPos=a(f,c.anchor2.x),c.top=c.yTextPos+1,c.bottom=c.yTextPos-2,o(u)&&(c.endingHeightAbove=4)}else{c.startNote=Math.max(c.anchor1.parent.top,9)+4,c.endNote=Math.max(c.anchor2.parent.top,9)+4,c.anchor1.parent.type==="rest"&&c.anchor2.parent.type!=="rest"?c.startNote=c.endNote:c.anchor2.parent.type==="rest"&&c.anchor1.parent.type!=="rest"&&(c.endNote=c.startNote);for(var d=0,g=0;g<c.middleElems.length;g++)d=Math.max(d,c.middleElems[g].top);d+=4,(d>c.startNote||d>c.endNote)&&(c.startNote=d,c.endNote=d),c.flatBeams&&(c.startNote=Math.max(c.startNote,c.endNote),c.endNote=Math.max(c.startNote,c.endNote)),c.yTextPos=c.startNote+(c.endNote-c.startNote)/2,c.xTextPos=c.anchor1.x+(c.anchor2.x+c.anchor2.w-c.anchor1.x)/2,c.top=c.yTextPos+1}}delete c.middleElems,delete c.flatBeams}function o(c){return c.stemsUp}function n(c,u,f){if(f.beams.length===0)return 0;f=f.beams[0];var d=c+(u-c)/2;return t(f.startX,f.startY,f.endX,f.endY,d)}function a(c,u){return c+(u-c)/2}return Ug=e,Ug}var Fg,m9;function yB(){if(m9)return Fg;m9=1;var t=vB(),e=o3(),o=mB(),n=function(b){for(var x=0;x<b.beams.length;x++)if(b.beams[x].type==="BeamElem"){t(b.beams[x]),a(b.beams[x]);for(var y=0;y<b.beams[x].elems.length;y++)b.adjustRange(b.beams[x].elems[y])}for(b.staff.specialY.chordLines=u(b.children),x=0;x<b.otherchildren.length;x++){var m=b.otherchildren[x];m.type==="TripletElem"&&(o(m),b.adjustRange(m))}b.staff.top=Math.max(b.staff.top,b.top),b.staff.bottom=Math.min(b.staff.bottom,b.bottom)};function a(b){for(var x=1.5,y=0;y<b.elems.length;y++){var m=b.elems[y];if(m.top)for(var _=g(m,b),p=0;p<m.children.length;p++){var w=m.children[p];if(w.klass==="ornament"&&w.position!=="below"&&w.bottom-x<_){var T=_-w.bottom+x;w.bottom+=T,w.top+=T,w.pitch+=T,_=m.top=w.top}}}}function c(b,x){var y=x.getChordDim();if(y){for(var m=0;m<b.length;m++){var _=b[m]<y.left;if(_){m>0&&x.putChordInLane(m),b[m]=y.right;return}}b.push(y.right),x.putChordInLane(b.length-1)}}function u(b){var x=[0],y=[0],m,_,p;for(m=0;m<b.length;m++){for(_=0;_<b[m].children.length;_++)p=b[m].children[_],p.chordHeightAbove&&c(x,p);for(_=b[m].children.length-1;_>=0;_--)p=b[m].children[_],p.chordHeightBelow&&c(y,p)}return(x.length>1||y.length>1)&&d(b,x.length,y.length),{above:x.length,below:y.length}}function f(b){for(var x=0,y=0;y<b.children.length;y++){var m=b.children[y];m.chordHeightBelow&&x++}return x}function d(b,x,y){for(var m=0;m<b.length;m++){f(b[m]);for(var _=0;_<b[m].children.length;_++){var p=b[m].children[_];p.chordHeightAbove&&p.invertLane(x)}}}function g(b,x){return x=x.beams[0],e(x.startX,x.startY,x.endX,x.endY,b.x)}return Fg=n,Fg}var Gg,y9;function bB(){if(y9)return Gg;y9=1;var t=xr(),e=function(x,y){for(var m,_=0;_<y.staffs.length;_++){var p=y.staffs[_],w={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(x.showDebug&&x.showDebug.indexOf("box")>=0&&(p.originalTop=p.top,p.originalBottom=p.bottom),n(p,w,"lyricHeightAbove"),n(p,w,"chordHeightAbove",p.specialY.chordLines.above),p.specialY.endingHeightAbove&&(p.specialY.chordHeightAbove?p.top+=2:p.top+=p.specialY.endingHeightAbove+o,w.endingHeightAbove=p.top),p.specialY.dynamicHeightAbove&&p.specialY.volumeHeightAbove?(p.top+=Math.max(p.specialY.dynamicHeightAbove,p.specialY.volumeHeightAbove)+o,w.dynamicHeightAbove=p.top,w.volumeHeightAbove=p.top):(n(p,w,"dynamicHeightAbove"),n(p,w,"volumeHeightAbove")),n(p,w,"partHeightAbove"),n(p,w,"tempoHeightAbove"),p.specialY.lyricHeightBelow&&(p.specialY.lyricHeightBelow+=x.spacing.vocal/t.STEP,w.lyricHeightBelow=p.bottom,p.bottom-=p.specialY.lyricHeightBelow+o),p.specialY.chordHeightBelow){w.chordHeightBelow=p.bottom;var T=p.specialY.chordHeightBelow;p.specialY.chordLines.below&&(T*=p.specialY.chordLines.below),p.bottom-=T+o}p.specialY.volumeHeightBelow&&p.specialY.dynamicHeightBelow?(w.volumeHeightBelow=p.bottom,w.dynamicHeightBelow=p.bottom,p.bottom-=Math.max(p.specialY.volumeHeightBelow,p.specialY.dynamicHeightBelow)+o):p.specialY.volumeHeightBelow?(w.volumeHeightBelow=p.bottom,p.bottom-=p.specialY.volumeHeightBelow+o):p.specialY.dynamicHeightBelow&&(w.dynamicHeightBelow=p.bottom,p.bottom-=p.specialY.dynamicHeightBelow+o),x.showDebug&&x.showDebug.indexOf("box")>=0&&(p.positionY=w);for(var C=0;C<p.voices.length;C++){var N=y.voices[p.voices[C]];a(w,N,x.spacing)}if(m!==void 0){var k=p.top-10,D=m+k,F=x.spacing.systemStaffSeparation/t.STEP,G=F-D;G>0&&(p.top+=G)}p.top+=x.spacing.staffTopMargin/t.STEP,m=2-p.bottom}},o=1;function n(x,y,m,_){if(x.specialY[m]){var p=x.specialY[m];_&&(p*=_),x.top+=p+o,y[m]=x.top}}function a(x,y,m){var _,p;for(_=0;_<y.children.length;_++)p=y.children[_],c(x,p,m);for(_=0;_<y.otherchildren.length;_++)switch(p=y.otherchildren[_],p.type){case"CrescendoElem":u(x,p);break;case"DynamicDecoration":f(x,p);break;case"EndingElem":d(x,p);break;case"TieElem":var w=p.getYBounds();y.staff.top=Math.max(y.staff.top,w[0]),y.staff.top=Math.max(y.staff.top,w[1]),y.staff.bottom=Math.min(y.staff.bottom,w[0]),y.staff.bottom=Math.min(y.staff.bottom,w[1]);break}}function c(x,y,m){for(var _=0;_<y.children.length;_++){var p=y.children[_];for(var w in y.specialY)y.specialY.hasOwnProperty(w)&&p[w]&&(p.pitch=x[w],p.top===void 0&&(p.type==="TempoElement"?g(x,p):b(x,p,m),y.pushTop(p.top),y.pushBottom(p.bottom)))}}function u(x,y){y.dynamicHeightAbove?y.pitch=x.dynamicHeightAbove:y.pitch=x.dynamicHeightBelow}function f(x,y){y.volumeHeightAbove?y.pitch=x.volumeHeightAbove:y.pitch=x.volumeHeightBelow}function d(x,y){y.pitch=x.endingHeightAbove-2}function g(x,y){if(y.pitch=x.tempoHeightAbove,y.top=x.tempoHeightAbove,y.bottom=x.tempoHeightAbove,y.note){var m=y.pitch-y.totalHeightInPitches+1;y.note.top=m,y.note.bottom=m;for(var _=0;_<y.note.children.length;_++){var p=y.note.children[_];p.top+=m,p.bottom+=m,p.pitch+=m,p.pitch2!==void 0&&(p.pitch2+=m)}}}function b(x,y,m){switch(y.type){case"part":y.top=x.partHeightAbove+y.height,y.bottom=x.partHeightAbove;break;case"text":case"chord":y.chordHeightAbove?(y.top=x.chordHeightAbove,y.bottom=x.chordHeightAbove):(y.top=x.chordHeightBelow,y.bottom=x.chordHeightBelow);break;case"lyric":y.lyricHeightAbove?(y.top=x.lyricHeightAbove,y.bottom=x.lyricHeightAbove):(y.top=x.lyricHeightBelow+m.vocal/t.STEP,y.bottom=x.lyricHeightBelow+m.vocal/t.STEP,y.pitch-=m.vocal/t.STEP);break;case"debug":y.top=x.chordHeightAbove,y.bottom=x.chordHeightAbove;break}(y.pitch===void 0||y.top===void 0)&&console.error("RelativeElement position not set.",y.type,y.pitch,y.top,x)}return Gg=e,Gg}var $g,b9;function _B(){if(b9)return $g;b9=1;var t=function(){};t.beginLayout=function(n,a){a.i=0,a.durationindex=0,a.startx=n,a.minx=n,a.nextx=n,a.spacingduration=0},t.layoutEnded=function(n){return n.i>=n.children.length},t.getNextX=function(n){return Math.max(n.minx,n.nextx)},t.getSpacingUnits=function(n){return Math.sqrt(n.spacingduration*8)},t.layoutOneItem=function(n,a,c,u,f){var d=c.children[c.i];if(!d)return 0;var g=n-c.minx,b=c.durationindex+d.duration>0?u:0;if(d.abcelem.el_type==="note"&&!d.abcelem.rest&&c.voicenumber!==0&&f){var x=f.children[f.i],y=x&&(d.abcelem.maxpitch<=x.abcelem.maxpitch+1&&d.abcelem.maxpitch>=x.abcelem.minpitch-1||d.abcelem.minpitch<=x.abcelem.maxpitch+1&&d.abcelem.minpitch>=x.abcelem.minpitch-1);if(y&&d.abcelem.minpitch===x.abcelem.minpitch&&d.abcelem.maxpitch===x.abcelem.maxpitch&&x.heads&&x.heads.length>0&&d.heads&&d.heads.length>0&&x.heads[0].c===d.heads[0].c&&(y=!1),y){var m=x.heads&&x.heads.length>0?x.heads[0].realWidth:x.fixed.w;d.adjustedWidth||(d.adjustedWidth=m+d.w),d.w=d.adjustedWidth;for(var _=0;_<d.children.length;_++){var p=d.children[_];p.name.indexOf("accidental")<0&&(p.adjustedWidth||(p.adjustedWidth=p.dx+m),p.dx=p.adjustedWidth)}}}var w=e(d,b);return g<w&&(c.i===0||d.type!=="bar"||c.children[c.i-1].type!=="part"&&c.children[c.i-1].type!=="tempo")&&(n+=w-g),d.setX(n),c.spacingduration=d.duration,c.minx=n+o(d),c.i!==c.children.length-1&&(c.minx+=d.minspacing),this.updateNextX(n,a,c),n},t.shiftRight=function(n,a){var c=a.children[a.i];c&&(c.setX(c.x+n),a.minx+=n,a.nextx+=n)},t.updateNextX=function(n,a,c){c.nextx=n+a*this.getSpacingUnits(c)},t.updateIndices=function(n){this.layoutEnded(n)||(n.durationindex+=n.children[n.i].duration,n.children[n.i].type==="bar"&&(n.durationindex=Math.round(n.durationindex*64)/64),n.i++)};function e(n,a){var c=0;return(n.type==="note"||n.type==="bar")&&(c=a),-n.extraw+c}function o(n){return n.w}return $g=t,$g}var Xg,_9;function xB(){if(_9)return Xg;_9=1;var t=_B();function e(u){for(var f=0,d=0;d<u.length;d++){var g=u[d];if(g.children.length>0){var b=g.children.length-1,x=g.children[b];if(x.abcelem.el_type==="bar"){var y=x.children[0].x;y>f?f=y:x.children[0].x=f}}}}var o=function(u,f,d,g,b){var x=1e-7,y=0,m=1e3,_=b;g.startx=_;var p,w=0;for(d&&console.log("init layout",u),p=0;p<g.voices.length;p++)t.beginLayout(_,g.voices[p]);for(var T=0;!n(g.voices);){for(w=null,p=0;p<g.voices.length;p++)!t.layoutEnded(g.voices[p])&&(!w||a(g.voices[p])<w)&&(w=a(g.voices[p]));var C=[],N=[];for(p=0;p<g.voices.length;p++){var k=a(g.voices[p]);k-w>x?N.push(g.voices[p]):C.push(g.voices[p])}T=0;var D=0;for(p=0;p<C.length;p++)t.getNextX(C[p])>_&&(_=t.getNextX(C[p]),T=t.getSpacingUnits(C[p]),D=C[p].spacingduration);y+=T,m=Math.min(m,T),d&&console.log("currentduration: ",w,y,m);var F=void 0;for(p=0;p<C.length;p++){var G=C[p];G.voicenumber===0&&(F=p);var E=F!==void 0&&C[F].voicenumber!==G.voicenumber?C[F]:void 0;c(G,E)||(E=void 0);var R=t.layoutOneItem(_,u,G,f,E),O=R-_;if(O>0){_=R;for(var P=0;P<p;P++)t.shiftRight(O,C[P])}}for(p=0;p<N.length;p++)N[p].spacingduration-=D,t.updateNextX(_,u,N[p]);for(p=0;p<C.length;p++){var j=C[p];t.updateIndices(j)}}for(p=0;p<g.voices.length;p++)t.getNextX(g.voices[p])>_&&(_=t.getNextX(g.voices[p]),T=t.getSpacingUnits(g.voices[p]));return e(g.voices),y+=T,g.setWidth(_),{spacingUnits:y,minSpace:m}};function n(u){for(var f=0;f<u.length;f++)if(!t.layoutEnded(u[f]))return!1;return!0}function a(u){return u.durationindex-(u.children[u.i]&&u.children[u.i].duration>0?0:5e-7)}function c(u,f){return!u||!u.staff||!u.staff.voices||u.staff.voices.length===0||!f||!f.staff||!f.staff.voices||f.staff.voices.length===0?!1:u.staff.voices[0]===f.staff.voices[0]}return Xg=o,Xg}var Vg,x9;function xw(){if(x9)return Vg;x9=1;function t(a,c,u,f,d){var g=a.padding.left,b=0,x,y;for(x=0;x<u.length;x++)u[x].header&&(y=c.calc(u[x].header,"voicefont",""),b=Math.max(b,y.width));if(b=e(b,f,c),b=e(b,d,c),b){var m=c.calc("A","voicefont","");b+=m.width}g+=b;var _=0;return _=o(f,g,_),_=o(d,g,_),g+_}function e(a,c,u){if(c){for(var f=0;f<c.length;f++)if(c[f].header){var d=u.calc(c[f].header,"voicefont","");a=Math.max(a,d.width)}}return a}function o(a,c,u){if(a)for(var f=0;f<a.length;f++)n(c,a[f]),u=Math.max(u,a[f].getWidth());return u}function n(a,c){c.x=a}return Vg=t,Vg}var Ig,w9;function wB(){if(w9)return Ig;w9=1;var t=xw();function e(n,a,c){var u=t(n,a.getTextSize,a.voices,a.brace,a.bracket),f=o(a,c.minPadding),d=f.totalDuration,g=f.minSpacing,b=g*d;c.minWidth&&(b=Math.max(b,c.minWidth));var x=c.minPadding?c.minPadding/2:2;a.startx=u,a.w=b+u;for(var y=0;y<a.voices.length;y++){var m=a.voices[y];m.startx=u,m.w=b+u;for(var _=u,p=!1,w=0,T=0;T<m.children.length;T++){var C=m.children[T];p||(C.duration!==0?(p=!0,w=(b+u-_)/d,a.gridStart=_):(C.x=_,_+=C.w+C.minspacing)),p&&(c.align==="center"?C.x=_+C.duration*w/2-C.w/2:C.duration===0?C.x=_+1-C.w:C.x=_+x-C.extraw,_+=C.duration*w);for(var N=0;N<C.children.length;N++){var k=C.children[N],D=k.dx?k.dx:0;k.x=C.x+D}}a.gridEnd=_}return b}function o(n,a){for(var c=0,u=0,f=0;f<n.voices.length;f++){for(var d=0,g=n.voices[f],b=0;b<g.children.length;b++){var x=g.children[b];if(d+=x.duration,x.duration){var y=(x.w+a)/x.duration;c=Math.max(c,y)}}u=Math.max(u,d)}return{totalDuration:u,minSpacing:c}}return Ig=e,Ig}var Zg,S9;function SB(){if(S9)return Zg;S9=1;var t=yB(),e=bB(),o=xB(),n=xw(),a=wB(),c=function(g,b,x,y,m,_){var p,w,T=x;for(p=0;p<b.lines.length;p++)if(w=b.lines[p],w.staff){var C;_!==void 0?C=a(g,w.staffGroup,_):C=u(g,T,y,w.staffGroup,b.formatting,p===b.lines.length-1,!1),Math.round(C)>Math.round(T)&&(T=C,m&&(p=-1))}for(p=0;p<b.lines.length;p++)if(w=b.lines[p],w.staffGroup&&w.staffGroup.voices){for(var N=0;N<w.staffGroup.voices.length;N++)t(w.staffGroup.voices[N]);e(g,w.staffGroup)}for(p=0;p<b.lines.length;p++)w=b.lines[p],w.staffGroup&&w.staffGroup.setHeight();return T},u=function(g,b,x,y,m,_,p){for(var w=n(g,y.getTextSize,y.voices,y.brace,y.bracket),T=x,C=0;C<8;C++){var N=o(T,g.minPadding,p,y,w);if(T=f(_,m.stretchlast,b+g.padding.left,y.w,T,N.spacingUnits,N.minSpace,g.padding.left+g.padding.right),T===null)break}return d(y.voices),y.w-w};function f(g,b,x,y,m,_,p,w){if(g)if(b===void 0){if(y/x<.66)return null}else{var T=1-(y+w)/x,C=T<b;if(!C)return null}if(Math.abs(x-y)<2)return null;var N=_*m,k=y-N;return _>0?(m=(x-k)/_,m*p>50&&(m=50/p),m):null}function d(g){for(var b=0;b<g.length;b++)for(var x=g[b],y=1;y<x.children.length-1;y++){var m=x.children[y];if(m.abcelem.rest&&(m.abcelem.rest.type==="whole"||m.abcelem.rest.type==="multimeasure")){var _=x.children[y-1],p=x.children[y+1];m.center(_,p)}}}return Zg=c,Zg}var Qg,T9;function TB(){if(T9)return Qg;T9=1;var t=function(o){this.shouldAddClasses=o.shouldAddClasses,this.reset()};return t.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null},t.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null},t.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null},t.prototype.isInMeasure=function(){return this.measureNumber!==null},t.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null},t.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0},t.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0},t.prototype.incrNote=function(){this.noteNumber++},t.prototype.measureTotal=function(){for(var e=0,o=0;o<this.lineNumber;o++)e+=this.measureTotalPerLine[o]?this.measureTotalPerLine[o]:0;return this.measureNumber&&(e+=this.measureNumber),e},t.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}},t.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var o=[];if(e&&e.length>0&&o.push(e),e==="abcjs-tab-number")return o.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&o.push("l"+this.lineNumber),this.measureNumber!==null&&o.push("m"+this.measureNumber),this.measureNumber!==null&&o.push("mm"+this.measureTotal()),this.voiceNumber!==null&&o.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&o.push("n"+this.noteNumber),o.length>0){o=o.join(" "),o=o.split(" ");for(var n=0;n<o.length;n++)o[n].indexOf("abcjs-")!==0&&o[n].length>0&&(o[n]="abcjs-"+o[n])}return o.join(" ")},Qg=t,Qg}var Kg,C9;function CB(){if(C9)return Kg;C9=1;var t=function(o,n){this.formatting=o,this.classes=n};return t.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)},t.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e},t.prototype.calc=function(e,o){var n;typeof e=="string"?(n=this.formatting[e],n?n={face:n.face,size:Math.round(n.size*4/3),decoration:n.decoration,style:n.style,weight:n.weight,box:n.box}:n={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):n={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var a=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;n.padding=n.size*a;var c={"font-size":n.size,"font-style":n.style,"font-family":this.getFamily(n.face),"font-weight":n.weight,"text-decoration":n.decoration,class:this.classes.generate(o)};return{font:n,attr:c}},Kg=t,Kg}var Wg,E9;function EB(){if(E9)return Wg;E9=1;var t=function(o,n){this.getFontAndAttr=o,this.svg=n};return t.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)},t.prototype.attr=function(e,o){return this.getFontAndAttr.calc(e,o)},t.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e},t.prototype.calc=function(e,o,n,a){var c;typeof o=="string"?c=this.attr(o,n):c={font:{face:o.face,size:o.size,decoration:o.decoration,style:o.style,weight:o.weight},attr:{"font-size":o.size,"font-style":o.style,"font-family":this.getFamily(o.face),"font-weight":o.weight,"text-decoration":o.decoration,class:this.getFontAndAttr.classes.generate(n)}};var u=this.svg.getTextSize(e,c.attr,a);return c.font.box?{height:u.height+c.font.padding*4,width:u.width+c.font.padding*4}:u},t.prototype.baselineToCenter=function(e,o,n,a,c){var u=this.calc(e,o,n).height,f=this.attr(o,n).font.size;return u*.5+(c-a-2)*f},Wg=t,Wg}var Jg,A9;function n0(){if(A9)return Jg;A9=1;var t=function(){for(var e=0,o,n=arguments[e++],a=[],c,u,f,d;n;){if(c=/^[^\x25]+/.exec(n))a.push(c[0]);else if(c=/^\x25{2}/.exec(n))a.push("%");else if(c=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)){if((o=arguments[c[1]||e++])==null||o==null)throw"Too few arguments.";if(/[^s]/.test(c[7])&&typeof o!="number")throw"Expecting number but found "+typeof o;switch(c[7]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o);break;case"e":o=c[6]?o.toExponential(c[6]):o.toExponential();break;case"f":o=c[6]?parseFloat(o).toFixed(c[6]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[6]?o.substring(0,c[6]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase();break}o=/[def]/.test(c[7])&&c[2]&&o>0?"+"+o:o,f=c[3]?c[3]=="0"?"0":c[3][1]:" ",d=c[5]-String(o).length,u=c[5]?str_repeat(f,d):"",a.push(c[4]?o+u:u+o)}else throw"Huh ?!";n=n.substring(c[0].length)}return a.join("")};return Jg=t,Jg}var e2,M9;function $i(){if(M9)return e2;M9=1;function t(e){return parseFloat(e.toFixed(2))}return e2=t,e2}var t2,k9;function os(){if(k9)return t2;k9=1;var t=$i();function e(o,n,a){var c=n.y;if(n.phrases){var g=o.paper.richTextLine(n.phrases,n.x,n.y,n.klass,n.anchor);return g}if(n.lane){var u=n.dim.font.size*.25;c+=(n.dim.font.size+u)*n.lane}var f;n.dim?(f=n.dim,f.attr.class=n.klass):f=o.controller.getFontAndAttr.calc(n.type,n.klass),n.anchor&&(f.attr["text-anchor"]=n.anchor),n["dominant-baseline"]&&(f.attr["dominant-baseline"]=n["dominant-baseline"]),f.attr.x=n.x,f.attr.y=c,n.centerVertically||(f.attr.y+=f.font.size),n.type==="debugfont"&&(console.log("Debug msg: "+n.text),f.attr.stroke="#ff0000"),n.cursor&&(f.attr.cursor=n.cursor);var d;n.name=="free-text"?d=n.text.replace(/^[ \t]*\n/gm,` 
`):d=n.text.replace(/\n\n/g,`
 
`),d=d.replace(/^\n/,` 
`),f.font.box&&(a||o.paper.openGroup({klass:f.attr.class,fill:o.foregroundColor,"data-name":n.name}),f.attr["text-anchor"]==="end"?f.attr.x-=f.font.padding:f.attr["text-anchor"]==="start"&&(f.attr.x+=f.font.padding),f.attr.y+=f.font.padding,delete f.attr.class),n.noClass&&delete f.attr.class,f.attr.x=t(f.attr.x),f.attr.y=t(f.attr.y),n.name&&(f.attr["data-name"]=n.name);var g=o.paper.text(d,f.attr);if(f.font.box){var b=g.getBBox(),x=0;f.attr["text-anchor"]==="middle"?x=b.width/2+f.font.padding:f.attr["text-anchor"]==="end"&&(x=b.width+f.font.padding*2);var y=0;n.centerVertically&&(y=b.height-f.font.padding),o.paper.rect({"data-name":"box",x:Math.round(n.x-x),y:Math.round(c-y),width:Math.round(b.width+f.font.padding*2),height:Math.round(b.height+f.font.padding*2)}),a||(g=o.paper.closeGroup())}return g}return t2=e,t2}var n2,N9;function AB(){if(N9)return n2;N9=1;var t=n0(),e=xr(),o=os();function n(d,g,b){var x=g.startVoice.staff.absoluteY-e.STEP*10;return g.endVoice&&g.endVoice.staff?g.endY=g.endVoice.staff.absoluteY-e.STEP*2:g.lastContinuedVoice&&g.lastContinuedVoice.staff?g.endY=g.lastContinuedVoice.staff.absoluteY-e.STEP*2:g.endY=g.startVoice.staff.absoluteY-e.STEP*2,f(d,g.x,x,g.endY,g.type,g.header,b)}function a(d,g,b,x,y){g+=e.STEP;var m=e.STEP*.75,_=e.STEP*.75,p=x-b,w=t("M %f %f l %f %f l %f %f l %f %f z",g,b-_,0,p+_*2,m,0,0,-(p+_*2)),T=e.STEP*2,C=e.STEP;return w+=t("M %f %f q %f %f %f %f q %f %f %f %f z",g+m,b-_,T*.6,C*.2,T,-C,-T*.1,C*.3,-T,C+e.STEP),w+=t("M %f %f q %f %f %f %f q %f %f %f %f z",g+m,b+_+p,T*.6,-C*.2,T,C,-T*.1,-C*.3,-T,-C-e.STEP),d.paper.path({path:w,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(y),"data-name":y})}function c(d,g,b,x,y){var m=x-b,_=u(g,b,[7.5,-8,21,0,18.5,-10.5,7.5],[0,m/5.5,m/3.14,m/2,m/2.93,m/4.88,0]);return _+=u(g,b,[0,17.5,-7.5,6.6,-5,20,0],[m/2,m/1.46,m/1.22,m,m/1.19,m/1.42,m/2]),d.paper.path({path:_,stroke:d.foregroundColor,fill:d.foregroundColor,class:d.controller.classes.generate(y),"data-name":y})}function u(d,g,b,x){return t("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",d+b[0],g+x[0],d+b[1],g+x[1],d+b[2],g+x[2],d+b[3],g+x[3],d+b[4],g+x[4],d+b[5],g+x[5],d+b[6],g+x[6])}var f=function(d,g,b,x,y,m,_){var p;if(m){d.paper.openGroup({klass:d.controller.classes.generate("staff-extra voice-name"),"data-name":y});var w=b+(x-b)/2;w=w-d.controller.getTextSize.baselineToCenter(m,"voicefont","staff-extra voice-name",0,1),o(d,{x:d.padding.left,y:w,text:m,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return y==="brace"?p=c(d,g,b,x,y):y==="bracket"&&(p=a(d,g,b,x,y)),m&&(p=d.paper.closeGroup()),_.wrapSvgEl({el_type:y,startChar:-1,endChar:-1},p),p};return n2=n,n2}var r2,R9;function zc(){if(R9)return r2;R9=1;function t(e,o,n){var a=e.paper.path(o);return a}return r2=t,r2}var i2,D9;function MB(){if(D9)return i2;D9=1;var t=n0(),e=zc(),o=$i();function n(p,w,T){(!w.anchor1||!w.anchor2||!w.anchor1.heads||!w.anchor2.heads||w.anchor1.heads.length===0||w.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var C=4,N=p.calcY(w.anchor1.heads[0].pitch),k=p.calcY(w.anchor2.heads[0].pitch),D=w.anchor1.x+w.anchor1.w/2,F=w.anchor2.x+w.anchor2.w/2,G=a(D,N,F,k),E=w.anchor1.w/2+C,R=w.anchor2.w/2+C,O=c(D,N,F,k),P=u(N,O,E);u(k,O,-R);var j=f(G-E-R),Y=_(p,D+E,P,j,O);return T.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},Y),[Y]}function a(p,w,T,C){var N=T-p,k=C-w;return Math.sqrt(N*N+k*k)}function c(p,w,T,C){return(C-w)/(T-p)}function u(p,w,T){return o(p+T*w)}function f(p){var w=5;return Math.max(2,Math.floor((p-w*2)/6))}var d=[[3.5,-4.8]],g=[[1.5,-1],[.3,-.3],[-3.5,3.8]],b=[[-1.5,2]],x=[[3,4],[3,-4]],y=[[-3,4],[-3,-4]];function m(p,w){for(var T="",C=0;C<p.length;C++)T+="l"+p[C][0]+" "+u(p[C][1],w,p[C][0]);return T}var _=function(p,w,T,C,N){var k=t("M %f %f",w,T);k+=m(d,N);var D;for(D=0;D<C;D++)k+=m(x,N);for(k+=m(g,N),D=0;D<C;D++)k+=m(y,N);return k+=m(b,N)+"z",e(p,{path:k,highlight:"stroke",stroke:p.foregroundColor,class:p.controller.classes.generate("decoration"),"data-name":"glissando"})};return i2=n,i2}var a2,O9;function kB(){if(O9)return a2;O9=1;var t=n0(),e=zc(),o=$i();function n(c,u,f){u.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var d=c.calcY(u.pitch)+4,g=8,b=u.anchor1?u.anchor1.x:0,x=u.anchor2?u.anchor2.x:800,y;return u.dir==="<"?y=a(c,d+g/2,d,d+g/2,d+g,b,x):y=a(c,d,d+g/2,d+g,d+g/2,b,x),f.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},y),[y]}var a=function(c,u,f,d,g,b,x){u=o(u),f=o(f),d=o(d),g=o(g),b=o(b),x=o(x);var y=t("M %f %f L %f %f M %f %f L %f %f",b,u,x,f,b,d,x,g);return e(c,{path:y,highlight:"stroke",stroke:c.foregroundColor,class:c.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})};return a2=n,a2}var s2,z9;function l3(){if(z9)return s2;z9=1;var t=$i();function e(){this.ingroup=!1}e.prototype.beginGroup=function(n,a){this.paper=n,this.controller=a,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()},e.prototype.isInGroup=function(){return this.ingroup},e.prototype.addPath=function(n){if(n=n||[],n.length!==0){n[0][0]="m",n[0][1]=t(n[0][1]-this.lastM[0]),n[0][2]=t(n[0][2]-this.lastM[1]),this.lastM[0]+=n[0][1],this.lastM[1]+=n[0][2],this.path.push(n[0]);for(var a=1,c=n.length;a<c;a++)n[a][0]==="m"&&(this.lastM[0]+=n[a][1],this.lastM[1]+=n[a][2]),this.path.push(n[a])}},e.prototype.endGroup=function(n,a){this.ingroup=!1;for(var c="",u=0;u<this.path.length;u++)c+=this.path[u].join(" ");this.path=[];var f=this.paper.closeGroup();return f&&(f.setAttribute("class",this.controller.classes.generate(n)),f.setAttribute("fill",this.controller.renderer.foregroundColor),f.setAttribute("stroke","none"),f.setAttribute("data-name",a)),f};var o=new e;return s2=o,s2}var o2,B9;function ww(){if(B9)return o2;B9=1;var t=os(),e=ss(),o=l3();function n(c,u,f,d,g){var b,x;if(!d)return null;if(d.length>1&&d.indexOf(".")<0){var y=o.isInGroup()?"":g.klass;c.paper.openGroup({"data-name":g.name,klass:y});for(var m=0,_=0;_<d.length;_++){var p=d[_];x=e.getYCorr(p),b=e.printSymbol(u+m,c.calcY(f+x),p,c.paper,{stroke:g.stroke,fill:g.fill}),b?_<d.length-1&&(m+=a(p,d[_+1],e.getSymbolWidth(p))):t(c,{x:u,y:c.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var w=c.paper.closeGroup();return w}else return x=e.getYCorr(d),o.isInGroup()?b=e.printSymbol(u,c.calcY(f+x),d,c.paper,{"data-name":g.name}):b=e.printSymbol(u,c.calcY(f+x),d,c.paper,{klass:g.klass,stroke:g.stroke,fill:g.fill,"data-name":g.name}),b||(t(c,{x:u,y:c.y,text:"no symbol:"+d,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function a(c,u,f){var d=f;return c==="f"&&u==="f"&&(d=d*2/3),c==="p"&&u==="p"&&(d=d*5/6),c==="f"&&u==="z"&&(d=d*5/8),d}return o2=n,o2}var l2,L9;function NB(){if(L9)return l2;L9=1;var t=ww();function e(o,n,a){n.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var c=1,u=1,f=t(o,n.anchor.x,n.pitch,n.dec,{scalex:c,scaley:u,klass:o.controller.classes.generate("decoration dynamics"),fill:o.foregroundColor,stroke:"none",name:"dynamics"});return a.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:n.dec},f),[f]}return l2=e,l2}var c2,q9;function RB(){if(q9)return c2;q9=1;var t=n0(),e=os(),o=zc(),n=$i();function a(f,d,g){f.paper.openGroup({klass:f.controller.classes.generate("triplet "+d.durationClass),"data-name":"triplet"}),d.hasBeam||u(f,d.anchor1.x,d.startNote,d.anchor2.x+d.anchor2.w,d.endNote),e(f,{x:d.xTextPos,y:f.calcY(d.yTextPos-1),text:""+d.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+d.number},!0);var b=f.paper.closeGroup();return g.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},b),b}function c(f,d,g,b){return t("M %f %f L %f %f",n(f),n(d),n(g),n(b))}function u(f,d,g,b,x){g=f.calcY(g),x=f.calcY(x);var y=5,m="";m+=c(d,g,d,g+y),m+=c(b,x,b,x+y);var _=d+(b-d)/2,p=8,w=(x-g)/(b-d),T=_-p,C=g+(T-d)*w;m+=c(d,g,T,C);var N=_+p,k=g+(N-d)*w;m+=c(N,k,b,x),o(f,{path:m,stroke:f.foregroundColor,"data-name":"triplet-bracket"})}return c2=a,c2}var u2,j9;function DB(){if(j9)return u2;j9=1;var t=n0(),e=os(),o=zc(),n=$i();function a(c,u,f,d,g){u.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var b=n(c.calcY(u.pitch)),x=20,y="";u.anchor1&&(f=n(u.anchor1.x+u.anchor1.w),y+=t("M %f %f L %f %f ",f,b,f,n(b+x))),u.anchor2&&(d=n(u.anchor2.x),y+=t("M %f %f L %f %f ",d,b,d,n(b+x))),y+=t("M %f %f L %f %f ",f,b,d,b),c.paper.openGroup({klass:c.controller.classes.generate("ending"),fill:c.foregroundColor,"data-name":"ending"}),o(c,{path:y,stroke:c.foregroundColor,fill:c.foregroundColor,"data-name":"line"}),u.anchor1&&e(c,{x:n(f+5),y:n(c.calcY(u.pitch-.5)),text:u.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:u.text});var m=c.paper.closeGroup();return g.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},m),[m]}return u2=a,u2}var f2,P9;function OB(){if(P9)return f2;P9=1;var t=n0(),e=$i();function o(c,u,f,d,g){n(u,f,d);var b="";u.anchor1?b+="abcjs-start-m"+u.anchor1.parent.counters.measure+"-n"+u.anchor1.parent.counters.note:b+="abcjs-start-edge",u.anchor2?b+=" abcjs-end-m"+u.anchor2.parent.counters.measure+"-n"+u.anchor2.parent.counters.note:b+=" abcjs-end-edge",u.hint&&(b="abcjs-hint");var x=u.fixedY?1.5:0,y=a(c,u.startX,u.endX,u.startY+x,u.endY+x,u.above,b,u.isTie,u.dotted),m=-1;u.anchor1&&!u.isTie&&(m=u.anchor1.parent.abcelem.startChar-1);var _=-1;return u.anchor2&&!u.isTie&&(_=u.anchor2.parent.abcelem.endChar+1),g.wrapSvgEl({el_type:"slur",startChar:m,endChar:_},y),[y]}var n=function(c,u,f){!c.anchor1||!c.anchor2||c.anchor1.pitch===c.anchor2.pitch&&c.internalNotes.length===0?c.isTie=!0:c.isTie=!1,c.isTie?(c.calcTieDirection(),c.calcX(u,f),c.calcTieY()):(c.calcSlurDirection(),c.calcX(u,f),c.calcSlurY()),c.avoidCollisionAbove()},a=function(c,u,f,d,g,b,x,y,m){var _=y?1.2:1.5;u=e(u+6),f=e(f+4),d=d+(b?_:-_),g=g+(b?_:-_);var p=e(c.calcY(d)),w=e(c.calcY(g)),T=f-u,C=w-p,N=Math.sqrt(T*T+C*C),k=T/N,D=C/N,F=N/3.5,G=y?10:25,E=(b?-1:1)*Math.min(G,Math.max(4,F)),R=e(u+F*k-E*D),O=e(p+F*D+E*k),P=e(f-F*k-E*D),j=e(w-F*D+E*k),Y=2;x?x+=" slur":x="slur",x+=y?" tie":" legato";var H;if(m){x+=" dotted";var q=t("M %f %f C %f %f %f %f %f %f",u,p,R,O,P,j,f,w);H=c.paper.path({path:q,stroke:c.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:c.controller.classes.generate(x),"data-name":y?"tie":"slur"})}else{var U=t("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",u,p,R,O,P,j,f,w,e(P-Y*D),e(j+Y*k),e(R-Y*D),e(O+Y*k),u,p);H=c.paper.path({path:U,stroke:"none",fill:c.foregroundColor,class:c.controller.classes.generate(x),"data-name":y?"tie":"slur"})}return H};return f2=o,f2}var h2,H9;function zB(){if(H9)return h2;H9=1;var t=zc(),e=$i();function o(u,f){if(f.beams.length!==0){for(var d="",g=0;g<f.beams.length;g++){var b=f.beams[g];if(b.split){for(var x=a(u,b.startX,b.startY,b.endX,b.endY),y=[],m=0;m<b.split.length;m+=2)y.push([b.split[m],b.split[m+1]]);for(m=0;m<y.length;m++){var _=c(b.startX,b.startY,x,y[m][0]),p=c(b.startX,b.startY,x,y[m][1]);d+=n(u,y[m][0],_,y[m][1],p,b.dy)}}else d+=n(u,b.startX,b.startY,b.endX,b.endY,b.dy)}var w=("abcjs-d"+f.duration).replace(/\./g,"-"),T=u.controller.classes.generate("beam-elem "+w),C=t(u,{path:d,stroke:"none",fill:u.foregroundColor,class:T});return[C]}}function n(u,f,d,g,b,x){d=e(u.calcY(d)),b=e(u.calcY(b)),f=e(f),g=e(g);var y=e(d+x),m=e(b+x);return"M"+f+" "+d+" L"+g+" "+b+"L"+g+" "+m+" L"+f+" "+y+"z"}function a(u,f,d,g,b){return(b-d)/(g-f)}function c(u,f,d,g){var b=g-u;return f+b*d}return h2=o,h2}var d2,Y9;function Sw(){if(Y9)return d2;Y9=1;var t=l3(),e=$i();function o(n,a,c,u,f,d,g){if(c<0||u<f){var b=e(f);f=e(u),u=b}else u=e(u),f=e(f);a=e(a);var x=e(a+c);if(n.firefox112){a+=c/2;var m={x1:a,x2:a,y1:u,y2:f,stroke:n.foregroundColor,"stroke-width":Math.abs(c)};return d&&(m.class=d),g&&(m["data-name"]=g),n.paper.lineToBack(m)}for(var y=[["M",a,u],["L",a,f],["L",x,f],["L",x,u],["z"]],m={path:""},_=0;_<y.length;_++)m.path+=y[_].join(" ");return d&&(m.class=d),g&&(m["data-name"]=g),t.isInGroup()||(m.stroke="none",m.fill=n.foregroundColor),n.paper.pathToBack(m)}return d2=o,d2}var p2,U9;function BB(){if(U9)return p2;U9=1;var t=n0(),e=$i();function o(n,a,c,u,f,d,g){var b=n.foregroundColor;a=e(a),c=e(c);var x=e(u-g),y=e(u+g);if(n.firefox112){u+=g/2;var m={x1:a,x2:c,y1:u,y2:u,stroke:n.foregroundColor,"stroke-width":Math.abs(g*2)};return f&&(m.class=f),d&&(m["data-name"]=d),n.paper.lineToBack(m)}var _=t("M %f %f L %f %f L %f %f L %f %f z",a,x,c,x,c,y,a,y),p={path:_,stroke:"none",fill:b};d&&(p["data-name"]=d),f&&(p.class=f);var w=n.paper.pathToBack(p);return w}return p2=o,p2}var g2,F9;function Tw(){if(F9)return g2;F9=1;var t=BB();function e(o,n,a,c,u,f,d){var g=o.calcY(c);return t(o,n,a,g,u,f,d)}return g2=e,g2}var v2,G9;function Cw(){if(G9)return v2;G9=1;var t=os(),e=Sw(),o=Tw(),n=ww();function a(u,f,d){f.pitch===void 0&&window.console.error(f.type+" Relative Element y-coordinate not set.");var g=u.calcY(f.pitch);switch(f.type){case"symbol":if(f.c===null)return null;var b="symbol";f.klass&&(b+=" "+f.klass),f.graphelem=n(u,f.x,f.pitch,f.c,{scalex:f.scalex,scaley:f.scaley,klass:u.controller.classes.generate(b),name:f.name});break;case"debug":f.graphelem=t(u,{x:f.x,y:u.calcY(15),text:""+f.c,type:"debugfont",klass:u.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:f.dim},!1);break;case"tabNumber":var x="middle",y="tabnumberfont",m="abcjs-tab-number";f.isGrace&&(y="tabgracefont",g+=2.5,m="tab-grace"),f.graphelem=t(u,{x:f.x,y:g,text:""+f.c,type:y,klass:u.controller.classes.generate(m),anchor:x,centerVertically:!1,dim:f.dim,cursor:"default"},!1);break;case"barNumber":f.graphelem=t(u,{x:f.x,y:g,text:""+f.c,type:"measurefont",klass:u.controller.classes.generate("bar-number"),anchor:"middle",dim:f.dim,name:"bar-number"},!0);break;case"lyric":f.graphelem=t(u,{x:f.x,y:g,text:f.c,type:"vocalfont",klass:u.controller.classes.generate("lyric"),anchor:"middle",dim:f.dim,name:"lyric"},!1);break;case"chord":f.graphelem=t(u,{x:f.x,y:g,text:f.c,type:"gchordfont",klass:u.controller.classes.generate("chord"),anchor:"middle",dim:f.dim,lane:f.getLane(),name:"chord"},!1);break;case"decoration":f.graphelem=t(u,{x:f.x,y:g+6,text:f.c,type:"annotationfont",klass:u.controller.classes.generate("annotation"),anchor:f.anchor,centerVertically:!0,dim:f.dim},!1);break;case"text":f.graphelem=t(u,{x:f.x,y:g,text:f.c,type:"annotationfont",klass:u.controller.classes.generate("annotation"),anchor:"start",centerVertically:f.centerVertically,dim:f.dim,lane:f.getLane(),name:"annotation"},!1);break;case"multimeasure-text":f.graphelem=t(u,{x:f.x+f.w/2,y:g,text:f.c,type:"tempofont",klass:u.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:f.dim},!1);break;case"part":f.graphelem=t(u,{x:f.x,y:g,text:f.c,type:"partsfont",klass:u.controller.classes.generate("part"),anchor:"start",dim:f.dim,name:f.c},!0);break;case"bar":f.graphelem=e(u,f.x,f.linewidth+u.lineThickness,g,d||u.calcY(f.pitch2),null,"bar");break;case"stem":var _=f.linewidth>0?f.linewidth+u.lineThickness:f.linewidth-u.lineThickness;f.graphelem=e(u,f.x,_,g,u.calcY(f.pitch2),"abcjs-stem","stem");break;case"ledger":f.graphelem=o(u,f.x,f.x+f.w,f.pitch,"abcjs-ledger","ledger",.35+u.lineThickness);break}return f.scalex!==1&&f.graphelem&&c(u.paper,f.graphelem,f.scalex,f.scaley,f.x,g),f.graphelem}function c(u,f,d,g,b,x){u.setAttributeOnElement(f,{style:"transform:scale("+d+","+g+");transform-origin:"+b+"px "+x+"px;"})}return v2=a,v2}var m2,$9;function LB(){if($9)return m2;$9=1;var t=Cw(),e=os();function o(n,a){var c=a.x;a.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),a.tempo.el_type="tempo";var u=n.calcY(a.pitch)+2,f,d;if(a.tempo.preString){f=e(n,{x:c,y:u,text:a.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),d=n.controller.getTextSize.calc(a.tempo.preString,"tempofont","tempo",f);var g=d.width,b=g/a.tempo.preString.length;c+=g+b}if(a.note){a.note.setX(c);for(var x=0;x<a.note.children.length;x++)t(n,a.note.children[x],c);c+=a.note.w+5;var y="= "+a.tempo.bpm;f=e(n,{x:c,y:u,text:y,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),d=n.controller.getTextSize.calc(y,"tempofont","tempo",f);var m=d.width,_=m/y.length;c+=m+_}a.tempo.postString&&e(n,{x:c,y:u,text:a.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}return m2=o,m2}var y2,X9;function qB(){if(X9)return y2;X9=1;var t=LB(),e=Cw(),o=xr(),n=a3(),a=l3();function c(u,f,d,g,b){if(!f.invisible){var x=f.children.length>0&&f.children[0].type==="TempoElement";f.elemset=[],a.beginGroup(u.paper,u.controller);for(var y=0;y<f.children.length;y++){var m=f.children[y];switch(m.type){case"TempoElement":t(u,m);break;default:var _=e(u,m,d);m.type==="symbol"&&m.c&&m.c.indexOf("notehead")>=0&&_.setAttribute("class","abcjs-notehead")}}var p=f.type;if((f.type==="note"||f.type==="rest")&&(f.counters=u.controller.classes.getCurrent(),p+=" d"+Math.round(f.durationClass*1e3)/1e3,p=p.replace(/\./g,"-"),f.abcelem.pitches))for(var w=0;w<f.abcelem.pitches.length;w++)p+=" p"+f.abcelem.pitches[w].pitch;var T=a.endGroup(p,f.type);if(T){if(f.cloned&&(f.cloned.overrideClasses=T.className.baseVal),f.overrideClasses){var C=T.classList&&T.classList.length>0?T.classList[0]+" ":"";T.setAttribute("class",C+f.overrideClasses)}if(x)f.startChar=f.abcelem.startChar,f.endChar=f.abcelem.endChar,g.add(f,T,!1,b);else{f.elemset.push(T);var N=!1;(f.type==="note"||f.type==="tabNumber")&&(N=!0),g.add(f,T,N,b)}}else f.elemset.length>0&&g.add(f,f.elemset[0],f.type==="note",b);if(f.klass&&n(f.elemset,"mark","","#00ff00"),f.hint&&n(f.elemset,"abcjs-hint","",null),f.abcelem.abselem=f,f.heads&&f.heads.length>0){f.notePositions=[];for(var k=0;k<f.heads.length;k++)f.notePositions.push({x:f.heads[k].x+f.heads[k].w/2,y:b.zero-f.heads[k].pitch*o.STEP})}}}return y2=c,y2}var b2,V9;function jB(){if(V9)return b2;V9=1;var t=MB(),e=kB(),o=NB(),n=RB(),a=DB(),c=OB(),u=zB(),f=os(),d=qB();function g(x,y,m,_,p){var w=y.w-1;x.staffbottom=y.staff.bottom;var T=x.foregroundColor;if(y.color&&(x.foregroundColor=y.color),y.header){var C=f(x,{x:x.padding.left,y:x.calcY(y.headerPosition),text:y.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);_.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:y.header},C)}var N,k,D=!1;for(N=0;N<y.children.length;N++){k=y.children[N],(k.type==="note"||k.type==="rest")&&(D=!0);var F=!1;k.type!=="staff-extra"&&!x.controller.classes.isInMeasure()&&(x.controller.classes.startMeasure(),F=!0),y.staff.isTabStaff&&(k.invisible=!1,k.type=="bar"&&k.abcelem.lastBar&&(m=y.topLine)),d(x,k,y.barto||N===y.children.length-1?m:0,_,p),(k.type==="note"||b(k))&&x.controller.classes.incrNote(),k.type==="bar"&&!F&&D&&x.controller.classes.incrMeasure()}for(x.controller.classes.startMeasure(),N=0;N<y.beams.length;N++){var G=y.beams[N];G==="bar"?x.controller.classes.incrMeasure():u(x,G,_)}for(x.controller.classes.startMeasure(),N=0;N<y.otherchildren.length;N++)if(k=y.otherchildren[N],k==="bar")x.controller.classes.incrMeasure();else switch(k.type){case"GlissandoElem":k.elemset=t(x,k,_);break;case"CrescendoElem":k.elemset=e(x,k,_);break;case"DynamicDecoration":k.elemset=o(x,k,_);break;case"TripletElem":n(x,k,_);break;case"EndingElem":k.elemset=a(x,k,y.startx+10,w,_);break;case"TieElem":k.elemset=c(x,k,y.startx+10,w,_);break;default:console.log(k),d(x,k,y.startx+10,w,_,p)}x.foregroundColor=T}function b(x){return x.type!=="rest"?!1:!!(x.abcelem&&x.abcelem.rest&&x.abcelem.rest.type!=="spacer")}return b2=g,b2}var _2,I9;function PB(){if(I9)return _2;I9=1;var t=Tw();function e(o,n,a,c,u,f){var d="abcjs-top-line",g=2;u&&(g=u),o.paper.openGroup({prepend:!0,klass:o.controller.classes.generate("abcjs-staff")});var b=0,x=0;if(c===1)t(o,n,a,6,d,null,f+o.lineThickness),b=o.calcY(10),x=o.calcY(2);else for(var y=c-1;y>=0;y--){var m=(y+1)*g;x=o.calcY(m),b===0&&(b=x),t(o,n,a,m,d,null,f+o.lineThickness),d=void 0}return o.paper.closeGroup(),[b,x]}return _2=e,_2}var x2,Z9;function HB(){if(Z9)return x2;Z9=1;function t(e,o,n){var a=e.paper.rectBeneath(o);return n&&e.paper.text(n,{x:0,y:o.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),a}return x2=t,x2}var w2,Q9;function YB(){if(Q9)return w2;Q9=1;function t(e,o){var n="rgba(0,0,0,255)",a="rgba(0,0,0,0)",c=Math.round(e.y),u=e.controller.width,f=(u-o)/2,d=f+o,g="M "+f+" "+c+" L "+d+" "+c+" L "+d+" "+(c+1)+" L "+f+" "+(c+1)+" L "+f+" "+c+" z";e.paper.pathToBack({path:g,stroke:a,fill:n,class:e.controller.classes.generate("defined-text")})}return w2=t,w2}var S2,K9;function Ew(){if(K9)return S2;K9=1;var t=YB(),e=os();function o(n,a,c){for(var u=0;u<a.rows.length;u++){var f=a.rows[u];if(f.absmove)n.absolutemoveY(f.absmove);else if(f.move)n.moveY(f.move);else if(f.text||f.phrases){var d=f.left?f.left:0,g=e(n,{x:d,y:n.y,text:f.text,phrases:f.phrases,"dominant-baseline":f["dominant-baseline"],type:f.font,klass:f.klass,name:f.name,anchor:f.anchor});f.absElemType&&c.wrapSvgEl({el_type:f.absElemType,name:f.name,startChar:f.startChar,endChar:f.endChar,text:f.text},g)}else if(f.separator)t(n,f.separator);else if(f.startGroup)n.paper.openGroup({klass:f.klass,"data-name":f.name});else if(f.endGroup){var b=n.paper.closeGroup();f.absElemType&&c.wrapSvgEl({el_type:f.absElemType,name:f.name,startChar:f.startChar,endChar:f.endChar,text:""},b)}}}return S2=o,S2}var T2,W9;function UB(){if(W9)return T2;W9=1;var t=xr(),e=AB(),o=jB(),n=PB(),a=HB(),c=Sw(),u=Ew();function f(b,x,y,m){for(var _,p=b.y,w=0;w<x.staffs.length;w++){var T=x.staffs[w];b.moveY(t.STEP,T.top),T.absoluteY=b.y,b.showDebug&&(b.showDebug.indexOf("box")>=0&&T.voices&&g(b,x.voices,T.voices),b.showDebug.indexOf("grid")>=0&&(b.paper.dottedLine({x1:b.padding.left,x2:b.padding.left+b.controller.width,y1:p,y2:p,stroke:"#0000ff"}),a(b,{x:b.padding.left,y:b.calcY(T.originalTop),width:b.controller.width,height:b.calcY(T.originalBottom)-b.calcY(T.originalTop),fill:b.foregroundColor,stroke:b.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),_=0,H(T,"chordHeightAbove"),H(T,"chordHeightBelow"),H(T,"dynamicHeightAbove"),H(T,"dynamicHeightBelow"),H(T,"endingHeightAbove"),H(T,"lyricHeightAbove"),H(T,"lyricHeightBelow"),H(T,"partHeightAbove"),H(T,"tempoHeightAbove"),H(T,"volumeHeightAbove"),H(T,"volumeHeightBelow"))),b.moveY(t.STEP,-T.bottom),b.showDebug&&b.showDebug.indexOf("grid")>=0&&b.paper.dottedLine({x1:b.padding.left,x2:b.padding.left+b.controller.width,y1:b.y,y2:b.y,stroke:"#0000aa"})}for(var C,N,k=2,D=0,F=0;F<x.voices.length;F++){var G=x.voices[F].staff,E=x.voices[F].tabNameInfos;if(b.y=G.absoluteY,b.controller.classes.incrVoice(),!x.voices[F].duplicate){if(C||(C=b.calcY(10)),N=b.calcY(k),G.lines!==0){G.linePitch&&(k=G.linePitch),b.controller.classes.newMeasure();var R=n(b,x.startx,x.w,G.lines,G.linePitch,.35);N=R[1],G.bottomLine=N,G.topLine=R[0],G.hasTab&&(D=G.topLine),G.hasStaff&&(D=G.hasStaff.topLine,x.voices[F].barto=!0,x.voices[F].topLine=C)}d(b,G.absoluteY,x.brace,F,y),d(b,G.absoluteY,x.bracket,F,y)}o(b,x.voices[F],D,y,{top:p,zero:b.y,height:x.height*t.STEP});var O=0;if(E){var P={rows:[]};P.rows.push({absmove:N+2});var j=8;P.rows.push({left:x.startx+j,text:E.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),P.rows.push({move:E.textSize.height}),u(b,P),O=E.textSize.height}b.controller.classes.newMeasure(),x.voices[F].duplicate||(D=b.calcY(2+O))}b.controller.classes.newMeasure();var Y=x.staffs.length;Y>1&&(C=x.staffs[0].topLine,N=x.staffs[Y-1].bottomLine,c(b,x.startx,.6,C,N,null)),b.y=p;function H(q,U){var X=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(q.positionY&&q.positionY[U]){var I=q.specialY[U]*t.STEP;U==="chordHeightAbove"&&q.specialY.chordLines&&q.specialY.chordLines.above&&(I*=q.specialY.chordLines.above),U==="chordHeightBelow"&&q.specialY.chordLines&&q.specialY.chordLines.below&&(I*=q.specialY.chordLines.below),a(b,{x:b.padding.left,y:b.calcY(q.positionY[U]),width:b.controller.width,height:I,fill:X[_],stroke:X[_],"fill-opacity":.4,"stroke-opacity":.4},U.substr(0,4)),_+=1,_>6&&(_=0)}}}function d(b,x,y,m,_){if(y)for(var p=0;p<y.length;p++)y[p].isStartVoice(m)&&(y[p].startY=x-t.STEP*10,y[p].elemset=e(b,y[p],_))}function g(b,x,y){for(var m=0;m<y.length;m++)for(var _=x[y[m]].children,p=0;p<_.length;p++){var w=_[p],T=w.getFixedCoords();if(!(w.invisible||T.t===void 0||T.b===void 0)){var C=(T.t-T.b)*t.STEP;a(b,{x:T.x,y:b.calcY(T.t),width:T.w,height:C,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var N=0;N<w.children.length;N++){var k=w.children[N],D=k.getChordDim();if(D){var F=b.calcY(k.pitch);F+=k.dim.font.size*k.getLane(),a(b,{x:D.left,y:F,width:D.right-D.left,height:k.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}return T2=f,T2}var C2,J9;function FB(){if(J9)return C2;J9=1;function t(e,o,n,a){var c=(o+e.padding.left+e.padding.right)*n,u=(e.y+e.padding.bottom)*n;if(e.isPrint&&(u=Math.max(u,1056)),e.ariaLabel!==""){var f="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(f+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(f);var d=e.ariaLabel?e.ariaLabel:f;e.paper.setAttribute("aria-label",d)}var g=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+g.join(" ")+"}");var b={overflow:"hidden"};a==="resize"?e.paper.setResponsiveWidth(c,u):(b.width="",b.height=u+"px",n<1?(b.width=c+"px",e.paper.setSize(c/n,u/n)):e.paper.setSize(c,u)),e.paper.setScale(n),e.paper.setParentStyles(b)}return C2=t,C2}var E2,e7;function GB(){if(e7)return E2;e7=1;var t=dw(),e=pw();function o(n,a,c){this.elements=[],this.paper=n,this.tuneNumber=c,this.selectTypes=a}return o.prototype.getElements=function(){return this.elements},o.prototype.add=function(n,a,c,u){if(this.canSelect(n)){var f;this.selectTypes===void 0?f={selectable:!1,"data-index":this.elements.length}:f={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(a,f);var d={absEl:n,svgEl:a,isDraggable:c};u!==void 0&&(d.staffPos=u),this.elements.push(d)}},o.prototype.canSelect=function(n){return this.selectTypes===!1||!n||!n.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?n.abcelem.el_type==="note"||n.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(n.abcelem.el_type)>=0},o.prototype.wrapSvgEl=function(n,a){var c={tuneNumber:this.tuneNumber,abcelem:n,elemset:[a],highlight:t,unhighlight:e};this.add(c,a,!1)},E2=o,E2}var A2,t7;function $B(){if(t7)return A2;t7=1;var t=UB(),e=FB(),o=Ew(),n=xr(),a=GB();function c(d,g,b,x,y,m,_,p,w,T){var C=new a(d.paper,p,w),N={};g.shouldAddClasses&&(N.klass="abcjs-meta-top"),d.paper.openGroup(N),d.moveY(d.padding.top),o(d,b.topText,C),d.paper.closeGroup(),d.moveY(d.spacing.music);for(var k=[],D=0,F=0;F<b.lines.length;F++){g.incrLine();var G=b.lines[F];if(G.staff){if(D++,b.formatting.maxStaves&&D>b.formatting.maxStaves)break;g.shouldAddClasses&&(N.klass="abcjs-staff-wrapper abcjs-l"+g.lineNumber),d.paper.openGroup(N),G.vskip&&d.moveY(G.vskip),k.length>=1&&f(d,d.spacing.staffSeparation,k[k.length-1],G.staffGroup);var E=u(d,G.staffGroup,C,F);E.line=T+F,k.push(E),d.paper.closeGroup()}else G.nonMusic&&(g.shouldAddClasses&&(N.klass="abcjs-non-music"),d.paper.openGroup(N),o(d,G.nonMusic,C),d.paper.closeGroup())}return g.reset(),b.bottomText&&b.bottomText.rows&&b.bottomText.rows.length>0&&(g.shouldAddClasses&&(N.klass="abcjs-meta-bottom"),d.paper.openGroup(N),d.moveY(24),o(d,b.bottomText,C),d.paper.closeGroup()),e(d,y,_,m),{staffgroups:k,selectables:C.getElements()}}function u(d,g,b,x){t(d,g,b,x);var y=g.height*n.STEP;return d.y+=y,g}function f(d,g,b,x){var y=b.staffs[b.staffs.length-1],m=-(y.bottom-2),_=x.staffs[0].top-10,p=_+m,w=p*n.STEP;w<g&&d.moveY(g-w)}return A2=c,A2}var M2,n7;function XB(){if(n7)return M2;n7=1;var t=_w();function e(o){for(var n=o;n&&n.attributes&&n.tagName.toLowerCase()!=="svg"&&!n.attributes.selectable;)n=n.parentNode;if(n&&n.attributes&&n.attributes.selectable){var a=n.attributes["data-index"].nodeValue;if(a&&(a=parseInt(a,10),a>=0&&a<this.selectables.length)){var c=this.selectables[a],u=t(c,o);return u.index=a,u.element=c,u}}return null}return M2=e,M2}var k2,r7;function Aw(){if(r7)return k2;r7=1;var t=xr(),e=oB(),o=cB(),n=uB(),a=fB(),c=hB(),u=dB(),f=pB(),d=gB(),g=SB(),b=TB(),x=CB(),y=EB(),m=$B(),_=mw(),p=XB(),w=function(N,k){k=k||{},this.findSelectableElement=p,this.oneSvgPerLine=k.oneSvgPerLine,this.selectionColor=k.selectionColor,this.dragColor=k.dragColor?k.dragColor:k.selectionColor,this.dragging=!!k.dragging,this.selectTypes=k.selectTypes,this.responsive=k.responsive,this.space=3*t.SPACE,this.initialClef=k.initialClef,this.timeBasedLayout=k.timeBasedLayout,this.expandToWidest=!!k.expandToWidest,this.scale=k.scale?parseFloat(k.scale):0,this.classes=new b({shouldAddClasses:k.add_classes}),this.scale>.1||(this.scale=void 0),k.staffwidth?(this.staffwidthScreen=k.staffwidth,this.staffwidthPrint=k.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],k.clickListener&&this.addSelectListener(k.clickListener),this.renderer=new o(N),this.renderer.setPaddingOverride(k),k.showDebug&&(this.renderer.showDebug=k.showDebug),k.jazzchords&&(this.jazzchords=k.jazzchords),k.accentAbove&&(this.accentAbove=k.accentAbove),k.germanAlphabet&&(this.germanAlphabet=k.germanAlphabet),k.lineThickness&&(this.lineThickness=k.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=k.foregroundColor?k.foregroundColor:"currentColor",k.ariaLabel!==void 0&&(this.renderer.ariaLabel=k.ariaLabel),this.renderer.minPadding=k.minPadding?k.minPadding:0,this.reset()};w.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)},w.prototype.engraveABC=function(N,k,D){N[0]===void 0&&(N=[N]),this.reset();for(var F=0;F<N.length;F++)k===void 0&&(k=F),this.getFontAndAttr=new x(N[F].formatting,this.classes),this.getTextSize=new y(this.getFontAndAttr,this.renderer.paper),this.engraveTune(N[F],k,D)},w.prototype.adjustNonScaledItems=function(N){this.width/=N,this.renderer.adjustNonScaledItems(N)},w.prototype.getMeasureWidths=function(N){this.reset(),this.getFontAndAttr=new x(N.formatting,this.classes),this.getTextSize=new y(this.getFontAndAttr,this.renderer.paper);var k=this.jazzchords;this.setupTune(N,0),this.constructTuneElements(N),g(this.renderer,N,0,this.space,this.timeBasedLayout);for(var D=[],F,G=!0,E=0;E<N.lines.length;E++){var R=N.lines[E];if(R.staff){if(G&&(F={left:0,measureWidths:[],total:0},D.push(F),G=!1),R.staffGroup.voices.length>0)for(var O=R.staffGroup.voices[0],P=!1,j=0,Y=0;Y<O.children.length;Y++){var H=O.children[Y];!P&&!H.isClef&&!H.isKeySig&&(P=!0,F.left=H.x,j=H.x),H.type==="bar"&&(F.measureWidths.push(H.x-j),F.total+=H.x-j,j=H.x)}}else G=!0}return this.jazzchords=k,D},w.prototype.setupTune=function(N,k){this.classes.reset(),N.formatting.jazzchords!==void 0&&(this.jazzchords=N.formatting.jazzchords),N.formatting.accentAbove!==void 0&&(this.accentAbove=N.formatting.accentAbove),this.renderer.newTune(N),this.engraver=new e(this.getTextSize,k,{bagpipes:N.formatting.bagpipes,flatbeams:N.formatting.flatbeams,graceSlurs:N.formatting.graceSlurs!==!1,percmap:N.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=N.getMeterFraction().num/N.getMeterFraction().den,N.formatting.staffwidth?this.width=N.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var D=N.formatting.scale?N.formatting.scale:this.scale;return this.responsive==="resize"&&(D=void 0),D===void 0&&(D=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(D),D},w.prototype.constructTuneElements=function(N){N.topText=new u(N.metaText,N.metaTextInfo,N.formatting,N.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var k,D,F=!1,G=!1;for(k=0;k<N.lines.length;k++)if(D=N.lines[k],D.staff)G=!0,D.staffGroup=this.engraver.createABCLine(D.staff,F?null:N.metaText.tempo,k),F=!0;else if(D.subtitle){if(G){var E=this.width/2+this.renderer.padding.left;D.nonMusic=new c(this.renderer.spacing.subtitle,N.formatting,D.subtitle,E,this.renderer.padding.left,this.getTextSize)}}else D.text!==void 0?(G=!0,D.nonMusic=new n(D.text,D.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):D.separator!==void 0&&D.separator.lineLength&&(G=!0,D.nonMusic=new a(D.separator.spaceAbove,D.separator.lineLength,D.separator.spaceBelow));N.bottomText=new f(N.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)},w.prototype.engraveTune=function(N,k,D){var F=this.jazzchords,G=this.setupTune(N,k);this.constructTuneElements(N);var E=g(this.renderer,N,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&E>this.width+1&&(N.topText=new u(N.metaText,N.metaTextInfo,N.formatting,N.lines,E,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),N.lines&&N.lines.length>0))for(var R=N.lines.length,O=0;O<R;++O){var P=N.lines[O];if(P.nonMusic&&P.nonMusic.rows&&P.nonMusic.rows.length>0)for(var j=P.nonMusic.rows.length,Y=0;Y<j;++Y){var H=P.nonMusic.rows[Y];H.left&&(P.subtitle?H.left=E/2+this.renderer.padding.left:P.text&&P.text.length>0&&P.text[0].center&&(H.left=E/2+this.renderer.padding.left))}}N.tablatures&&_.layoutTablatures(this.renderer,N);var q=m(this.renderer,this.classes,N,this.width,E,this.responsive,G,this.selectTypes,k,D);if(this.staffgroups=q.staffgroups,this.selectables=q.selectables,this.oneSvgPerLine){var U=this.renderer.paper.svg.parentNode;this.svgs=T(this.renderer,U,N.metaText.title,this.responsive,G)}else this.svgs=[this.renderer.paper.svg];d(this,this.svgs),this.jazzchords=F};function T(N,k,D,F,G){D||(D="Untitled");var E=k.querySelector("svg");F==="resize"&&(k.style.paddingBottom="");for(var R=E.querySelector("style"),O=F==="resize"?E.viewBox.baseVal.width:E.getAttribute("width"),P=k.querySelectorAll("svg > g"),j=0,Y=[],H=0;H<P.length;H++){var q=P[H],U=q.getBBox(),X=U.y-j,I=U.height+X,z=document.createElement("div"),A="overflow: hidden;";F!=="resize"&&(A+="height:"+I*G+"px;"),z.setAttribute("style",A);var B=C(E),V='Sheet Music for "'+D+'" section '+(H+1);B.setAttribute("aria-label",V),F!=="resize"&&B.setAttribute("height",I),F==="resize"&&(B.style.position="");var Q=N.firefox112?I+1:I;B.setAttribute("viewBox","0 "+j+" "+O+" "+Q),B.appendChild(R.cloneNode(!0));var W=document.createElement("title");W.innerText=V,B.appendChild(W),B.appendChild(q),z.appendChild(B),Y.push(B),k.appendChild(z),j=U.y+U.height}return k.removeChild(E),Y}function C(N){for(var k="http://www.w3.org/2000/svg",D=document.createElementNS(k,"svg"),F=0;F<N.attributes.length;F++){var G=N.attributes[F];G.name!=="height"&&G.name!="aria-label"&&D.setAttribute(G.name,G.value)}return D}return w.prototype.getDim=function(N){if(!N.dim){var k=N.svgEl.getBBox();N.dim={left:Math.round(k.x),top:Math.round(k.y),right:Math.round(k.x+k.width),bottom:Math.round(k.y+k.height)}}return N.dim},w.prototype.addSelectListener=function(N){this.listeners[this.listeners.length]=N},k2=w,k2}var N2,i7;function Mw(){if(i7)return N2;i7=1;var t=kh();uw();var e=Aw(),o=fw(),n=ow(),a={};function c(){var g=window.innerWidth;for(var b in a)if(a.hasOwnProperty(b)){var x=a[b],y=x.offsetLeft;g-=y*2,x.style.width=g+"px"}}try{window.addEventListener("resize",c),window.addEventListener("orientationChange",c)}catch{}function u(g,b,x,y,m){x.viewportHorizontal?(g.innerHTML='<div class="abcjs-inner"></div>',x.scrollHorizontal?(g.style.overflowX="auto",g.style.overflowY="hidden"):g.style.overflow="hidden",a[g.id]=g,g=g.children[0]):x.viewportVertical?(g.innerHTML='<div class="abcjs-inner scroll-amount"></div>',g.style.overflowX="hidden",g.style.overflowY="auto",g=g.children[0]):g.innerHTML="";var _=new e(g,x);if(_.engraveABC(b,y,m),b.engraver=_,x.viewportVertical||x.viewportHorizontal){var p=g.parentNode;p.style.width=g.style.width}}var f=function(g,b,x,y,m){var _={},p;if(x){for(p in x)x.hasOwnProperty(p)&&(_[p]=x[p]);_.warnings_id&&_.tablature&&(_.tablature.warning_id=_.warnings_id)}if(y)for(p in y)y.hasOwnProperty(p)&&(p==="listener"?y[p].highlight&&(_.clickListener=y[p].highlight):_[p]=y[p]);if(m)for(p in m)m.hasOwnProperty(p)&&(_[p]=m[p]);function w(T,C,N,k){var D=!1;return T==="*"&&(D=!0,T=document.createElement("div"),T.setAttribute("style","visibility: hidden;"),document.body.appendChild(T)),!D&&_.wrap&&_.staffwidth?(C=d(T,C,N,k,_),C):(_.afterParsing&&_.afterParsing(C,N,k),u(T,C,_,N,0),D&&T.parentNode.removeChild(T),null)}return t.renderEngine(w,g,b,_)};function d(g,b,x,y,m){var _=new e(g,m),p=_.getMeasureWidths(b),w=n.calcLineWraps(b,p,m);if(w.reParse){var T=new o;T.parse(y,w.revisedParams),b=T.getTune();var C=T.getWarnings();C&&(b.warnings=C)}return m.afterParsing&&m.afterParsing(b,x,y),u(g,b,w.revisedParams,x,0),b.explanation=w.explanation,b}return N2=f,N2}var R2,a7;function VB(){if(a7)return R2;a7=1;var t=kh(),e=Aw(),o=function(n,a){function c(u,f,d,g){u=document.createElement("div"),u.setAttribute("style","visibility: hidden;"),document.body.appendChild(u);var b=new e(u,a),x=b.getMeasureWidths(f);return u.parentNode.removeChild(u),{sections:x}}return t.renderEngine(c,"*",n,a)};return R2=o,R2}var D2,s7;function c3(){if(s7)return D2;s7=1;var t={};return D2=t,D2}var O2,o7;function IB(){if(o7)return O2;o7=1;var t=c3(),e=function(o,n,a,c){t[n]||(t[n]={});var u=t[n];return u[a]||(u[a]=new Promise(function(f,d){var g=new XMLHttpRequest;let b=o+n+"-mp3/"+a+".mp3";g.open("GET",b,!0),g.responseType="arraybuffer",g.onload=function(){if(g.status!==200){d(Error("Can't load sound at "+b+" status="+g.status));return}var x=function(m){f({instrument:n,name:a,status:"loaded",audioBuffer:m})},y=c.decodeAudioData(g.response,x,function(){d(Error("Can't decode sound at "+b))});y&&typeof y.catch=="function"&&y.catch(d)},g.onerror=function(){d(Error("Can't load sound at "+b))},g.send()}).catch(f=>{throw console.error("Didn't load note",n,a,":",f.message),f})),u[a]};return O2=e,O2}var z2,l7;function u3(){if(l7)return z2;l7=1;var t=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"];return z2=t,z2}var B2,c7;function ZB(){if(c7)return B2;c7=1;var t=u3(),e=function(o){for(var n=[],a=0;a<o.tracks.length;a++)n.push([]);var c=t[0];return o.tracks.forEach(function(u,f){u.forEach(function(d){switch(d.cmd){case"note":var g=d.instrument!==void 0?t[d.instrument]:c;if(d.duration>0){var b=d.gap?d.gap:0,x=d.duration;b=Math.min(b,x*2/3);var y={pitch:d.pitch,instrument:g,start:Math.round(d.start*1e6)/1e6,end:Math.round((d.start+x-b)*1e6)/1e6,volume:d.volume};d.startChar&&(y.startChar=d.startChar),d.endChar&&(y.endChar=d.endChar),d.style&&(y.style=d.style),d.cents&&(y.cents=d.cents),n[f].push(y)}break;case"program":c=t[d.instrument];break;case"text":break;default:console.log("Unhandled midi event",d)}})}),n};return B2=e,B2}var L2,u7;function Nh(){if(u7)return L2;u7=1;function t(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var o=window.AudioContext||window.webkitAudioContext;if(o)window.abcjsAudioContext=new o;else return!1}return window.abcjsAudioContext.state!=="suspended"}return L2=t,L2}var q2,f7;function No(){if(f7)return q2;f7=1;var t=Nh();function e(){return window.abcjsAudioContext||t(),window.abcjsAudioContext}return q2=e,q2}var j2,h7;function Rh(){if(h7)return j2;h7=1;var t=No();function e(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var o=t();if(o)return o.resume!==void 0}return j2=e,j2}var P2,d7;function f3(){if(d7)return P2;d7=1;var t={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"};return P2=t,P2}var H2,p7;function QB(){if(p7)return H2;p7=1;var t=function(o){return window.URL.createObjectURL(e(o.audioBuffers))};function e(o){var n=o[0],a=n.numberOfChannels,c=n.length*a*2+44,u=new ArrayBuffer(c),f=new DataView(u),d=[],g,b,x=0,y=0;for(_(1179011410),_(c-8),_(1163280727),_(544501094),_(16),m(1),m(a),_(n.sampleRate),_(n.sampleRate*2*a),m(a*2),m(16),_(1635017060),_(c-y-4),g=0;g<a;g++)d.push(n.getChannelData(g));for(;y<c;){for(g=0;g<d.length;g++)b=Math.max(-1,Math.min(1,d[g][x])),b=(.5+b<0?b*32768:b*32767)|0,f.setInt16(y,b,!0),y+=2;x++}return new Blob([u],{type:"audio/wav"});function m(p){f.setUint16(y,p,!0),y+=2}function _(p){f.setUint32(y,p,!0),y+=4}}return H2=t,H2}var Y2,g7;function kw(){if(g7)return Y2;g7=1;function t(e){return Math.pow(2,e/1200)}return Y2=t,Y2}var U2,v7;function KB(){if(v7)return U2;v7=1;var t=c3(),e=f3(),o=kw();function n(c,u,f,d,g,b,x,y,m){var _=window.OfflineAudioContext||window.webkitOfflineAudioContext,p=f.len*f.tempoMultiplier;b&&(p+=b/1e3),p-=y,p<0&&(p=.005);var w=new _(2,Math.floor((p+x)*u),u),T=e[f.pitch];if(!t[f.instrument])return m&&m("placeNote skipped (instrument empty): "+f.instrument+":"+T),Promise.resolve();var C=t[f.instrument][T];return C?C.then(function(N){var k=w.createBufferSource();k.buffer=N.audioBuffer;var D=f.volume/96*g;k.gainNode=w.createGain(),f.pan&&w.createStereoPanner&&(k.panNode=w.createStereoPanner(),k.panNode.pan.setValueAtTime(f.pan,0)),k.gainNode.gain.value=D,k.gainNode.gain.linearRampToValueAtTime(k.gainNode.gain.value,p),k.gainNode.gain.linearRampToValueAtTime(0,p+x),f.cents&&(k.playbackRate.value=o(f.cents)),k.panNode?(k.panNode.connect(w.destination),k.gainNode.connect(k.panNode)):k.gainNode.connect(w.destination),k.connect(k.gainNode),k.start(0),k.noteOff?k.noteOff(p+x):k.stop(p+x);var F;return w.oncomplete=function(G){if(G.renderedBuffer&&G.renderedBuffer.getChannelData)for(var E=0;E<d.length;E++){var R=d[E]*f.tempoMultiplier;b&&(R-=b/1e3),R<0&&(R=0),R=Math.floor(R*u),a(c,G.renderedBuffer,R)}m&&m("placeNote: "+f.instrument+":"+T),F()},w.startRendering(),new Promise(function(G){F=G})}).catch(function(N){return m&&m("placeNote catch: "+N.message),Promise.reject(N)}):(m&&m("placeNote skipped: "+f.instrument+":"+T),Promise.resolve())}var a=function(c,u,f){for(var d=0;d<2;d++)for(var g=u.getChannelData(d),b=c.getChannelData(d),x=0;x<g.length;x++)b[x+f]+=g[x]};return U2=n,U2}var F2,m7;function h3(){if(m7)return F2;m7=1;var t=IB(),e=ZB(),o=Nh(),n=No(),a=Rh(),c=f3(),u=u3(),f=QB(),d=KB(),g=c3(),b="MIDI is not supported in this browser.",x="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",y="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",m="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function _(){var p=this;p.audioBufferPossible=void 0,p.directSource=[],p.startTimeSec=void 0,p.pausedTimeSec=void 0,p.audioBuffers=[],p.duration=void 0,p.isRunning=!1,p.options={},p.pickupLength=0,p.init=function(C){C||(C={}),C.options&&(p.options=C.options),o(C.audioContext);var N=n().currentTime;if(p.debugCallback=C.debugCallback,p.debugCallback&&p.debugCallback("init called"),p.audioBufferPossible=p._deviceCapable(),!p.audioBufferPossible)return Promise.reject({status:"NotSupported",message:b});var k=C.options?C.options:{};p.soundFontUrl=k.soundFontUrl?k.soundFontUrl:y,p.soundFontUrl[p.soundFontUrl.length-1]!=="/"&&(p.soundFontUrl+="/"),k.soundFontVolumeMultiplier||k.soundFontVolumeMultiplier===0?p.soundFontVolumeMultiplier=k.soundFontVolumeMultiplier:p.soundFontUrl===y||p.soundFontUrl===m?p.soundFontVolumeMultiplier=3:p.soundFontUrl===x?p.soundFontVolumeMultiplier=.4:p.soundFontVolumeMultiplier=1,k.programOffsets?p.programOffsets=k.programOffsets:p.soundFontUrl===x?p.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:p.programOffsets={};var D=k.fadeLength!==void 0?parseInt(k.fadeLength,10):NaN;if(p.fadeLength=isNaN(D)?200:D,D=k.noteEnd!==void 0?parseInt(k.noteEnd,10):NaN,p.noteEnd=isNaN(D)?0:D,p.pan=k.pan,p.meterSize=1,C.visualObj){p.flattened=C.visualObj.setUpAudio(k);var F=C.visualObj.getMeterFraction();F.den&&(p.meterSize=C.visualObj.getMeterFraction().num/C.visualObj.getMeterFraction().den),p.pickupLength=C.visualObj.getPickupLength()}else if(C.sequence)p.flattened=C.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));p.millisecondsPerMeasure=C.millisecondsPerMeasure?C.millisecondsPerMeasure:C.visualObj?C.visualObj.millisecondsPerMeasure(p.flattened.tempo):1e3,p.beatsPerMeasure=C.visualObj?C.visualObj.getBeatsPerMeasure():4,p.sequenceCallback=k.sequenceCallback,p.callbackContext=k.callbackContext,p.onEnded=k.onEnded,p.meterFraction=C.visualObj?C.visualObj.getMeterFraction():{den:1};var G={},E=[],R=[],O=u[0];p.flattened.tracks.forEach(function(q){q.forEach(function(U){if(U.cmd==="program"&&u[U.instrument]&&(O=u[U.instrument]),U.pitch!==void 0){var X=U.pitch,I=c[X],z=U.instrument!==void 0?u[U.instrument]:O;if(I)if(G[z]||(G[z]={}),!g[z]||!g[z][I])G[z][I]=!0;else{var A=z+":"+I;E.indexOf(A)<0&&E.push(A)}else{var B=z+":"+I;console.log("Can't find note: ",X,B),R.indexOf(B)<0&&R.push(B)}}})}),p.debugCallback&&p.debugCallback("note gathering time = "+Math.floor((n().currentTime-N)*1e3)+"ms"),N=n().currentTime;var P=[];Object.keys(G).forEach(function(q){Object.keys(G[q]).forEach(function(U){P.push({instrument:q,note:U})})}),p.debugCallback&&p.debugCallback("notes "+JSON.stringify(P));for(var j=[],Y=256,H=0;H<P.length;H+=Y)j.push(P.slice(H,H+Y));return new Promise(function(q,U){var X={cached:E,error:R,loaded:[]},I=0,z=function(){p.debugCallback&&p.debugCallback("loadBatch idx="+I+" len="+j.length),I<j.length?p._loadBatch(j[I],p.soundFontUrl,N).then(function(A){p.debugCallback&&p.debugCallback("loadBatch then"),N=n().currentTime,A&&(A.error&&(X.error=X.error.concat(A.error)),A.loaded&&(X.loaded=X.loaded.concat(A.loaded))),I++,z()},U):(p.debugCallback&&p.debugCallback("resolve init"),q(X))};z()})},p._loadBatch=function(C,N,k,D){var F=[];return C.forEach(function(G){p.debugCallback&&p.debugCallback("getNote "+G.instrument+":"+G.note),F.push(t(N,G.instrument,G.note,n()))}),Promise.all(F).then(function(G){p.debugCallback&&p.debugCallback("mp3 load time = "+Math.floor((n().currentTime-k)*1e3)+"ms");for(var E=[],R=[],O=[],P=[],j=0;j<G.length;j++){var Y=G[j],H=Y.instrument+":"+Y.name;Y.status==="loaded"?E.push(H):Y.status==="pending"?O.push(H):Y.status==="cached"?R.push(H):P.push(H+" "+Y.message)}if(O.length>0){if(p.debugCallback&&p.debugCallback("pending "+JSON.stringify(O)),D?D=D*2:D=50,D<9e4)return new Promise(function(X,I){setTimeout(function(){var z=[];for(j=0;j<O.length;j++)H=O[j].split(":"),z.push({instrument:H[0],note:H[1]});p.debugCallback&&p.debugCallback("retry "+JSON.stringify(z)),p._loadBatch(z,N,k,D).then(function(A){X(A)}).catch(function(A){I(A)})},D)});for(var q=[],U=0;U<C.length;U++)q.push(C[U].instrument+"/"+C[U].note);return p.debugCallback&&p.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+q.join(", ")))}else return p.debugCallback&&p.debugCallback("loadBatch resolve"),Promise.resolve({loaded:E,cached:R,error:P})}).catch(function(G){p.debugCallback&&p.debugCallback("loadBatch catch "+G.message)})},p.prime=function(){var C=p.fadeLength/1e3;return p.isRunning=!1,p.audioBufferPossible?(p.debugCallback&&p.debugCallback("prime called"),new Promise(function(N,k){try{let I=function(z){var A=z&&z.audioBuffers&&z.audioBuffers.length>0?z.audioBuffers[0].duration:0;return{status:n().state,duration:A}};var X=I,D=n().currentTime,F=p.millisecondsPerMeasure/1e3/p.meterSize;if(p.duration=p.flattened.totalDuration*F,p.duration<=0)return p.audioBuffers=[],N({status:"empty",seconds:0});p.duration+=C;var G=Math.floor(n().sampleRate*p.duration);p.stop();var E=e(p.flattened);p.options.swing&&T(E,p.options.swing,p.meterFraction,p.pickupLength),p.sequenceCallback&&p.sequenceCallback(E,p.callbackContext);var R=w(E.length,p.pan),O={};E.forEach(function(z,A){var B=R&&R.length>A?R[A]:0;z.forEach(function(V){var Q=V.instrument+":"+V.pitch+":"+V.volume+":"+Math.round((V.end-V.start)*1e3)/1e3+":"+B+":"+F+":"+(V.cents?V.cents:0);p.debugCallback&&p.debugCallback("noteMapTrack "+Q),O[Q]||(O[Q]=[]),O[Q].push(V.start)})});for(var P=[],j=n().createBuffer(2,G,n().sampleRate),Y=0;Y<Object.keys(O).length;Y++){var H=Object.keys(O)[Y],q=H.split(":"),U=q[6]!==void 0?parseFloat(q[6]):0;q={instrument:q[0],pitch:parseInt(q[1],10),volume:parseInt(q[2],10),len:parseFloat(q[3]),pan:parseFloat(q[4]),tempoMultiplier:parseFloat(q[5]),cents:U},P.push(d(j,n().sampleRate,q,O[H],p.soundFontVolumeMultiplier,p.programOffsets[q.instrument],C,p.noteEnd/1e3,p.debugCallback))}p.audioBuffers=[j],p.debugCallback&&(p.debugCallback("sampleRate = "+n().sampleRate),p.debugCallback("totalSamples = "+G),p.debugCallback("creationTime = "+Math.floor((n().currentTime-D)*1e3)+"ms")),Promise.all(P).then(function(){n().state==="suspended"?n().resume().then(function(){N(I(p))}):n().state==="interrupted"?n().suspend().then(function(){n().resume().then(function(){N(I(p))})}):N(I(p))}).catch(function(z){k(z)})}catch(I){k(I)}})):Promise.reject(new Error(b))};function w(C,N){if(N==null)return null;var k=[];if(N.length){for(var D=0;D<C;D++)if(D<N.length){var F=parseFloat(N[D]);F<-1?F=-1:F>1&&(F=1),k.push(F)}else k.push(0);return k}else{var G=parseFloat(N);if(G*(C-1)>2)return null;for(var E=C%2===0,R=E?0-G/2:0,O=R+G,P=0;P<C;P++)E=P%2===0,E?(k.push(R),R-=G):(k.push(O),O+=G);return k}}p.start=function(){if(!p.audioBufferPossible)throw new Error(b);p.debugCallback&&p.debugCallback("start called");var C=p.pausedTimeSec?p.pausedTimeSec:0;p._kickOffSound(C),p.startTimeSec=n().currentTime-C,p.pausedTimeSec=void 0,p.debugCallback&&p.debugCallback("MIDI STARTED",p.startTimeSec)},p.pause=function(){if(!p.audioBufferPossible)throw new Error(b);return p.debugCallback&&p.debugCallback("pause called"),p.pausedTimeSec=p.stop(),p.pausedTimeSec},p.resume=function(){p.start()},p.seek=function(C,N){var k;switch(N){case"seconds":k=C;break;case"beats":k=C*p.millisecondsPerMeasure/p.beatsPerMeasure/1e3;break;default:k=(p.duration-p.fadeLength/1e3)*C;break}if(!p.audioBufferPossible)throw new Error(b);p.debugCallback&&p.debugCallback("seek called sec="+k),p.isRunning?(p.stop(),p._kickOffSound(k)):p.pausedTimeSec=k,p.pausedTimeSec=k},p.stop=function(){p.isRunning=!1,p.pausedTimeSec=void 0,p.directSource.forEach(function(N){try{N.stop()}catch(k){console.log("direct source didn't stop:",k)}}),p.directSource=[];var C=n().currentTime-p.startTimeSec;return C},p.finished=function(){p.startTimeSec=void 0,p.pausedTimeSec=void 0,p.isRunning=!1},p.download=function(){return f(p)},p.getAudioBuffer=function(){return p.audioBuffers[0]},p.getIsRunning=function(){return p.isRunning},p._deviceCapable=function(){return a()?!0:(console.warn(b),p.debugCallback&&p.debugCallback(b),!1)},p._kickOffSound=function(C){p.isRunning=!0,p.directSource=[],p.audioBuffers.forEach(function(N,k){p.directSource[k]=n().createBufferSource(),p.directSource[k].buffer=N,p.directSource[k].connect(n().destination)}),p.directSource.forEach(function(N){N.start(0,C)}),p.onEnded&&(p.directSource[0].onended=function(){p.onEnded(p.callbackContext)})};function T(C,N,k,D){if(!(k.den!=4&&k.den!=8)&&(N=parseFloat(N),!(isNaN(N)||N<=50))){N>75&&(N=75),N=N/50-1;var F=0,G=.25;k.den===8&&(G=G/2);for(var E=G/2,R=E*N,O=0;O<C.length;O++)for(var P=C[O],j=0;j<P.length;j++){var Y=P[j];if((Y.start-D)%E==0&&(Y.start-D)%G!=0&&(j==0||P[j-1].start<=P[j].start-E)&&(j==P.length-1||P[j+1].start>=P[j].start+E)){var H=Y.start;Y.start+=R,Y.volume*=1+F,j>0&&P[j-1].end==H&&(P[j-1].end=Y.start,P[j-1].volume*=1-F)}}}}}return F2=_,F2}var G2,y7;function Nw(){if(y7)return G2;y7=1;var t=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(o,n){e.tracks[o].push({channel:0,cmd:"program",instrument:n}),e.currentInstrument[o]=n},e.appendNote=function(o,n,a,c,u){var f={cmd:"note",duration:a,gap:0,instrument:e.currentInstrument[o],pitch:n,start:e.starts[o],volume:c};u&&(f.cents=u),e.tracks[o].push(f),e.starts[o]+=a,e.totalDuration=Math.max(e.totalDuration,e.starts[o])}};return G2=t,G2}var $2,b7;function WB(){if(b7)return $2;b7=1;var t=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`;return $2=t,$2}var X2,_7;function JB(){if(_7)return X2;_7=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`;return X2=t,X2}var V2,x7;function eL(){if(x7)return V2;x7=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`;return V2=t,V2}var I2,w7;function tL(){if(w7)return I2;w7=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`;return I2=t,I2}var Z2,S7;function nL(){if(S7)return Z2;S7=1;var t=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`;return Z2=t,Z2}var Q2,T7;function Rw(){if(T7)return Q2;T7=1;var t=Rh(),e=Nh(),o=No(),n=WB(),a=JB(),c=eL(),u=tL(),f=nL();function d(m,_){var p=this;if(typeof m=="string"){var w=m;if(m=document.querySelector(w),!m)throw new Error('Cannot find element "'+w+'" in the DOM.')}else if(!(m instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(p.parent=m,p.options={},_&&(p.options=Object.assign({},_)),p.options.ac&&e(p.options.ac),g(p.parent,p.options),y(p),p.disable=function(C){var N=p.parent.querySelector(".abcjs-inline-audio");C?N.classList.add("abcjs-disabled"):N.classList.remove("abcjs-disabled")},p.setWarp=function(C,N){var k=p.parent.querySelector(".abcjs-midi-tempo");k.value=Math.round(N),p.setTempo(C)},p.setTempo=function(C){var N=p.parent.querySelector(".abcjs-midi-current-tempo");N&&(N.innerHTML=Math.round(C))},p.resetAll=function(){for(var C=p.parent.querySelectorAll(".abcjs-pushed"),N=0;N<C.length;N++){var k=C[N];k.classList.remove("abcjs-pushed")}},p.pushPlay=function(C){var N=p.parent.querySelector(".abcjs-midi-start");N&&(C?N.classList.add("abcjs-pushed"):N.classList.remove("abcjs-pushed"))},p.pushLoop=function(C){var N=p.parent.querySelector(".abcjs-midi-loop");N&&(C?N.classList.add("abcjs-pushed"):N.classList.remove("abcjs-pushed"))},p.setProgress=function(C,N){var k=p.parent.querySelector(".abcjs-midi-progress-background"),D=p.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!k||!D)){var F=k.clientWidth,G=F*C;D.style.left=G+"px";var E=p.parent.querySelector(".abcjs-midi-clock");if(E){var R=N*C/1e3,O=Math.floor(R/60),P=Math.floor(R%60),j=P<10?"0"+P:P;E.innerHTML=O+":"+j}}},p.options.afterResume){var T=!1;p.options.ac?T=p.options.ac.state!=="suspended":o()&&(T=o().state!=="suspended"),T&&p.options.afterResume()}}function g(m,_){var p=!!_.loopHandler,w=!!_.restartHandler,T=!!_.playHandler||!!_.playPromiseHandler,C=!!_.progressHandler,N=!!_.warpHandler,k=_.hasClock!==!1,D=`<div class="abcjs-inline-audio">
`;if(p){var F=_.repeatTitle?_.repeatTitle:"Click to toggle play once/repeat.",G=_.repeatAria?_.repeatAria:F;D+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+F+'" aria-label="'+G+'">'+n+`</button>
`}if(w){var E=_.restartTitle?_.restartTitle:"Click to go to beginning.",R=_.restartAria?_.restartAria:E;D+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+E+'" aria-label="'+R+'">'+f+`</button>
`}if(T){var O=_.playTitle?_.playTitle:"Click to play/pause.",P=_.playAria?_.playAria:O;D+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+O+'" aria-label="'+P+'">'+a+c+u+`</button>
`}if(C){var j=_.randomTitle?_.randomTitle:"Click to change the playback position.",Y=_.randomAria?_.randomAria:j;D+='<button type="button" class="abcjs-midi-progress-background" title="'+j+'" aria-label="'+Y+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(k&&(D+=`<span class="abcjs-midi-clock"></span>
`),N){var H=_.warpTitle?_.warpTitle:"Change the playback speed.",q=_.warpAria?_.warpAria:H,U=_.bpm?_.bpm:"BPM";D+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+H+'" aria-label="'+q+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+U+`)</span></span>
`}D+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',D+=`</div>
`,m.innerHTML=D}function b(m,_,p,w,T){var C=!0;if(o()?C=o().state==="suspended":e(),!t())throw{status:"NotSupported",message:"This browser does not support audio."};(C||T)&&p&&p.classList.add("abcjs-loading"),C?o().resume().then(function(){w?w().then(function(N){x(m,_,p,T)}):x(m,_,p,T)}):x(m,_,p,T)}function x(m,_,p,w){w?m(_).then(function(){p&&p.classList.remove("abcjs-loading")}):(m(_),p&&p.classList.remove("abcjs-loading"))}function y(m){var _=!!m.options.loopHandler,p=!!m.options.restartHandler,w=!!m.options.playHandler||!!m.options.playPromiseHandler,T=!!m.options.progressHandler,C=!!m.options.warpHandler,N=m.parent.querySelector(".abcjs-midi-start");_&&m.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(k){b(m.options.loopHandler,k,N,m.options.afterResume)}),p&&m.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(k){b(m.options.restartHandler,k,N,m.options.afterResume)}),w&&N.addEventListener("click",function(k){b(m.options.playPromiseHandler||m.options.playHandler,k,N,m.options.afterResume,!!m.options.playPromiseHandler)}),T&&m.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(k){b(m.options.progressHandler,k,N,m.options.afterResume)}),C&&m.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(k){b(m.options.warpHandler,k,N,m.options.afterResume)})}return Q2=d,Q2}var K2,C7;function rL(){if(C7)return K2;C7=1;var t=Nw(),e=h3(),o=No();function n(c,u,f,d,g){for(var b=new t,x=0;x<c.length;x++){var y=c[x],m=b.addTrack();if(b.setInstrument(m,y.instrument),x===0&&u)for(var _=0;_<u.length;_++){var p=u[_];b.appendNote(m,p.pitch,1/64,p.volume,p.cents)}b.appendNote(m,y.pitch,y.duration,y.volume,y.cents)}var w=o();return w.state==="suspended"?w.resume().then(function(){return a(b,f,d,g)}):a(b,f,d,g)}function a(c,u,f,d){var g=new e;return g.init({sequence:c,millisecondsPerMeasure:u,options:{soundFontUrl:f},debugCallback:d}).then(function(){return g.prime()}).then(function(){return g.start(),Promise.resolve()})}return K2=n,K2}var W2,E7;function Dw(){if(E7)return W2;E7=1;var t=Rw(),e=h3(),o=n3(),n=No();function a(){var c=this;c.warp=100,c.cursorControl=null,c.visualObj=null,c.timer=null,c.midiBuffer=null,c.options=null,c.currentTempo=null,c.control=null,c.isLooping=!1,c.isStarted=!1,c.isLoaded=!1,c.isLoading=!1,c.load=function(f,d,g){g||(g={}),g.displayPlay===void 0&&(g.displayPlay=!0),g.displayProgress===void 0&&(g.displayProgress=!0),c.control=new t(f,{loopHandler:g.displayLoop?c.toggleLoop:void 0,restartHandler:g.displayRestart?c.restart:void 0,playPromiseHandler:g.displayPlay?c.play:void 0,progressHandler:g.displayProgress?c.randomAccess:void 0,warpHandler:g.displayWarp?c.onWarp:void 0,afterResume:c.init}),c.cursorControl=d,c.disable(!0)},c.disable=function(f){c.control&&c.control.disable(f)},c.setTune=function(f,d,g){return c.visualObj=f,c.disable(!1),c.options=g||{},c.control&&(c.pause(),c.setProgress(0,1),c.control.resetAll(),c.restart(),c.isStarted=!1),c.isLooping=!1,d?c.go():Promise.resolve({status:"no-audio-context"})},c.go=function(){c.isLoading=!0;var f=c.visualObj.millisecondsPerMeasure()*100/c.warp;c.currentTempo=Math.round(c.visualObj.getBeatsPerMeasure()/f*6e4),c.control&&c.control.setTempo(c.currentTempo),c.percent=0;var d;return c.midiBuffer||(c.midiBuffer=new e),n().resume().then(function(g){return c.midiBuffer.init({visualObj:c.visualObj,options:c.options,millisecondsPerMeasure:f})}).then(function(g){return d=g,c.midiBuffer.prime()}).then(function(){var g=16;return c.cursorControl&&c.cursorControl.beatSubdivisions!==void 0&&parseInt(c.cursorControl.beatSubdivisions,10)>=1&&parseInt(c.cursorControl.beatSubdivisions,10)<=64&&(g=parseInt(c.cursorControl.beatSubdivisions,10)),c.timer=new o(c.visualObj,{beatCallback:c.beatCallback,eventCallback:c.eventCallback,lineEndCallback:c.lineEndCallback,qpm:c.currentTempo,extraMeasuresAtBeginning:c.cursorControl?c.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:c.cursorControl?c.cursorControl.lineEndAnticipation:0,beatSubdivisions:g}),c.cursorControl&&c.cursorControl.onReady&&typeof c.cursorControl.onReady=="function"&&c.cursorControl.onReady(c),c.isLoaded=!0,c.isLoading=!1,Promise.resolve({status:"created",notesStatus:d})})},c.destroy=function(){c.timer&&(c.timer.reset(),c.timer.stop(),c.timer=null),c.midiBuffer&&(c.midiBuffer.stop(),c.midiBuffer=null),c.setProgress(0,1),c.control&&c.control.resetAll()},c.play=function(){return c.runWhenReady(c._play,void 0)};function u(f){return new Promise(function(d){setTimeout(d,f)})}c.runWhenReady=function(f,d){return c.visualObj?c.isLoading?u(500).then(function(){return c.isLoading?c.runWhenReady(f,d):f(d)}):c.isLoaded?f(d):c.go().then(function(){return f(d)}):Promise.resolve({status:"loading"})},c._play=function(){return n().resume().then(function(){return c.isStarted=!c.isStarted,c.isStarted?(c.cursorControl&&c.cursorControl.onStart&&typeof c.cursorControl.onStart=="function"&&c.cursorControl.onStart(),c.midiBuffer.start(),c.timer.start(c.percent),c.control&&c.control.pushPlay(!0)):c.pause(),Promise.resolve({status:"ok"})})},c.pause=function(){c.timer&&(c.timer.pause(),c.midiBuffer.pause(),c.control&&c.control.pushPlay(!1))},c.toggleLoop=function(){c.isLooping=!c.isLooping,c.control&&c.control.pushLoop(c.isLooping)},c.restart=function(){c.timer&&(c.timer.setProgress(0),c.midiBuffer.seek(0))},c.randomAccess=function(f){return c.runWhenReady(c._randomAccess,f)},c._randomAccess=function(f){var d=f.target.classList.contains("abcjs-midi-progress-indicator")?f.target.parentNode:f.target,g=(f.x-d.getBoundingClientRect().left)/d.offsetWidth;return g<0&&(g=0),g>1&&(g=1),c.seek(g),Promise.resolve({status:"ok"})},c.seek=function(f,d){c.timer&&c.midiBuffer&&(c.timer.setProgress(f,d),c.midiBuffer.seek(f,d))},c.setWarp=function(f){if(parseInt(f,10)>0){c.warp=parseInt(f,10);var d=c.isStarted,g=c.percent;return c.destroy(),c.isStarted=!1,c.go().then(function(){return c.setProgress(g,c.midiBuffer.duration*1e3),c.control&&c.control.setWarp(c.currentTempo,c.warp),d?c.play().then(function(){return c.seek(g),Promise.resolve()}):(c.seek(g),Promise.resolve())})}return Promise.resolve()},c.onWarp=function(f){var d=f.target.value;return c.setWarp(d)},c.setProgress=function(f,d){c.percent=f,c.control&&c.control.setProgress(f,d)},c.finished=function(){if(c.timer.reset(),c.isLooping)return c.timer.start(0),c.midiBuffer.finished(),c.midiBuffer.start(),"continue";c.timer.stop(),c.isStarted&&(c.control&&c.control.pushPlay(!1),c.isStarted=!1,c.midiBuffer.finished(),c.cursorControl&&c.cursorControl.onFinished&&typeof c.cursorControl.onFinished=="function"&&c.cursorControl.onFinished(),c.setProgress(0,1))},c.beatCallback=function(f,d,g,b){var x=f/d;c.setProgress(x,g),c.cursorControl&&c.cursorControl.onBeat&&typeof c.cursorControl.onBeat=="function"&&c.cursorControl.onBeat(f,d,g,b)},c.eventCallback=function(f){if(f)c.cursorControl&&c.cursorControl.onEvent&&typeof c.cursorControl.onEvent=="function"&&c.cursorControl.onEvent(f);else return c.finished()},c.lineEndCallback=function(f,d){c.cursorControl&&c.cursorControl.onLineEnd&&typeof c.cursorControl.onLineEnd=="function"&&c.cursorControl.onLineEnd(f,d)},c.getUrl=function(){return c.midiBuffer.download()},c.download=function(f){var d=c.getUrl(),g=document.createElement("a");document.body.appendChild(g),g.setAttribute("style","display: none;"),g.href=d,g.download=f||"output.wav",g.click(),window.URL.revokeObjectURL(d),document.body.removeChild(g)}}return W2=a,W2}var J2,A7;function Ow(){if(A7)return J2;A7=1;var t=kw(),e;return function(){function o(y,m){for(var _ in m)m.hasOwnProperty(_)&&y.setAttribute(_,m[_]);return y}function n(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}n.prototype.setTempo=function(y){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+g(Math.round(6e7/y),6),this.endTrack())},n.prototype.setGlobalInfo=function(y,m,_,p){if(this.trackcount===0){this.startTrack();var w=Math.round(6e7/y);this.track+="%00%FF%51%03"+g(w,6),_&&(this.track+=u(_)),p&&(this.track+=f(p)),m&&(this.track+=c(m,"%01")),this.endTrack()}},n.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},n.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var y=g(this.track.length/3+4,8);this.track="MTrk"+y+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},n.prototype.setText=function(y,m){switch(y){case"name":this.trackName=c(m,"%03");break}},n.prototype.setInstrument=function(y){this.trackInstrument="%00%C0"+g(y,2),this.instrument=y},n.prototype.setChannel=function(y,m){this.channel=y;var _="%00%B"+this.channel.toString(16);this.track+=_+"%79%00",this.track+=_+"%40%00",this.track+=_+"%5B%30",m||(m=0),m=Math.round((m+1)*64),this.track+=_+"%0A"+g(m,2),this.track+=_+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var a=4096;n.prototype.startNote=function(y,m,_){if(this.track+=x(this.silencelength),this.silencelength=0,_){this.track+="%e"+this.channel.toString(16);var p=Math.round(t(_)*a);this.track+=b(8192+p),this.track+=x(0),this.noteWarped[y]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+y.toString(16)+g(m,2)},n.prototype.endNote=function(y){this.track+=x(this.silencelength),this.silencelength=0,this.noteWarped[y]&&(this.track+="%e"+this.channel.toString(16),this.track+=b(8192),this.track+=x(0),this.noteWarped[y]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+y.toString(16)+"%00"},n.prototype.addRest=function(y){this.silencelength+=y,this.silencelength<0&&(this.silencelength=0)},n.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+g(this.trackcount,4)+"%01%e0"+this.trackstrings},n.prototype.embed=function(y,m){var _=this.getData(),p=o(document.createElement("a"),{href:_});if(p.innerHTML="download midi",y.insertBefore(p,y.firstChild),!m){var w=o(document.createElement("embed"),{src:_,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});y.insertBefore(w,y.firstChild)}};function c(y,m){for(var _="",p=0;p<y.length;p++)_+=g(y.charCodeAt(p),2);return"%00%FF"+m+g(_.length/3,2)+_}function u(y){if(!y||!y.accidentals)return"";for(var m="%00%FF%59%02",_=0,p=256,w=0;w<y.accidentals.length;w++)y.accidentals[w].acc==="sharp"?_++:y.accidentals[w].acc==="flat"&&p--;var T=g(p!==256?p:_,2),C=y.mode==="m"?"%01":"%00";return m+T+C}function f(y){var m="%00%FF%58%04"+g(y.num,2),_={1:0,2:1,4:2,8:3,16:4,32:5},p=_[y.den];if(!p)return"";m+=g(p,2);var w;switch(y.num+"/"+y.den){case"2/4":case"3/4":case"4/4":case"5/4":w=24;break;case"6/4":w=72;break;case"2/2":case"3/2":case"4/2":w=48;break;case"3/8":case"6/8":case"9/8":case"12/8":w=36;break}return w?(m+=g(w,2),m+"%08"):""}function d(y){for(var m="",_=0;_<y.length;_+=2)m+="%",m+=y.substr(_,2);return m}function g(y,m){var _=y.toString(16);for(_=_.split(".")[0];_.length<m;)_="0"+_;return _.length>m&&(_=_.substring(0,m)),d(_)}function b(y){y=Math.round(y);var m=y%128,_=y-m;return g(_*2+m,4)}function x(y){var m=0,_=[];for(y=Math.round(y);y!==0;)_.push(y&127),y=y>>7;for(var p=_.length-1;p>=0;p--){m=m<<8;var w=_[p];p!==0&&(w=w|128),m=m|w}var T=m.toString(16).length;return T+=T%2,g(m,T)}e=function(){return new n}}(),J2=e,J2}var ev,M7;function iL(){if(M7)return ev;M7=1;var t=Ow(),e;return function(){var o=1920;e=function(c,u){u===void 0&&(u={});var f=c.setUpAudio(u),d=t(),g=c.metaText?c.metaText.title:void 0;g&&g.length>128&&(g=g.substring(0,124)+"...");var b=c.getKeySignature(),x=c.getMeterFraction(),y=f.tempo,m=y/60;if(x.den==8){var _=c.millisecondsPerMeasure();y=6e4/(_/x.num)/2,m=y/60}d.setGlobalInfo(y,g,b,x);for(var p=0;p<f.tracks.length;p++){d.startTrack();for(var w={},T=0;T<f.tracks[p].length;T++){var C=f.tracks[p][T];switch(C.cmd){case"text":d.setText(C.type,C.text);break;case"program":var N=0;u.pan&&u.pan.length>p&&(N=u.pan[p]),C.instrument===128?(d.setChannel(9,N),d.setInstrument(0)):(d.setChannel(C.channel,N),d.setInstrument(C.instrument));break;case"note":var k=C.gap*m,D=C.start,F=D+C.duration-k;w[D]||(w[D]=[]),w[D].push({pitch:C.pitch,volume:C.volume,cents:C.cents}),w[F]||(w[F]=[]),w[F].push({pitch:C.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+C.cmd)}}n(d,w,o),d.endTrack()}return d.getData()};function n(a,c,u){for(var f=Object.keys(c),d=0;d<f.length;d++)f[d]=parseFloat(f[d]);f.sort(function(p,w){return p-w});for(var g=0,b=0;b<f.length;b++){var x=c[f[b]];if(f[b]>g){var y=(f[b]-g)*u;a.addRest(y),g=f[b]}for(var m=0;m<x.length;m++){var _=x[m];_.volume?a.startNote(_.pitch,_.volume,_.cents):a.endNote(_.pitch)}}}}(),ev=e,ev}var tv,k7;function aL(){if(k7)return tv;k7=1;var t=kh(),e=iL(),o=function(c,u){var f={};if(u)for(var d in u)u.hasOwnProperty(d)&&(f[d]=u[d]);f.generateInline=!1;function g(b,x,y){var m=e(x,f);switch(f.midiOutputType){case"encoded":return m;case"binary":var _=m.replace("data:audio/midi,","");_=_.replace(/MThd/g,"%4d%54%68%64"),_=_.replace(/MTrk/g,"%4d%54%72%6b");for(var p=new ArrayBuffer(_.length/3),w=new Uint8Array(p),T=0;T<_.length/3;T++){var C=T*3+1,N=parseInt(_.substring(C,C+2),16);w[T]=N}return w;case"link":default:return a(x,f,m,y)}}return typeof c=="string"?t.renderEngine(g,"*",c,f):g(null,c,0)};function n(c){var u={};return c&&u.toString.call(c)==="[object Function]"}var a=function(c,u,f,d){var g=["abcjs-download-midi","abcjs-midi-"+d];u.downloadClass&&g.push(u.downloadClass);var b='<div class="'+g.join(" ")+'">';u.preTextDownload&&(b+=u.preTextDownload);var x=c.metaText&&c.metaText.title?c.metaText.title:"Untitled",y;u.downloadLabel&&n(u.downloadLabel)?y=u.downloadLabel(c,d):u.downloadLabel?y=u.downloadLabel.replace(/%T/,x):y='Download MIDI for "'+x+'"',x=x.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var m=u.fileName?u.fileName:x+".midi";return b+='<a download="'+m+'" href="'+f+'">'+y+"</a>",u.postTextDownload&&(b+=u.postTextDownload),b+"</div>"};return tv=o,tv}var nv,N7;function zw(){if(N7)return nv;N7=1;try{if(typeof window.CustomEvent!="function"){var t=function(o,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(o,n.bubbles,n.cancelable,n.detail),a};t.prototype=window.Event.prototype,window.CustomEvent=t}}catch{}var e=function(o){typeof o=="string"?this.textarea=document.getElementById(o):this.textarea=o,this.initialText=this.textarea.value,this.isDragging=!1};return e.prototype.addSelectionListener=function(o){this.textarea.onmousemove=function(n){this.isDragging&&o.fireSelectionChanged()}},e.prototype.addChangeListener=function(o){this.changelistener=o,this.textarea.onkeyup=function(){o.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,o.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,o.fireChanged()},this.textarea.onchange=function(){o.fireChanged()}},e.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}},e.prototype.setSelection=function(o,n){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(o,n);else if(this.textarea.createTextRange){var a=this.textarea.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",o),a.select()}this.textarea.focus()},e.prototype.getString=function(){return this.textarea.value},e.prototype.setString=function(o){this.textarea.value=o,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()},e.prototype.getElem=function(){return this.textarea},nv=e,nv}var rv,R7;function sL(){if(R7)return rv;R7=1;var t=wa(),e=Dw(),o=Rh(),n=Mw(),a=zw();function c(f){var d={},g;if(f.abcjsParams)for(g in f.abcjsParams)f.abcjsParams.hasOwnProperty(g)&&(d[g]=f.abcjsParams[g]);if(f.midi_options)for(g in f.midi_options)f.midi_options.hasOwnProperty(g)&&(d[g]=f.midi_options[g]);if(f.parser_options)for(g in f.parser_options)f.parser_options.hasOwnProperty(g)&&(d[g]=f.parser_options[g]);if(f.render_options)for(g in f.render_options)f.render_options.hasOwnProperty(g)&&(d[g]=f.render_options[g]);return d.tablature&&f.warnings_id&&(d.tablature.warnings_id=f.warnings_id),d}var u=function(f,d){this.abcjsParams=c(d),d.indicate_changed&&(this.indicate_changed=!0),typeof f=="string"?this.editarea=new a(f):this.editarea=f,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),d.canvas_id?this.div=d.canvas_id:d.paper_id?this.div=d.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),d.selectionChangeCallback&&(this.selectionChangeCallback=d.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),d.synth&&o()&&(this.synth={el:d.synth.el,cursorControl:d.synth.cursorControl,options:d.synth.options}),d.generate_midi&&(this.generate_midi=d.generate_midi,this.abcjsParams.generateDownload&&(typeof d.midi_download_id=="string"?this.downloadMidi=document.getElementById(d.midi_download_id):d.midi_download_id&&(this.downloadMidi=d.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof d.midi_id=="string"?this.inlineMidi=document.getElementById(d.midi_id):d.midi_id&&(this.inlineMidi=d.midi_id))),d.warnings_id?typeof d.warnings_id=="string"?this.warningsdiv=document.getElementById(d.warnings_id):this.warningsdiv=d.warnings_id:d.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=d.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(g,b){var x=function(y,m){var _=y.className;return _.length>0&&(_===m||new RegExp("(^|\\s)"+m+"(\\s|$)").test(_))};return x(g,b)||(g.className+=(g.className?" ":"")+b),g},this.removeClassName=function(g,b){return g.className=t.strip(g.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")),g},this.setReadOnly=function(g){var b="abc_textarea_readonly",x=this.editarea.getElem();g?(x.setAttribute("readonly","yes"),this.addClassName(x,b)):(x.removeAttribute("readonly"),this.removeClassName(x,b))}};return u.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var f=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(f)}if(this.synth){var d=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new e,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],d,this.synth.options)}},u.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=n(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(f){console.error("ABCJS error: ",f),this.warnings||(this.warnings=[]),this.warnings.push(f.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}},u.prototype.paramChanged=function(f){if(f)for(var d in f)f.hasOwnProperty(d)&&(this.abcjsParams[d]=f[d]);this.currentAbc="",this.fireChanged()},u.prototype.synthParamChanged=function(f){if(this.synth){if(this.synth.options={},f)for(var d in f)f.hasOwnProperty(d)&&(this.synth.options[d]=f[d]);this.currentAbc="",this.fireChanged()}},u.prototype.parseABC=function(){var f=this.editarea.getString();return f===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=f,!0)},u.prototype.updateSelection=function(){var f=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(f.start,f.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(f.start,f.end)},u.prototype.fireSelectionChanged=function(){this.updateSelection()},u.prototype.setDirtyStyle=function(f){if(this.indicate_changed!==void 0){var d=function(y,m){var _=function(p,w){var T=p.className;return T.length>0&&(T===w||new RegExp("(^|\\s)"+w+"(\\s|$)").test(T))};return _(y,m)||(y.className+=(y.className?" ":"")+m),y},g=function(y,m){return y.className=t.strip(y.className.replace(new RegExp("(^|\\s+)"+m+"(\\s+|$)")," ")),y},b="abc_textarea_dirty",x=this.editarea.getElem();f?d(x,b):g(x,b)}},u.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var f=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){f.modelChanged()},300);var d=this.isDirty();this.wasDirty!==d&&(this.wasDirty=d,this.setDirtyStyle(d)),this.onchangeCallback&&this.onchangeCallback(this)}},u.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)},u.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()},u.prototype.highlight=function(f,d,g,b,x,y){this.editarea.setSelection(f.startChar,f.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(f.startChar,f.endChar),this.clientClickListener&&this.clientClickListener(f,d,g,b,x,y)},u.prototype.pause=function(f){this.bIsPaused=f,f||this.fireChanged()},u.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()},u.prototype.pauseMidi=function(f){this.midiPause=f,f||this.redrawMidi()},rv=u,rv}var iv,D7;function oL(){if(D7)return iv;D7=1;var t=Cz(),e=Ez(),o=kh(),n=lw(),a=Fz(),c={};c.signature="abcjs-basic v"+t,Object.keys(e).forEach(function(N){c[N]=e[N]}),Object.keys(o).forEach(function(N){c[N]=o[N]}),c.renderAbc=Mw(),c.tuneMetrics=VB(),c.TimingCallbacks=n3();var u=ss();c.setGlyph=u.setSymbol,c.strTranspose=a;var f=h3(),d=u3(),g=f3(),b=Nw(),x=Rw(),y=Nh(),m=No(),_=Rh(),p=rL(),w=Dw(),T=aL(),C=Ow();return c.synth={CreateSynth:f,instrumentIndexToName:d,pitchToNoteName:g,SynthController:w,SynthSequence:b,CreateSynthControl:x,registerAudioContext:y,activeAudioContext:m,supportsAudio:_,playEvent:p,getMidiFile:T,sequence:n,midiRenderer:C},c.Editor=sL(),c.EditArea=zw(),iv=c,iv}var av=oL(),Ef={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var lL=Ef.exports,O7;function cL(){return O7||(O7=1,function(t,e){((o,n)=>{t.exports=n()})(lL,function o(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,c=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,f={},d=0,g={};function b(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var O=D(R);O.chunkSize=parseInt(O.chunkSize),R.step||R.chunk||(O.chunkSize=null),this._handle=new p(O),(this._handle.streamer=this)._config=O}).call(this,E),this.parseChunk=function(R,O){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let Y=this._config.newline;Y||(j=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(R,j)),R=[...R.split(Y).slice(P)].join(Y)}this.isFirstChunk&&G(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(R))!==void 0&&(R=j),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+R,j=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=j.meta.cursor,P=(this._finished||(this._partialLine=P.substring(R-this._baseIndex),this._baseIndex=R),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:j,workerId:g.WORKER_ID,finished:P});else if(G(this._config.chunk)&&!O){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!P||!G(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(R){G(this._config.error)?this._config.error(R):u&&this._config.error&&n.postMessage({workerId:g.WORKER_ID,error:R,finished:!1})}}function x(E){var R;(E=E||{}).chunkSize||(E.chunkSize=g.RemoteChunkSize),b.call(this,E),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),c||(R.onload=F(this._chunkLoaded,this),R.onerror=F(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var O,P=this._config.downloadRequestHeaders;for(O in P)R.setRequestHeader(O,P[O])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+j));try{R.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}c&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(O){O=R.statusText||O,this._sendError(new Error(O))}}function y(E){(E=E||{}).chunkSize||(E.chunkSize=g.LocalChunkSize),b.call(this,E);var R,O,P=typeof FileReader<"u";this.stream=function(j){this._input=j,O=j.slice||j.webkitSlice||j.mozSlice,P?((R=new FileReader).onload=F(this._chunkLoaded,this),R.onerror=F(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),j=O.call(j,this._start,Y)),R.readAsText(j,this._config.encoding));P||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(R.error)}}function m(E){var R;b.call(this,E=E||{}),this.stream=function(O){return R=O,this._nextChunk()},this._nextChunk=function(){var O,P;if(!this._finished)return O=this._config.chunkSize,R=O?(P=R.substring(0,O),R.substring(O)):(P=R,""),this._finished=!R,this.parseChunk(P)}}function _(E){b.call(this,E=E||{});var R=[],O=!0,P=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):O=!0},this._streamData=F(function(j){try{R.push(typeof j=="string"?j:j.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=F(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=F(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(E){var R,O,P,j,Y=Math.pow(2,53),H=-Y,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,I=0,z=0,A=!1,B=!1,V=[],Q={data:[],errors:[],meta:{}};function W(ee){return E.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function K(){if(Q&&P&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),P=!1),E.skipEmptyLines&&(Q.data=Q.data.filter(function(se){return!W(se)})),re()){let se=function(fe,ae){G(E.transformHeader)&&(fe=E.transformHeader(fe,ae)),V.push(fe)};var le=se;if(Q)if(Array.isArray(Q.data[0])){for(var ee=0;re()&&ee<Q.data.length;ee++)Q.data[ee].forEach(se);Q.data.splice(0,1)}else Q.data.forEach(se)}function pe(se,fe){for(var ae=E.header?{}:[],Se=0;Se<se.length;Se++){var we=Se,te=se[Se],te=((ke,Be)=>(je=>(E.dynamicTypingFunction&&E.dynamicTyping[je]===void 0&&(E.dynamicTyping[je]=E.dynamicTypingFunction(je)),(E.dynamicTyping[je]||E.dynamicTyping)===!0))(ke)?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&((je=>{if(q.test(je)&&(je=parseFloat(je),H<je&&je<Y))return 1})(Be)?parseFloat(Be):U.test(Be)?new Date(Be):Be===""?null:Be):Be)(we=E.header?Se>=V.length?"__parsed_extra":V[Se]:we,te=E.transform?E.transform(te,we):te);we==="__parsed_extra"?(ae[we]=ae[we]||[],ae[we].push(te)):ae[we]=te}return E.header&&(Se>V.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Se,z+fe):Se<V.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Se,z+fe)),ae}var Ce;Q&&(E.header||E.dynamicTyping||E.transform)&&(Ce=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(pe),Ce=Q.data.length):Q.data=pe(Q.data,0),E.header&&Q.meta&&(Q.meta.fields=V),z+=Ce)}function re(){return E.header&&V.length===0}function he(ee,pe,Ce,le){ee={type:ee,code:pe,message:Ce},le!==void 0&&(ee.row=le),Q.errors.push(ee)}G(E.step)&&(j=E.step,E.step=function(ee){Q=ee,re()?K():(K(),Q.data.length!==0&&(I+=ee.data.length,E.preview&&I>E.preview?O.abort():(Q.data=Q.data[0],j(Q,X))))}),this.parse=function(ee,pe,Ce){var le=E.quoteChar||'"',le=(E.newline||(E.newline=this.guessLineEndings(ee,le)),P=!1,E.delimiter?G(E.delimiter)&&(E.delimiter=E.delimiter(ee),Q.meta.delimiter=E.delimiter):((le=((se,fe,ae,Se,we)=>{var te,ke,Be,je;we=we||[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var Pe=0;Pe<we.length;Pe++){for(var ce,ye=we[Pe],ne=0,de=0,xe=0,Te=(Be=void 0,new T({comments:Se,delimiter:ye,newline:fe,preview:10}).parse(se)),Le=0;Le<Te.data.length;Le++)ae&&W(Te.data[Le])?xe++:(ce=Te.data[Le].length,de+=ce,Be===void 0?Be=ce:0<ce&&(ne+=Math.abs(ce-Be),Be=ce));0<Te.data.length&&(de/=Te.data.length-xe),(ke===void 0||ne<=ke)&&(je===void 0||je<de)&&1.99<de&&(ke=ne,te=ye,je=de)}return{successful:!!(E.delimiter=te),bestDelimiter:te}})(ee,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=le.bestDelimiter:(P=!0,E.delimiter=g.DefaultDelimiter),Q.meta.delimiter=E.delimiter),D(E));return E.preview&&E.header&&le.preview++,R=ee,O=new T(le),Q=O.parse(R,pe,Ce),K(),A?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return A},this.pause=function(){A=!0,O.abort(),R=G(E.chunk)?"":R.substring(O.getCharIndex())},this.resume=function(){X.streamer._halted?(A=!1,X.streamer.parseChunk(R,!0)):setTimeout(X.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,O.abort(),Q.meta.aborted=!0,G(E.complete)&&E.complete(Q),R=""},this.guessLineEndings=function(se,le){se=se.substring(0,1048576);var le=new RegExp(w(le)+"([^]*?)"+w(le),"gm"),Ce=(se=se.replace(le,"")).split("\r"),le=se.split(`
`),se=1<le.length&&le[0].length<Ce[0].length;if(Ce.length===1||se)return`
`;for(var fe=0,ae=0;ae<Ce.length;ae++)Ce[ae][0]===`
`&&fe++;return fe>=Ce.length/2?`\r
`:"\r"}}function w(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(E){var R=(E=E||{}).delimiter,O=E.newline,P=E.comments,j=E.step,Y=E.preview,H=E.fastMode,q=null,U=!1,X=E.quoteChar==null?'"':E.quoteChar,I=X;if(E.escapeChar!==void 0&&(I=E.escapeChar),(typeof R!="string"||-1<g.BAD_DELIMITERS.indexOf(R))&&(R=","),P===R)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<g.BAD_DELIMITERS.indexOf(P))&&(P=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var z=0,A=!1;this.parse=function(B,V,Q){if(typeof B!="string")throw new Error("Input must be a string");var W=B.length,K=R.length,re=O.length,he=P.length,ee=G(j),pe=[],Ce=[],le=[],se=z=0;if(!B)return ne();if(H||H!==!1&&B.indexOf(X)===-1){for(var fe=B.split(O),ae=0;ae<fe.length;ae++){if(le=fe[ae],z+=le.length,ae!==fe.length-1)z+=O.length;else if(Q)return ne();if(!P||le.substring(0,he)!==P){if(ee){if(pe=[],je(le.split(R)),de(),A)return ne()}else je(le.split(R));if(Y&&Y<=ae)return pe=pe.slice(0,Y),ne(!0)}}return ne()}for(var Se=B.indexOf(R,z),we=B.indexOf(O,z),te=new RegExp(w(I)+w(X),"g"),ke=B.indexOf(X,z);;)if(B[z]===X)for(ke=z,z++;;){if((ke=B.indexOf(X,ke+1))===-1)return Q||Ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pe.length,index:z}),ce();if(ke===W-1)return ce(B.substring(z,ke).replace(te,X));if(X===I&&B[ke+1]===I)ke++;else if(X===I||ke===0||B[ke-1]!==I){Se!==-1&&Se<ke+1&&(Se=B.indexOf(R,ke+1));var Be=Pe((we=we!==-1&&we<ke+1?B.indexOf(O,ke+1):we)===-1?Se:Math.min(Se,we));if(B.substr(ke+1+Be,K)===R){le.push(B.substring(z,ke).replace(te,X)),B[z=ke+1+Be+K]!==X&&(ke=B.indexOf(X,z)),Se=B.indexOf(R,z),we=B.indexOf(O,z);break}if(Be=Pe(we),B.substring(ke+1+Be,ke+1+Be+re)===O){if(le.push(B.substring(z,ke).replace(te,X)),ye(ke+1+Be+re),Se=B.indexOf(R,z),ke=B.indexOf(X,z),ee&&(de(),A))return ne();if(Y&&pe.length>=Y)return ne(!0);break}Ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pe.length,index:z}),ke++}}else if(P&&le.length===0&&B.substring(z,z+he)===P){if(we===-1)return ne();z=we+re,we=B.indexOf(O,z),Se=B.indexOf(R,z)}else if(Se!==-1&&(Se<we||we===-1))le.push(B.substring(z,Se)),z=Se+K,Se=B.indexOf(R,z);else{if(we===-1)break;if(le.push(B.substring(z,we)),ye(we+re),ee&&(de(),A))return ne();if(Y&&pe.length>=Y)return ne(!0)}return ce();function je(xe){pe.push(xe),se=z}function Pe(xe){var Te=0;return Te=xe!==-1&&(xe=B.substring(ke+1,xe))&&xe.trim()===""?xe.length:Te}function ce(xe){return Q||(xe===void 0&&(xe=B.substring(z)),le.push(xe),z=W,je(le),ee&&de()),ne()}function ye(xe){z=xe,je(le),le=[],we=B.indexOf(O,z)}function ne(xe){if(E.header&&!V&&pe.length&&!U){var Te=pe[0],Le=Object.create(null),ze=new Set(Te);let De=!1;for(let He=0;He<Te.length;He++){let Xe=Te[He];if(Le[Xe=G(E.transformHeader)?E.transformHeader(Xe,He):Xe]){let Ae,qe=Le[Xe];for(;Ae=Xe+"_"+qe,qe++,ze.has(Ae););ze.add(Ae),Te[He]=Ae,Le[Xe]++,De=!0,(q=q===null?{}:q)[Ae]=Xe}else Le[Xe]=1,Te[He]=Xe;ze.add(Xe)}De&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:pe,errors:Ce,meta:{delimiter:R,linebreak:O,aborted:A,truncated:!!xe,cursor:se+(V||0),renamedHeaders:q}}}function de(){j(ne()),pe=[],Ce=[]}},this.abort=function(){A=!0},this.getCharIndex=function(){return z}}function C(E){var R=E.data,O=f[R.workerId],P=!1;if(R.error)O.userError(R.error,R.file);else if(R.results&&R.results.data){var j={abort:function(){P=!0,N(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(G(O.userStep)){for(var Y=0;Y<R.results.data.length&&(O.userStep({data:R.results.data[Y],errors:R.results.errors,meta:R.results.meta},j),!P);Y++);delete R.results}else G(O.userChunk)&&(O.userChunk(R.results,j,R.file),delete R.results)}R.finished&&!P&&N(R.workerId,R.results)}function N(E,R){var O=f[E];G(O.userComplete)&&O.userComplete(R),O.terminate(),delete f[E]}function k(){throw new Error("Not implemented.")}function D(E){if(typeof E!="object"||E===null)return E;var R,O=Array.isArray(E)?[]:{};for(R in E)O[R]=D(E[R]);return O}function F(E,R){return function(){E.apply(R,arguments)}}function G(E){return typeof E=="function"}return g.parse=function(E,R){var O=(R=R||{}).dynamicTyping||!1;if(G(O)&&(R.dynamicTypingFunction=O,O={}),R.dynamicTyping=O,R.transform=!!G(R.transform)&&R.transform,!R.worker||!g.WORKERS_SUPPORTED)return O=null,g.NODE_STREAM_INPUT,typeof E=="string"?(E=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(E),O=new(R.download?x:m)(R)):E.readable===!0&&G(E.read)&&G(E.on)?O=new _(R):(n.File&&E instanceof File||E instanceof Object)&&(O=new y(R)),O.stream(E);(O=(()=>{var P;return!!g.WORKERS_SUPPORTED&&(P=(()=>{var j=n.URL||n.webkitURL||null,Y=o.toString();return g.BLOB_URL||(g.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(P=new n.Worker(P)).onmessage=C,P.id=d++,f[P.id]=P)})()).userStep=R.step,O.userChunk=R.chunk,O.userComplete=R.complete,O.userError=R.error,R.step=G(R.step),R.chunk=G(R.chunk),R.complete=G(R.complete),R.error=G(R.error),delete R.worker,O.postMessage({input:E,config:R,workerId:O.id})},g.unparse=function(E,R){var O=!1,P=!0,j=",",Y=`\r
`,H='"',q=H+H,U=!1,X=null,I=!1,z=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||g.BAD_DELIMITERS.filter(function(V){return R.delimiter.indexOf(V)!==-1}).length||(j=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(O=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(U=R.skipEmptyLines),typeof R.newline=="string"&&(Y=R.newline),typeof R.quoteChar=="string"&&(H=R.quoteChar),typeof R.header=="boolean"&&(P=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");X=R.columns}R.escapeChar!==void 0&&(q=R.escapeChar+H),R.escapeFormulae instanceof RegExp?I=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(H),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return A(null,E,U);if(typeof E[0]=="object")return A(X||Object.keys(E[0]),E,U)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||X),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),A(E.fields||[],E.data||[],U);throw new Error("Unable to serialize unrecognized input");function A(V,Q,W){var K="",re=(typeof V=="string"&&(V=JSON.parse(V)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(V)&&0<V.length),he=!Array.isArray(Q[0]);if(re&&P){for(var ee=0;ee<V.length;ee++)0<ee&&(K+=j),K+=B(V[ee],ee);0<Q.length&&(K+=Y)}for(var pe=0;pe<Q.length;pe++){var Ce=(re?V:Q[pe]).length,le=!1,se=re?Object.keys(Q[pe]).length===0:Q[pe].length===0;if(W&&!re&&(le=W==="greedy"?Q[pe].join("").trim()==="":Q[pe].length===1&&Q[pe][0].length===0),W==="greedy"&&re){for(var fe=[],ae=0;ae<Ce;ae++){var Se=he?V[ae]:ae;fe.push(Q[pe][Se])}le=fe.join("").trim()===""}if(!le){for(var we=0;we<Ce;we++){0<we&&!se&&(K+=j);var te=re&&he?V[we]:we;K+=B(Q[pe][te],we)}pe<Q.length-1&&(!W||0<Ce&&!se)&&(K+=Y)}}return K}function B(V,Q){var W,K;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(K=!1,I&&typeof V=="string"&&I.test(V)&&(V="'"+V,K=!0),W=V.toString().replace(z,q),(K=K||O===!0||typeof O=="function"&&O(V,Q)||Array.isArray(O)&&O[Q]||((re,he)=>{for(var ee=0;ee<he.length;ee++)if(-1<re.indexOf(he[ee]))return!0;return!1})(W,g.BAD_DELIMITERS)||-1<W.indexOf(j)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?H+W+H:W)}},g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!c&&!!n.Worker,g.NODE_STREAM_INPUT=1,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=T,g.ParserHandle=p,g.NetworkStreamer=x,g.FileStreamer=y,g.StringStreamer=m,g.ReadableStreamStreamer=_,n.jQuery&&((a=n.jQuery).fn.parse=function(E){var R=E.config||{},O=[];return this.each(function(Y){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)O.push({file:this.files[H],inputElem:this,instanceConfig:a.extend({},R)})}),P(),this;function P(){if(O.length===0)G(E.complete)&&E.complete();else{var Y,H,q,U,X=O[0];if(G(E.before)){var I=E.before(X.file,X.inputElem);if(typeof I=="object"){if(I.action==="abort")return Y="AbortError",H=X.file,q=X.inputElem,U=I.reason,void(G(E.error)&&E.error({name:Y},H,q,U));if(I.action==="skip")return void j();typeof I.config=="object"&&(X.instanceConfig=a.extend(X.instanceConfig,I.config))}else if(I==="skip")return void j()}var z=X.instanceConfig.complete;X.instanceConfig.complete=function(A){G(z)&&z(A,X.file,X.inputElem),j()},g.parse(X.file,X.instanceConfig)}}function j(){O.splice(0,1),P()}}),u&&(n.onmessage=function(E){E=E.data,g.WORKER_ID===void 0&&E&&(g.WORKER_ID=E.workerId),typeof E.input=="string"?n.postMessage({workerId:g.WORKER_ID,results:g.parse(E.input,E.config),finished:!0}):(n.File&&E.input instanceof File||E.input instanceof Object)&&(E=g.parse(E.input,E.config))&&n.postMessage({workerId:g.WORKER_ID,results:E,finished:!0})}),(x.prototype=Object.create(b.prototype)).constructor=x,(y.prototype=Object.create(b.prototype)).constructor=y,(m.prototype=Object.create(m.prototype)).constructor=m,(_.prototype=Object.create(b.prototype)).constructor=_,g})}(Ef)),Ef.exports}var uL=cL();const fL=uE(uL),hL=({abc:t,name:e,onClose:o})=>{const[n,a]=oe.useState(null),[c,u]=oe.useState(null),[f,d]=oe.useState(!1),g=oe.useRef(),b=oe.useRef(null);oe.useEffect(()=>{t&&x(t,e)},[t,e]);const x=async(T,C)=>{const N=`X:1
T:${C}
M:4/4
K:C
%%MIDI program 49
${T}`,k=av.parseOnly(N)[0];u(k);const D=y(k);m(D),n&&n.pause();const F=new av.synth.SynthController;a(F);const G=new av.synth.CreateSynth;await G.init({visualObj:k}),await F.setTune(k,!1),await G.prime(),_(k,F)},y=T=>{const C=[];return T?.lines?.forEach(N=>{N.staff?.forEach(k=>{k.voices?.forEach(D=>{D.forEach(F=>{F.el_type==="note"&&F.pitches&&F.pitches.forEach(G=>{C.push(60+G.pitch)})})})})}),C},m=T=>{const C=rt(g.current);C.selectAll("*").remove();const N=+C.attr("width"),k=+C.attr("height"),D=N/2,F=k/2,G=C.append("g").attr("transform",`translate(${D},${F})`),E=2*Math.PI/T.length,R=qn().domain([-24,24]).range([40,250]),O=qn().domain(Ql(T)).range(["#82813E","#5193AE"]),P=[-24,-12,0,12,24];G.selectAll("circle.axis").data(P).enter().append("circle").attr("r",j=>R(j)).attr("fill","none").attr("stroke","#ccc").attr("stroke-dasharray","2,2"),G.selectAll("text.pitch-label").data(P).enter().append("text").attr("y",j=>-R(j)).attr("dy","-0.35em").attr("text-anchor","middle").text(j=>`MIDI ${60+j}`).attr("font-size","10px").attr("fill","#666"),b.current=G.selectAll("circle.note").data(T).enter().append("circle").attr("cx",(j,Y)=>Math.cos(Y*E)*R(j-60)).attr("cy",(j,Y)=>Math.sin(Y*E)*R(j-60)).attr("r",4).attr("fill",j=>O(j)).attr("opacity",.8)},_=(T,C)=>{C.setTune(T,!1,{noteListener:N=>{const k=N.noteIndex;typeof k=="number"&&b.current.attr("r",(D,F)=>F===k?10:4).attr("opacity",(D,F)=>F===k?1:.6)}})},p=()=>{n&&f&&(n.pause(),d(!1)),o()},w=()=>{f?(n?.pause(),d(!1)):(n?.play(),d(!0))};return $.jsxs("div",{className:"abc-popup",children:[$.jsx("button",{className:"close-abc",onClick:p,children:"×"}),$.jsx("h3",{children:e}),$.jsx("svg",{ref:g,width:"600",height:"600"}),$.jsx("div",{className:"controls-abc",children:$.jsx("button",{className:"play-pause-btn",onClick:w,children:f?$.jsx("svg",{className:"play-pause-svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"currentColor",children:$.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):$.jsx("svg",{className:"play-pause-svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"currentColor",children:$.jsx("path",{d:"M8 5v14l11-7z"})})})})]})},dL=({idA:t,idB:e,nameA:o,nameB:n,onClose:a})=>{const c=oe.useRef(),[u,f]=oe.useState([]),d={top:50,right:100,bottom:50,left:70},g=1500-d.left-d.right,b=600-d.top-d.bottom;return oe.useEffect(()=>{Promise.all([e0("sets.csv"),Ah("pitch_compressed.json")]).then(([x,y])=>{f(y)})},[]),oe.useEffect(()=>{if(!u.length||!o||!n)return;const x=rt(c.current).attr("width",g+d.left+d.right).attr("height",b+d.top+d.bottom);x.selectAll("*").remove();const y=x.append("g").attr("transform",`translate(${d.left},${d.top})`),m=u.filter(D=>D.tune_id===t||D.tune_id===e),_=[];m.forEach((D,F)=>{D.midiValues.forEach((G,E)=>{_.push({group:D.name,variation_id:`${D.name}_${F}`,Pitch_MIDI:G,NoteIndex:E})})});const p=qn().domain([0,oi(_,D=>D.NoteIndex)]).range([0,g]),w=Ql(_,D=>D.Pitch_MIDI),T=qn().domain([w[0]-2,w[1]+2]).range([b,0]);y.append("g").attr("transform",`translate(0,${b})`).call(Av(p)),y.append("g").call(xh(T));const C=Mo().domain([o,n]).range(["#1f77b4","#d62728"]),N=Qx().x(D=>p(D.NoteIndex)).y(D=>T(D.Pitch_MIDI)),k=JA(_,D=>D.variation_id);for(const[D,F]of k)y.append("path").datum(F).attr("fill","none").attr("stroke",C(F[0].group)).attr("stroke-width",2).attr("d",N).attr("opacity",.7)},[u,o,n]),$.jsxs("div",{className:"midi-chart-container",children:[$.jsxs("div",{style:{marginBottom:"10px"},children:[$.jsx("strong",{children:o})," vs ",$.jsx("strong",{children:n}),$.jsx("button",{style:{float:"right"},onClick:a,children:"Fechar"})]}),$.jsx("svg",{ref:c})]})},pL=()=>{const t=oe.useRef(),[e,o]=oe.useState([]),[n,a]=oe.useState([]),[c,u]=oe.useState(null),[f,d]=oe.useState(null),[g,b]=oe.useState({mode:!0,type:!0,meter:!0}),[x,y]=oe.useState(!1),[m,_]=oe.useState(!0),[p,w]=oe.useState("Carregando dados...");oe.useEffect(()=>{_(!0),w("Carregando músicas..."),fL.parse("/sets.csv",{download:!0,header:!0,complete:k=>{w("Processando dados musicais..."),setTimeout(()=>{const D=k.data.filter(F=>F.name&&F.abc);a(D),o(z4(D).slice(0,6)),w("Finalizando..."),setTimeout(()=>{_(!1)},500)},300)},error:k=>{console.error("Erro ao carregar dados:",k),w("Erro ao carregar dados"),setTimeout(()=>{_(!1)},2e3)}})},[]),oe.useEffect(()=>{if(e.length<6)return;const k=W=>W.replace(/~+/g,"").replace(/\(\d+\.[^)]*\)/g,"").replace(/[|:]/g,"").replace(/\d+/g,"").replace(/[.,]/g,"").replace(/[\s\n]/g,"").match(/[A-Ga-g]/g)||[],D=Array.from({length:6},(W,K)=>Array.from({length:6},(re,he)=>{if(K===he)return{value:1,shared:[],notesA:[],notesB:[],sharedNotes:[],attributeMatches:{mode:!0,type:!0,meter:!0}};const ee=k(e[K].abc),pe=k(e[he].abc),Ce=ee.filter(Pe=>pe.includes(Pe)),le=[...new Set(Ce)],se=[...new Set([...ee,...pe])],fe=le.length/se.length,ae=e[K],Se=e[he],we={mode:ae.mode===Se.mode,type:ae.type===Se.type,meter:ae.meter===Se.meter},te=Object.keys(g).filter(Pe=>g[Pe]),ke=te.filter(Pe=>we[Pe]).length,Be=te.length>0?ke/te.length:0;return{value:fe*.7+Be*.3,shared:le,notesA:ee,notesB:pe,sharedNotes:Ce,totalNotesA:ee.length,totalNotesB:pe.length,sharedCount:Ce.length,uniqueNotesA:[...new Set(ee)].length,uniqueNotesB:[...new Set(pe)].length,noteSimilarity:fe,attributeSimilarity:Be,attributeMatches:we,selectedAttributes:te}})),F=D.map(W=>W.map(K=>K.value));for(let W=0;W<F.length;W++)F[W][W]=0;const G=500,E=500,R=G/2-50,O=R+15;Mo(Jm);const P=nD().padAngle(.05).sortSubgroups(R_),j=uz().innerRadius(R).outerRadius(O),Y=dD().radius(R),H=P(F),q=H.filter(W=>W.source.index!==W.target.index),U=rt("body").selectAll(".chord-tooltip").data([0]).join("div").attr("class","chord-tooltip").style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","10px").style("border-radius","5px").style("pointer-events","none").style("opacity",0).style("font-size","12px").style("max-width","350px").style("z-index","1000"),X=rt(t.current);X.selectAll("*").remove();const I=800,z=800,A=(I-G)/2+G/2,B=(z-E)/2+E/2;X.attr("viewBox",[0,0,I,z]).append("g").attr("transform",`translate(${A},${B})`);const V=X.select("g"),Q=V.append("g").selectAll("g").data(H.groups).join("g");return Q.append("path").attr("fill","#82813E").attr("stroke","#82813E").attr("stroke-width",1).attr("d",j).on("click",(W,K)=>{u(e[K.index])}),Q.append("text").each(W=>{W.angle=(W.startAngle+W.endAngle)/2}).attr("dy",".35em").attr("transform",W=>`rotate(${W.angle*180/Math.PI-90}) translate(${O+8})${W.angle>Math.PI?" rotate(180)":""}`).attr("text-anchor",W=>W.angle>Math.PI?"end":"start").attr("font-size","11px").text(W=>e[W.index].name),V.append("g").attr("fill-opacity",.67).selectAll("path").data(q).join("path").attr("d",Y).attr("fill","#82813E").attr("stroke","#82813E").style("cursor","pointer").attr("opacity",1).on("mouseover",function(W,K){rt(this).attr("opacity",1),rt(this.parentNode).selectAll("path").filter(function(we){return we!==K}).attr("opacity",.3);const re=K.source.index,he=K.target.index,ee=D[re][he],pe=e[re].name,Ce=e[he].name,le=e[re],se=e[he],fe=Object.keys(g).filter(we=>g[we]).map(we=>{const te=ee.attributeMatches[we]?"✓":"✗",ke=le[we]||"N/A",Be=se[we]||"N/A";return`<strong>${we.charAt(0).toUpperCase()+we.slice(1)}:</strong> ${ke} ${te} ${Be}`}).join("<br/>"),ae=ee.selectedAttributes.length>0?ee.selectedAttributes.join(", "):"Nenhum",Se=`
<strong>${pe} ↔ ${Ce}</strong><br/>
<strong>Similaridade Total:</strong> ${(ee.value*100).toFixed(1)}%<br/>
<strong>Similaridade de Notas:</strong> ${(ee.noteSimilarity*100).toFixed(1)}%<br/>
<strong>Similaridade de Atributos:</strong> ${(ee.attributeSimilarity*100).toFixed(1)}%<br/>
<hr style="margin: 5px 0; border: 0.5px solid #ccc;">
<strong>Atributos Selecionados:</strong> ${ae}<br/>
${fe?fe+"<br/>":""}
<hr style="margin: 5px 0; border: 0.5px solid #ccc;">
<strong>Notas totais:</strong> ${ee.totalNotesA} ↔ ${ee.totalNotesB}<br/>
<strong>Notas únicas:</strong> ${ee.uniqueNotesA} ↔ ${ee.uniqueNotesB}<br/>
<strong>Notas únicas partilhadas:</strong><br/>
${ee.shared.join(", ")||"Nenhuma"}<br/>
 <small><em>Similaridade: 70% notas + 30% atributos</em></small>
`;U.html(Se).style("left",W.pageX+10+"px").style("top",W.pageY-10+"px").transition().duration(200).style("opacity",1)}).on("mousemove",W=>{U.style("left",W.pageX+10+"px").style("top",W.pageY-10+"px")}).on("mouseout",function(){rt(this.parentNode).selectAll("path").attr("opacity",1),U.transition().duration(200).style("opacity",0)}),()=>{rt("body").selectAll(".chord-tooltip").remove()}},[e,g]);const T=k=>{b(D=>({...D,[k]:!D[k]}))},C=()=>{b({mode:!0,type:!0,meter:!0})},N=()=>{_(!0),w("Selecionando novas músicas..."),setTimeout(()=>{o(z4(n).slice(0,6)),w("Calculando similaridades..."),setTimeout(()=>{_(!1)},800)},300)};return $.jsxs("div",{className:"chord-diagram-container",children:[m&&$.jsx("div",{className:"loading-overlay",children:$.jsxs("div",{className:"loading-content",children:[$.jsx("div",{className:"loading-spinner"}),$.jsx("div",{className:"loading-text",children:p})]})}),$.jsxs("div",{className:"controls-container",children:[$.jsxs("button",{onClick:N,disabled:m,className:`shuffle-button ${m?"disabled":""}`,children:["🔀 ",m?"Carregando...":"Trocar Músicas"]}),$.jsxs("div",{className:"filters-wrapper",children:[$.jsxs("button",{onClick:()=>y(!x),disabled:m,className:`filters-button ${m?"disabled":""}`,children:["Atributos de similaridade ",x?"▲":"▼"]}),x&&!m&&$.jsxs("div",{className:"filters-dropdown",children:[Object.keys(g).map(k=>$.jsxs("label",{className:"attribute-label",children:[$.jsx("input",{type:"checkbox",checked:g[k],onChange:()=>T(k),className:"attribute-checkbox"}),$.jsx("span",{className:"attribute-text",children:k})]},k)),$.jsx("button",{onClick:C,className:"clear-filters-button",children:"Limpar filtros"})]})]})]}),$.jsx("svg",{ref:t,width:800,height:800}),c&&$.jsx("div",{className:"popup-overlay",children:$.jsx("div",{className:"popup-content",children:$.jsx(hL,{abc:c.abc,name:c.name,onClose:()=>u(null)})})}),f&&$.jsx("div",{className:"popup-overlay",children:$.jsx("div",{className:"popup-content",children:$.jsx(dL,{pitchData:e,nameA:f.nameA,nameB:f.nameB,onClose:()=>d(null)})})})]})};function gL(){const[t,e]=oe.useState(1),[o,n]=oe.useState(!1),a=xi(),c=Ao();oe.useEffect(()=>{const g=new URLSearchParams(a.search),b=parseInt(g.get("vis"),10);!isNaN(b)&&b>=1&&b<=4?e(b):e(1)},[a.search]);const u=()=>{if(t<4){const g=t+1;e(g),c(`/irish?vis=${g}`)}},f=()=>{if(t>1){const g=t-1;e(g),c(`/irish?vis=${g}`)}},d=()=>o?$.jsx("div",{className:"legend-overlay",onClick:()=>n(!1),children:$.jsxs("div",{className:"legend-modal",onClick:g=>g.stopPropagation(),children:[t===1&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda"}),$.jsxs("ul",{style:{listStyle:"none",padding:0},children:[$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#5193AE",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Círculo azul"}),": Nome da música (tamanho proporcional ao número de ocorrências)"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:18,height:18,background:"#82813E",borderRadius:"50%",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Círculo verde"}),": Modo musical"]}),$.jsxs("li",{children:[$.jsx("span",{style:{display:"inline-block",width:30,height:4,background:"#6B3F21",marginRight:8,verticalAlign:"middle"}}),$.jsx("b",{children:"Linha castanha"}),": Ligação entre música e modo (espessura = nº de ocorrências)"]})]}),$.jsxs("p",{style:{fontSize:"12px",color:"#555"},children:["Clique num círculo azul para destacar as ligações.",$.jsx("br",{}),"Passe o rato sobre um círculo azul para ver detalhes."]})]}),t===2&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda do gráfico"}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Sobre o Gráfico:"}),$.jsxs("p",{children:["Este é um ",$.jsx("strong",{children:"Dot Plot"})," que mostra a relação entre músicas folk e seus tipos musicais."]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Como Ler:"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Eixo Vertical (Y):"})," Nomes das músicas"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Eixo Horizontal (X):"})," Tipos de música"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Círculos:"})," Indicam que uma música pertence a um tipo específico"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Tamanho dos Círculos:"})," Círculos maiores representam mais variações da música nesse tipo"]})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Tamanhos:"}),$.jsxs("div",{className:"size-legend",children:[$.jsxs("div",{className:"size-item",children:[$.jsx("div",{className:"size-circle small",style:{width:"6px",height:"6px",backgroundColor:"#4a90e2",borderRadius:"50%",border:"1px solid #2c5aa0"}}),$.jsx("span",{children:"Poucas variações"})]}),$.jsxs("div",{className:"size-item",children:[$.jsx("div",{className:"size-circle medium",style:{width:"16px",height:"16px",backgroundColor:"#4a90e2",borderRadius:"50%",border:"1px solid #2c5aa0"}}),$.jsx("span",{children:"Variações médias"})]}),$.jsxs("div",{className:"size-item",children:[$.jsx("div",{className:"size-circle large",style:{width:"24px",height:"24px",backgroundColor:"#4a90e2",borderRadius:"50%",border:"1px solid #2c5aa0"}}),$.jsx("span",{children:"Muitas variações"})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Controles:"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Filtro:"})," Mostra apenas músicas com múltiplos tipos"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Navegação (↑/↓):"})," Navega entre páginas do gráfico"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Hover:"})," Passe o mouse sobre os círculos para ver detalhes"]})]})]})]})]}),t===3&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda - Heat of the Melody"}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Legenda de Cores"}),$.jsxs("div",{className:"color-legend",children:[$.jsx("div",{className:"color-bar",children:$.jsx("div",{className:"color-gradient"})}),$.jsxs("div",{className:"color-labels",children:[$.jsx("span",{children:"Baixa frequência"}),$.jsx("span",{children:"Alta frequência"})]})]}),$.jsx("p",{children:"As cores representam quantas vezes cada combinação de tempo (X) e pitch (Y) aparece nas variações da música."})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"O que é o Heatmap?"}),$.jsx("p",{children:"Este heatmap mostra a densidade de pitches (notas musicais) ao longo do tempo para todas as variações de uma música. Cada célula representa uma combinação específica de momento temporal (eixo X) e altura do som (eixo Y)."})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Como Usar"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Zoom:"})," Arraste uma área no gráfico principal para ampliá-la"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Navegação:"})," Use o minimap para ajustar a área visualizada"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Filtros:"})," Filtre músicas por compasso, modo ou tipo musical"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Alta frequência:"})," Destaque os padrões mais comuns da música"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Tooltip:"})," Passe o rato sobre as células para ver detalhes"]})]})]})]}),t===4&&$.jsxs("div",{className:"legend-content",children:[$.jsx("button",{className:"legend-close",onClick:()=>n(!1),children:"×"}),$.jsx("h3",{children:"Legenda - Strings of Connection"}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"O que é um Chord Diagram?"}),$.jsx("p",{children:"O Chord Diagram mostra as relações de similaridade entre 6 músicas folk irlandesas. Cada música é representada por um arco, e as ligações mostram o quão similares são entre si."})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Elementos Visuais"}),$.jsxs("div",{className:"legend-item",children:[$.jsx("div",{className:"legend-symbol arc-symbol"}),$.jsxs("div",{className:"legend-text",children:[$.jsx("strong",{children:"Arcos (nós):"})," Cada arco representa uma música folk. Clique num arco para ver a partitura da música."]})]}),$.jsxs("div",{className:"legend-item",children:[$.jsx("div",{className:"legend-symbol ribbon-symbol"}),$.jsxs("div",{className:"legend-text",children:[$.jsx("strong",{children:"Ligações (ribbons):"})," Mostram a similaridade entre duas músicas. Ligações mais grossas = maior similaridade."]})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Como Interpretar a Similaridade"}),$.jsx("p",{children:"A similaridade é calculada com base em:"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"70% Notas Musicais:"})," Notas comuns entre as melodias"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"30% Atributos:"})," Modo, tipo e compasso (meter)"]})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Interações"}),$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx("strong",{children:"Hover sobre ligações:"})," Vê detalhes da similaridade"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Clique nos arcos:"})," Abre a partitura musical"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Filtros de atributos:"})," Personaliza o cálculo da similaridade"]}),$.jsxs("li",{children:[$.jsx("strong",{children:"Trocar músicas:"})," Seleciona 6 novas músicas aleatórias"]})]})]}),$.jsxs("div",{className:"legend-section",children:[$.jsx("h4",{children:"Cores"}),$.jsxs("div",{className:"legend-item",children:[$.jsx("div",{className:"legend-color",style:{backgroundColor:"#82813E"}}),$.jsx("span",{children:"Cor principal para arcos e ligações"})]})]})]})]})}):null;return $.jsxs($.Fragment,{children:[$.jsx(N_,{}),$.jsxs("div",{className:"visIE-container",children:[$.jsxs("div",{className:"vis1",style:{display:t===1?"grid":"none"},children:[$.jsxs("div",{className:"roots-description-IE",children:[$.jsx("h2",{className:"roots-title-IE",children:"Irish Musical Roots"}),$.jsx("p",{className:"roots-text-IE",children:"Irish folk songs take shape not only through words and melodies, but through the ways they're sung. This visualization uncovers how songs connect through shared musical modes and stylistic interpretations."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"network-IE-section",className:"visIE-roots",children:t===1&&$.jsx(wz,{})})]}),$.jsxs("div",{className:"vis2",style:{display:t===2?"grid":"none"},children:[$.jsxs("div",{className:"Types-description",children:[$.jsx("h2",{className:"Types-title",children:"Types of Irish folk"}),$.jsx("p",{className:"Types-text-IE",children:"Irish folk songs often exist in multiple forms, reshaped by the musical categories they belong to. This visualization explores how songs vary across styles — from dance tunes to laments — revealing the creative diversity that lives within shared traditions. Each point is a variation, a window into how structure and expression intertwine in the folk repertoire."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"dptypes-section",className:"dotplot-types",children:t===2&&$.jsx(Sz,{active:!0})})]}),$.jsxs("div",{className:"vis3",style:{display:t===3?"grid":"none"},children:[$.jsxs("div",{className:"heatmap-comparison-description",children:[$.jsx("h2",{className:"heatmap-comparison-title",children:"Heat of the Melody"}),$.jsx("p",{className:"heatmap-comparison-text",children:"Every variation of a folk song tells a slightly different musical story. This heatmap uncovers those differences by highlighting the notes most frequently played across versions — revealing which tones anchor the melody, and where change happens. As time unfolds, we see not just how songs shift, but how tradition evolves through subtle musical choices."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"heatmap-comparison-section",className:"heatmap-comparison",children:t===3&&$.jsx(Tz,{})})]}),$.jsxs("div",{className:"vis4",style:{display:t===4?"grid":"none"},children:[$.jsxs("div",{className:"pitch-abc-description",children:[$.jsx("h2",{className:"pitch-abc-title",children:"Strings of Connection"}),$.jsx("p",{className:"pitch-abc-text",children:"Irish folk songs often share more than just a cultural heritage — they echo one another in notes, rhythms, and style. This chord diagram maps those relationships, linking melodies by their similarities in pitch, meter, type, and mode. The result is a tapestry of connections that shows how individual songs weave together into a larger musical tradition."}),$.jsx("button",{className:"legend-btn",onClick:()=>n(!0),children:"Ver legenda"})]}),$.jsx("div",{id:"picth-section",className:"pitch-abc",children:t===4&&$.jsx(pL,{})})]}),$.jsxs("div",{className:"nav-buttons",children:[t>1&&$.jsx("button",{onClick:f,className:"nav-btn up",children:"↑"}),t<4&&$.jsx("button",{onClick:u,className:"nav-btn down",children:"↓"})]})]}),d()]})}function ua(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Hr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},mo={duration:.5,overwrite:!1,delay:0},d3,Pn,Gt,ci=1e8,Lt=1/ci,rm=Math.PI*2,vL=rm/4,mL=0,Lw=Math.sqrt,yL=Math.cos,bL=Math.sin,Dn=function(e){return typeof e=="string"},tn=function(e){return typeof e=="function"},_a=function(e){return typeof e=="number"},p3=function(e){return typeof e>"u"},Yi=function(e){return typeof e=="object"},vr=function(e){return e!==!1},g3=function(){return typeof window<"u"},rf=function(e){return tn(e)||Dn(e)},qw=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Qn=Array.isArray,im=/(?:-?\.?\d|\.)+/gi,jw=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,K0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sv=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Pw=/[+-]=-?[.\d]+/,Hw=/[^,'"\[\]\s]+/gi,_L=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Zt,ki,am,v3,Fr={},ah={},Yw,Uw=function(e){return(ah=yo(e,Fr))&&_r},m3=function(e,o){return console.warn("Invalid property",e,"set to",o,"Missing plugin? gsap.registerPlugin()")},_c=function(e,o){return!o&&console.warn(e)},Fw=function(e,o){return e&&(Fr[e]=o)&&ah&&(ah[e]=o)||Fr},xc=function(){return 0},xL={suppressEvents:!0,isStart:!0,kill:!1},Af={suppressEvents:!0,kill:!1},wL={suppressEvents:!0},y3={},es=[],sm={},Gw,Br={},ov={},z7=30,Mf=[],b3="",_3=function(e){var o=e[0],n,a;if(Yi(o)||tn(o)||(e=[e]),!(n=(o._gsap||{}).harness)){for(a=Mf.length;a--&&!Mf[a].targetTest(o););n=Mf[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new pS(e[a],n)))||e.splice(a,1);return e},js=function(e){return e._gsap||_3(ui(e))[0]._gsap},$w=function(e,o,n){return(n=e[o])&&tn(n)?e[o]():p3(n)&&e.getAttribute&&e.getAttribute(o)||n},mr=function(e,o){return(e=e.split(",")).forEach(o)||e},sn=function(e){return Math.round(e*1e5)/1e5||0},bn=function(e){return Math.round(e*1e7)/1e7||0},io=function(e,o){var n=o.charAt(0),a=parseFloat(o.substr(2));return e=parseFloat(e),n==="+"?e+a:n==="-"?e-a:n==="*"?e*a:e/a},SL=function(e,o){for(var n=o.length,a=0;e.indexOf(o[a])<0&&++a<n;);return a<n},sh=function(){var e=es.length,o=es.slice(0),n,a;for(sm={},es.length=0,n=0;n<e;n++)a=o[n],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},x3=function(e){return!!(e._initted||e._startAt||e.add)},Xw=function(e,o,n,a){es.length&&!Pn&&sh(),e.render(o,n,!!(Pn&&o<0&&x3(e))),es.length&&!Pn&&sh()},Vw=function(e){var o=parseFloat(e);return(o||o===0)&&(e+"").match(Hw).length<2?o:Dn(e)?e.trim():e},Iw=function(e){return e},Gr=function(e,o){for(var n in o)n in e||(e[n]=o[n]);return e},TL=function(e){return function(o,n){for(var a in n)a in o||a==="duration"&&e||a==="ease"||(o[a]=n[a])}},yo=function(e,o){for(var n in o)e[n]=o[n];return e},B7=function t(e,o){for(var n in o)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Yi(o[n])?t(e[n]||(e[n]={}),o[n]):o[n]);return e},oh=function(e,o){var n={},a;for(a in e)a in o||(n[a]=e[a]);return n},Jl=function(e){var o=e.parent||Zt,n=e.keyframes?TL(Qn(e.keyframes)):Gr;if(vr(e.inherit))for(;o;)n(e,o.vars.defaults),o=o.parent||o._dp;return e},CL=function(e,o){for(var n=e.length,a=n===o.length;a&&n--&&e[n]===o[n];);return n<0},Zw=function(e,o,n,a,c){var u=e[a],f;if(c)for(f=o[c];u&&u[c]>f;)u=u._prev;return u?(o._next=u._next,u._next=o):(o._next=e[n],e[n]=o),o._next?o._next._prev=o:e[a]=o,o._prev=u,o.parent=o._dp=e,o},Dh=function(e,o,n,a){n===void 0&&(n="_first"),a===void 0&&(a="_last");var c=o._prev,u=o._next;c?c._next=u:e[n]===o&&(e[n]=u),u?u._prev=c:e[a]===o&&(e[a]=c),o._next=o._prev=o.parent=null},rs=function(e,o){e.parent&&(!o||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ps=function(e,o){if(e&&(!o||o._end>e._dur||o._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},EL=function(e){for(var o=e.parent;o&&o.parent;)o._dirty=1,o.totalDuration(),o=o.parent;return e},om=function(e,o,n,a){return e._startAt&&(Pn?e._startAt.revert(Af):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(o,!0,a))},AL=function t(e){return!e||e._ts&&t(e.parent)},L7=function(e){return e._repeat?bo(e._tTime,e=e.duration()+e._rDelay)*e:0},bo=function(e,o){var n=Math.floor(e=bn(e/o));return e&&n===e?n-1:n},lh=function(e,o){return(e-o._start)*o._ts+(o._ts>=0?0:o._dirty?o.totalDuration():o._tDur)},Oh=function(e){return e._end=bn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lt)||0))},zh=function(e,o){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=bn(n._time-(e._ts>0?o/e._ts:((e._dirty?e.totalDuration():e._tDur)-o)/-e._ts)),Oh(e),n._dirty||Ps(n,e)),e},Qw=function(e,o){var n;if((o._time||!o._dur&&o._initted||o._start<e._time&&(o._dur||!o.add))&&(n=lh(e.rawTime(),o),(!o._dur||Bc(0,o.totalDuration(),n)-o._tTime>Lt)&&o.render(n,!0)),Ps(e,o)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Lt}},Oi=function(e,o,n,a){return o.parent&&rs(o),o._start=bn((_a(n)?n:n||e!==Zt?ri(e,n,o):e._time)+o._delay),o._end=bn(o._start+(o.totalDuration()/Math.abs(o.timeScale())||0)),Zw(e,o,"_first","_last",e._sort?"_start":0),lm(o)||(e._recent=o),a||Qw(e,o),e._ts<0&&zh(e,e._tTime),e},Kw=function(e,o){return(Fr.ScrollTrigger||m3("scrollTrigger",o))&&Fr.ScrollTrigger.create(o,e)},Ww=function(e,o,n,a,c){if(S3(e,o,c),!e._initted)return 1;if(!n&&e._pt&&!Pn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Gw!==qr.frame)return es.push(e),e._lazy=[c,a],1},ML=function t(e){var o=e.parent;return o&&o._ts&&o._initted&&!o._lock&&(o.rawTime()<0||t(o))},lm=function(e){var o=e.data;return o==="isFromStart"||o==="isStart"},kL=function(e,o,n,a){var c=e.ratio,u=o<0||!o&&(!e._start&&ML(e)&&!(!e._initted&&lm(e))||(e._ts<0||e._dp._ts<0)&&!lm(e))?0:1,f=e._rDelay,d=0,g,b,x;if(f&&e._repeat&&(d=Bc(0,e._tDur,o),b=bo(d,f),e._yoyo&&b&1&&(u=1-u),b!==bo(e._tTime,f)&&(c=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==c||Pn||a||e._zTime===Lt||!o&&e._zTime){if(!e._initted&&Ww(e,o,a,n,d))return;for(x=e._zTime,e._zTime=o||(n?Lt:0),n||(n=o&&!x),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,g=e._pt;g;)g.r(u,g.d),g=g._next;o<0&&om(e,o,n,!0),e._onUpdate&&!n&&Pr(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&Pr(e,"onRepeat"),(o>=e._tDur||o<0)&&e.ratio===u&&(u&&rs(e,1),!n&&!Pn&&(Pr(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=o)},NL=function(e,o,n){var a;if(n>o)for(a=e._first;a&&a._start<=n;){if(a.data==="isPause"&&a._start>o)return a;a=a._next}else for(a=e._last;a&&a._start>=n;){if(a.data==="isPause"&&a._start<o)return a;a=a._prev}},_o=function(e,o,n,a){var c=e._repeat,u=bn(o)||0,f=e._tTime/e._tDur;return f&&!a&&(e._time*=u/e._dur),e._dur=u,e._tDur=c?c<0?1e10:bn(u*(c+1)+e._rDelay*c):u,f>0&&!a&&zh(e,e._tTime=e._tDur*f),e.parent&&Oh(e),n||Ps(e.parent,e),e},q7=function(e){return e instanceof ar?Ps(e):_o(e,e._dur)},RL={_start:0,endTime:xc,totalDuration:xc},ri=function t(e,o,n){var a=e.labels,c=e._recent||RL,u=e.duration()>=ci?c.endTime(!1):e._dur,f,d,g;return Dn(o)&&(isNaN(o)||o in a)?(d=o.charAt(0),g=o.substr(-1)==="%",f=o.indexOf("="),d==="<"||d===">"?(f>=0&&(o=o.replace(/=/,"")),(d==="<"?c._start:c.endTime(c._repeat>=0))+(parseFloat(o.substr(1))||0)*(g?(f<0?c:n).totalDuration()/100:1)):f<0?(o in a||(a[o]=u),a[o]):(d=parseFloat(o.charAt(f-1)+o.substr(f+1)),g&&n&&(d=d/100*(Qn(n)?n[0]:n).totalDuration()),f>1?t(e,o.substr(0,f-1),n)+d:u+d)):o==null?u:+o},ec=function(e,o,n){var a=_a(o[1]),c=(a?2:1)+(e<2?0:1),u=o[c],f,d;if(a&&(u.duration=o[1]),u.parent=n,e){for(f=u,d=n;d&&!("immediateRender"in f);)f=d.vars.defaults||{},d=vr(d.vars.inherit)&&d.parent;u.immediateRender=vr(f.immediateRender),e<2?u.runBackwards=1:u.startAt=o[c-1]}return new yn(o[0],u,o[c+1])},ls=function(e,o){return e||e===0?o(e):o},Bc=function(e,o,n){return n<e?e:n>o?o:n},Vn=function(e,o){return!Dn(e)||!(o=_L.exec(e))?"":o[1]},DL=function(e,o,n){return ls(n,function(a){return Bc(e,o,a)})},cm=[].slice,Jw=function(e,o){return e&&Yi(e)&&"length"in e&&(!o&&!e.length||e.length-1 in e&&Yi(e[0]))&&!e.nodeType&&e!==ki},OL=function(e,o,n){return n===void 0&&(n=[]),e.forEach(function(a){var c;return Dn(a)&&!o||Jw(a,1)?(c=n).push.apply(c,ui(a)):n.push(a)})||n},ui=function(e,o,n){return Gt&&!o&&Gt.selector?Gt.selector(e):Dn(e)&&!n&&(am||!xo())?cm.call((o||v3).querySelectorAll(e),0):Qn(e)?OL(e,n):Jw(e)?cm.call(e,0):e?[e]:[]},um=function(e){return e=ui(e)[0]||_c("Invalid scope")||{},function(o){var n=e.current||e.nativeElement||e;return ui(o,n.querySelectorAll?n:n===e?_c("Invalid scope")||v3.createElement("div"):e)}},eS=function(e){return e.sort(function(){return .5-Math.random()})},tS=function(e){if(tn(e))return e;var o=Yi(e)?e:{each:e},n=Hs(o.ease),a=o.from||0,c=parseFloat(o.base)||0,u={},f=a>0&&a<1,d=isNaN(a)||f,g=o.axis,b=a,x=a;return Dn(a)?b=x={center:.5,edges:.5,end:1}[a]||0:!f&&d&&(b=a[0],x=a[1]),function(y,m,_){var p=(_||o).length,w=u[p],T,C,N,k,D,F,G,E,R;if(!w){if(R=o.grid==="auto"?0:(o.grid||[1,ci])[1],!R){for(G=-ci;G<(G=_[R++].getBoundingClientRect().left)&&R<p;);R<p&&R--}for(w=u[p]=[],T=d?Math.min(R,p)*b-.5:a%R,C=R===ci?0:d?p*x/R-.5:a/R|0,G=0,E=ci,F=0;F<p;F++)N=F%R-T,k=C-(F/R|0),w[F]=D=g?Math.abs(g==="y"?k:N):Lw(N*N+k*k),D>G&&(G=D),D<E&&(E=D);a==="random"&&eS(w),w.max=G-E,w.min=E,w.v=p=(parseFloat(o.amount)||parseFloat(o.each)*(R>p?p-1:g?g==="y"?p/R:R:Math.max(R,p/R))||0)*(a==="edges"?-1:1),w.b=p<0?c-p:c,w.u=Vn(o.amount||o.each)||0,n=n&&p<0?fS(n):n}return p=(w[y]-w.min)/w.max||0,bn(w.b+(n?n(p):p)*w.v)+w.u}},fm=function(e){var o=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var a=bn(Math.round(parseFloat(n)/e)*e*o);return(a-a%1)/o+(_a(n)?0:Vn(n))}},nS=function(e,o){var n=Qn(e),a,c;return!n&&Yi(e)&&(a=n=e.radius||ci,e.values?(e=ui(e.values),(c=!_a(e[0]))&&(a*=a)):e=fm(e.increment)),ls(o,n?tn(e)?function(u){return c=e(u),Math.abs(c-u)<=a?c:u}:function(u){for(var f=parseFloat(c?u.x:u),d=parseFloat(c?u.y:0),g=ci,b=0,x=e.length,y,m;x--;)c?(y=e[x].x-f,m=e[x].y-d,y=y*y+m*m):y=Math.abs(e[x]-f),y<g&&(g=y,b=x);return b=!a||g<=a?e[b]:u,c||b===u||_a(u)?b:b+Vn(u)}:fm(e))},rS=function(e,o,n,a){return ls(Qn(e)?!o:n===!0?!!(n=0):!a,function(){return Qn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(a=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(o-e+n*.99))/n)*n*a)/a})},zL=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return function(a){return o.reduce(function(c,u){return u(c)},a)}},BL=function(e,o){return function(n){return e(parseFloat(n))+(o||Vn(n))}},LL=function(e,o,n){return aS(e,o,0,1,n)},iS=function(e,o,n){return ls(n,function(a){return e[~~o(a)]})},qL=function t(e,o,n){var a=o-e;return Qn(e)?iS(e,t(0,e.length),o):ls(n,function(c){return(a+(c-e)%a)%a+e})},jL=function t(e,o,n){var a=o-e,c=a*2;return Qn(e)?iS(e,t(0,e.length-1),o):ls(n,function(u){return u=(c+(u-e)%c)%c||0,e+(u>a?c-u:u)})},wc=function(e){for(var o=0,n="",a,c,u,f;~(a=e.indexOf("random(",o));)u=e.indexOf(")",a),f=e.charAt(a+7)==="[",c=e.substr(a+7,u-a-7).match(f?Hw:im),n+=e.substr(o,a-o)+rS(f?c:+c[0],f?0:+c[1],+c[2]||1e-5),o=u+1;return n+e.substr(o,e.length-o)},aS=function(e,o,n,a,c){var u=o-e,f=a-n;return ls(c,function(d){return n+((d-e)/u*f||0)})},PL=function t(e,o,n,a){var c=isNaN(e+o)?0:function(m){return(1-m)*e+m*o};if(!c){var u=Dn(e),f={},d,g,b,x,y;if(n===!0&&(a=1)&&(n=null),u)e={p:e},o={p:o};else if(Qn(e)&&!Qn(o)){for(b=[],x=e.length,y=x-2,g=1;g<x;g++)b.push(t(e[g-1],e[g]));x--,c=function(_){_*=x;var p=Math.min(y,~~_);return b[p](_-p)},n=o}else a||(e=yo(Qn(e)?[]:{},e));if(!b){for(d in o)w3.call(f,e,d,"get",o[d]);c=function(_){return E3(_,f)||(u?e.p:e)}}}return ls(n,c)},j7=function(e,o,n){var a=e.labels,c=ci,u,f,d;for(u in a)f=a[u]-o,f<0==!!n&&f&&c>(f=Math.abs(f))&&(d=u,c=f);return d},Pr=function(e,o,n){var a=e.vars,c=a[o],u=Gt,f=e._ctx,d,g,b;if(c)return d=a[o+"Params"],g=a.callbackScope||e,n&&es.length&&sh(),f&&(Gt=f),b=d?c.apply(g,d):c.call(g),Gt=u,b},Fl=function(e){return rs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Pn),e.progress()<1&&Pr(e,"onInterrupt"),e},W0,sS=[],oS=function(e){if(e)if(e=!e.name&&e.default||e,g3()||e.headless){var o=e.name,n=tn(e),a=o&&!n&&e.init?function(){this._props=[]}:e,c={init:xc,render:E3,add:w3,kill:tq,modifier:eq,rawVars:0},u={targetTest:0,get:0,getSetter:C3,aliases:{},register:0};if(xo(),e!==a){if(Br[o])return;Gr(a,Gr(oh(e,c),u)),yo(a.prototype,yo(c,oh(e,u))),Br[a.prop=o]=a,e.targetTest&&(Mf.push(a),y3[o]=1),o=(o==="css"?"CSS":o.charAt(0).toUpperCase()+o.substr(1))+"Plugin"}Fw(o,a),e.register&&e.register(_r,a,yr)}else sS.push(e)},Bt=255,Gl={aqua:[0,Bt,Bt],lime:[0,Bt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Bt],navy:[0,0,128],white:[Bt,Bt,Bt],olive:[128,128,0],yellow:[Bt,Bt,0],orange:[Bt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Bt,0,0],pink:[Bt,192,203],cyan:[0,Bt,Bt],transparent:[Bt,Bt,Bt,0]},lv=function(e,o,n){return e+=e<0?1:e>1?-1:0,(e*6<1?o+(n-o)*e*6:e<.5?n:e*3<2?o+(n-o)*(2/3-e)*6:o)*Bt+.5|0},lS=function(e,o,n){var a=e?_a(e)?[e>>16,e>>8&Bt,e&Bt]:0:Gl.black,c,u,f,d,g,b,x,y,m,_;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Gl[e])a=Gl[e];else if(e.charAt(0)==="#"){if(e.length<6&&(c=e.charAt(1),u=e.charAt(2),f=e.charAt(3),e="#"+c+c+u+u+f+f+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&Bt,a&Bt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&Bt,e&Bt]}else if(e.substr(0,3)==="hsl"){if(a=_=e.match(im),!o)d=+a[0]%360/360,g=+a[1]/100,b=+a[2]/100,u=b<=.5?b*(g+1):b+g-b*g,c=b*2-u,a.length>3&&(a[3]*=1),a[0]=lv(d+1/3,c,u),a[1]=lv(d,c,u),a[2]=lv(d-1/3,c,u);else if(~e.indexOf("="))return a=e.match(jw),n&&a.length<4&&(a[3]=1),a}else a=e.match(im)||Gl.transparent;a=a.map(Number)}return o&&!_&&(c=a[0]/Bt,u=a[1]/Bt,f=a[2]/Bt,x=Math.max(c,u,f),y=Math.min(c,u,f),b=(x+y)/2,x===y?d=g=0:(m=x-y,g=b>.5?m/(2-x-y):m/(x+y),d=x===c?(u-f)/m+(u<f?6:0):x===u?(f-c)/m+2:(c-u)/m+4,d*=60),a[0]=~~(d+.5),a[1]=~~(g*100+.5),a[2]=~~(b*100+.5)),n&&a.length<4&&(a[3]=1),a},cS=function(e){var o=[],n=[],a=-1;return e.split(ts).forEach(function(c){var u=c.match(K0)||[];o.push.apply(o,u),n.push(a+=u.length+1)}),o.c=n,o},P7=function(e,o,n){var a="",c=(e+a).match(ts),u=o?"hsla(":"rgba(",f=0,d,g,b,x;if(!c)return e;if(c=c.map(function(y){return(y=lS(y,o,1))&&u+(o?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(b=cS(e),d=n.c,d.join(a)!==b.c.join(a)))for(g=e.replace(ts,"1").split(K0),x=g.length-1;f<x;f++)a+=g[f]+(~d.indexOf(f)?c.shift()||u+"0,0,0,0)":(b.length?b:c.length?c:n).shift());if(!g)for(g=e.split(ts),x=g.length-1;f<x;f++)a+=g[f]+c[f];return a+g[x]},ts=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Gl)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),HL=/hsl[a]?\(/,uS=function(e){var o=e.join(" "),n;if(ts.lastIndex=0,ts.test(o))return n=HL.test(o),e[1]=P7(e[1],n),e[0]=P7(e[0],n,cS(e[1])),!0},Sc,qr=function(){var t=Date.now,e=500,o=33,n=t(),a=n,c=1e3/240,u=c,f=[],d,g,b,x,y,m,_=function p(w){var T=t()-a,C=w===!0,N,k,D,F;if((T>e||T<0)&&(n+=T-o),a+=T,D=a-n,N=D-u,(N>0||C)&&(F=++x.frame,y=D-x.time*1e3,x.time=D=D/1e3,u+=N+(N>=c?4:c-N),k=1),C||(d=g(p)),k)for(m=0;m<f.length;m++)f[m](D,y,F,w)};return x={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(w){return y/(1e3/(w||60))},wake:function(){Yw&&(!am&&g3()&&(ki=am=window,v3=ki.document||{},Fr.gsap=_r,(ki.gsapVersions||(ki.gsapVersions=[])).push(_r.version),Uw(ah||ki.GreenSockGlobals||!ki.gsap&&ki||{}),sS.forEach(oS)),b=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&x.sleep(),g=b||function(w){return setTimeout(w,u-x.time*1e3+1|0)},Sc=1,_(2))},sleep:function(){(b?cancelAnimationFrame:clearTimeout)(d),Sc=0,g=xc},lagSmoothing:function(w,T){e=w||1/0,o=Math.min(T||33,e)},fps:function(w){c=1e3/(w||240),u=x.time*1e3+c},add:function(w,T,C){var N=T?function(k,D,F,G){w(k,D,F,G),x.remove(N)}:w;return x.remove(w),f[C?"unshift":"push"](N),xo(),N},remove:function(w,T){~(T=f.indexOf(w))&&f.splice(T,1)&&m>=T&&m--},_listeners:f},x}(),xo=function(){return!Sc&&qr.wake()},vt={},YL=/^[\d.\-M][\d.\-,\s]/,UL=/["']/g,FL=function(e){for(var o={},n=e.substr(1,e.length-3).split(":"),a=n[0],c=1,u=n.length,f,d,g;c<u;c++)d=n[c],f=c!==u-1?d.lastIndexOf(","):d.length,g=d.substr(0,f),o[a]=isNaN(g)?g.replace(UL,"").trim():+g,a=d.substr(f+1).trim();return o},GL=function(e){var o=e.indexOf("(")+1,n=e.indexOf(")"),a=e.indexOf("(",o);return e.substring(o,~a&&a<n?e.indexOf(")",n+1):n)},$L=function(e){var o=(e+"").split("("),n=vt[o[0]];return n&&o.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[FL(o[1])]:GL(e).split(",").map(Vw)):vt._CE&&YL.test(e)?vt._CE("",e):n},fS=function(e){return function(o){return 1-e(1-o)}},hS=function t(e,o){for(var n=e._first,a;n;)n instanceof ar?t(n,o):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==o&&(n.timeline?t(n.timeline,o):(a=n._ease,n._ease=n._yEase,n._yEase=a,n._yoyo=o)),n=n._next},Hs=function(e,o){return e&&(tn(e)?e:vt[e]||$L(e))||o},r0=function(e,o,n,a){n===void 0&&(n=function(d){return 1-o(1-d)}),a===void 0&&(a=function(d){return d<.5?o(d*2)/2:1-o((1-d)*2)/2});var c={easeIn:o,easeOut:n,easeInOut:a},u;return mr(e,function(f){vt[f]=Fr[f]=c,vt[u=f.toLowerCase()]=n;for(var d in c)vt[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=vt[f+"."+d]=c[d]}),c},dS=function(e){return function(o){return o<.5?(1-e(1-o*2))/2:.5+e((o-.5)*2)/2}},cv=function t(e,o,n){var a=o>=1?o:1,c=(n||(e?.3:.45))/(o<1?o:1),u=c/rm*(Math.asin(1/a)||0),f=function(b){return b===1?1:a*Math.pow(2,-10*b)*bL((b-u)*c)+1},d=e==="out"?f:e==="in"?function(g){return 1-f(1-g)}:dS(f);return c=rm/c,d.config=function(g,b){return t(e,g,b)},d},uv=function t(e,o){o===void 0&&(o=1.70158);var n=function(u){return u?--u*u*((o+1)*u+o)+1:0},a=e==="out"?n:e==="in"?function(c){return 1-n(1-c)}:dS(n);return a.config=function(c){return t(e,c)},a};mr("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var o=e<5?e+1:e;r0(t+",Power"+(o-1),e?function(n){return Math.pow(n,o)}:function(n){return n},function(n){return 1-Math.pow(1-n,o)},function(n){return n<.5?Math.pow(n*2,o)/2:1-Math.pow((1-n)*2,o)/2})});vt.Linear.easeNone=vt.none=vt.Linear.easeIn;r0("Elastic",cv("in"),cv("out"),cv());(function(t,e){var o=1/e,n=2*o,a=2.5*o,c=function(f){return f<o?t*f*f:f<n?t*Math.pow(f-1.5/e,2)+.75:f<a?t*(f-=2.25/e)*f+.9375:t*Math.pow(f-2.625/e,2)+.984375};r0("Bounce",function(u){return 1-c(1-u)},c)})(7.5625,2.75);r0("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});r0("Circ",function(t){return-(Lw(1-t*t)-1)});r0("Sine",function(t){return t===1?1:-yL(t*vL)+1});r0("Back",uv("in"),uv("out"),uv());vt.SteppedEase=vt.steps=Fr.SteppedEase={config:function(e,o){e===void 0&&(e=1);var n=1/e,a=e+(o?0:1),c=o?1:0,u=1-Lt;return function(f){return((a*Bc(0,u,f)|0)+c)*n}}};mo.ease=vt["quad.out"];mr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return b3+=t+","+t+"Params,"});var pS=function(e,o){this.id=mL++,e._gsap=this,this.target=e,this.harness=o,this.get=o?o.get:$w,this.set=o?o.getSetter:C3},Tc=function(){function t(o){this.vars=o,this._delay=+o.delay||0,(this._repeat=o.repeat===1/0?-2:o.repeat||0)&&(this._rDelay=o.repeatDelay||0,this._yoyo=!!o.yoyo||!!o.yoyoEase),this._ts=1,_o(this,+o.duration,1,1),this.data=o.data,Gt&&(this._ctx=Gt,Gt.data.push(this)),Sc||qr.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,_o(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,a){if(xo(),!arguments.length)return this._tTime;var c=this._dp;if(c&&c.smoothChildTiming&&this._ts){for(zh(this,n),!c._dp||c.parent||Qw(c,this);c&&c.parent;)c.parent._time!==c._start+(c._ts>=0?c._tTime/c._ts:(c.totalDuration()-c._tTime)/-c._ts)&&c.totalTime(c._tTime,!0),c=c.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Oi(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===Lt||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Xw(this,n,a)),this},e.time=function(n,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+L7(this))%(this._dur+this._rDelay)||(n?this._dur:0),a):this._time},e.totalProgress=function(n,a){return arguments.length?this.totalTime(this.totalDuration()*n,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+L7(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,a){var c=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*c,a):this._repeat?bo(this._tTime,c)+1:1},e.timeScale=function(n,a){if(!arguments.length)return this._rts===-Lt?0:this._rts;if(this._rts===n)return this;var c=this.parent&&this._ts?lh(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Lt?0:this._rts,this.totalTime(Bc(-Math.abs(this._delay),this.totalDuration(),c),a!==!1),Oh(this),EL(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lt&&(this._tTime-=Lt)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&Oi(a,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(vr(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var a=this.parent||this._dp;return a?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?lh(a.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=wL);var a=Pn;return Pn=n,x3(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Pn=a,this},e.globalTime=function(n){for(var a=this,c=arguments.length?n:a.rawTime();a;)c=a._start+c/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(n):c},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,q7(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var a=this._time;return this._rDelay=n,q7(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,a){return this.totalTime(ri(this,n),vr(a))},e.restart=function(n,a){return this.play().totalTime(n?-this._delay:0,vr(a)),this._dur||(this._zTime=-Lt),this},e.play=function(n,a){return n!=null&&this.seek(n,a),this.reversed(!1).paused(!1)},e.reverse=function(n,a){return n!=null&&this.seek(n||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(n,a){return n!=null&&this.seek(n,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Lt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lt,this},e.isActive=function(){var n=this.parent||this._dp,a=this._start,c;return!!(!n||this._ts&&this._initted&&n.isActive()&&(c=n.rawTime(!0))>=a&&c<this.endTime(!0)-Lt)},e.eventCallback=function(n,a,c){var u=this.vars;return arguments.length>1?(a?(u[n]=a,c&&(u[n+"Params"]=c),n==="onUpdate"&&(this._onUpdate=a)):delete u[n],this):u[n]},e.then=function(n){var a=this;return new Promise(function(c){var u=tn(n)?n:Iw,f=function(){var g=a.then;a.then=null,tn(u)&&(u=u(a))&&(u.then||u===a)&&(a.then=g),c(u),a.then=g};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?f():a._prom=f})},e.kill=function(){Fl(this)},t}();Gr(Tc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lt,_prom:0,_ps:!1,_rts:1});var ar=function(t){Bw(e,t);function e(n,a){var c;return n===void 0&&(n={}),c=t.call(this,n)||this,c.labels={},c.smoothChildTiming=!!n.smoothChildTiming,c.autoRemoveChildren=!!n.autoRemoveChildren,c._sort=vr(n.sortChildren),Zt&&Oi(n.parent||Zt,ua(c),a),n.reversed&&c.reverse(),n.paused&&c.paused(!0),n.scrollTrigger&&Kw(ua(c),n.scrollTrigger),c}var o=e.prototype;return o.to=function(a,c,u){return ec(0,arguments,this),this},o.from=function(a,c,u){return ec(1,arguments,this),this},o.fromTo=function(a,c,u,f){return ec(2,arguments,this),this},o.set=function(a,c,u){return c.duration=0,c.parent=this,Jl(c).repeatDelay||(c.repeat=0),c.immediateRender=!!c.immediateRender,new yn(a,c,ri(this,u),1),this},o.call=function(a,c,u){return Oi(this,yn.delayedCall(0,a,c),u)},o.staggerTo=function(a,c,u,f,d,g,b){return u.duration=c,u.stagger=u.stagger||f,u.onComplete=g,u.onCompleteParams=b,u.parent=this,new yn(a,u,ri(this,d)),this},o.staggerFrom=function(a,c,u,f,d,g,b){return u.runBackwards=1,Jl(u).immediateRender=vr(u.immediateRender),this.staggerTo(a,c,u,f,d,g,b)},o.staggerFromTo=function(a,c,u,f,d,g,b,x){return f.startAt=u,Jl(f).immediateRender=vr(f.immediateRender),this.staggerTo(a,c,f,d,g,b,x)},o.render=function(a,c,u){var f=this._time,d=this._dirty?this.totalDuration():this._tDur,g=this._dur,b=a<=0?0:bn(a),x=this._zTime<0!=a<0&&(this._initted||!g),y,m,_,p,w,T,C,N,k,D,F,G;if(this!==Zt&&b>d&&a>=0&&(b=d),b!==this._tTime||u||x){if(f!==this._time&&g&&(b+=this._time-f,a+=this._time-f),y=b,k=this._start,N=this._ts,T=!N,x&&(g||(f=this._zTime),(a||!c)&&(this._zTime=a)),this._repeat){if(F=this._yoyo,w=g+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(w*100+a,c,u);if(y=bn(b%w),b===d?(p=this._repeat,y=g):(D=bn(b/w),p=~~D,p&&p===D&&(y=g,p--),y>g&&(y=g)),D=bo(this._tTime,w),!f&&this._tTime&&D!==p&&this._tTime-D*w-this._dur<=0&&(D=p),F&&p&1&&(y=g-y,G=1),p!==D&&!this._lock){var E=F&&D&1,R=E===(F&&p&1);if(p<D&&(E=!E),f=E?0:b%g?g:b,this._lock=1,this.render(f||(G?0:bn(p*w)),c,!g)._lock=0,this._tTime=b,!c&&this.parent&&Pr(this,"onRepeat"),this.vars.repeatRefresh&&!G&&(this.invalidate()._lock=1),f&&f!==this._time||T!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,d=this._tDur,R&&(this._lock=2,f=E?g:-1e-4,this.render(f,!0),this.vars.repeatRefresh&&!G&&this.invalidate()),this._lock=0,!this._ts&&!T)return this;hS(this,G)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=NL(this,bn(f),bn(y)),C&&(b-=y-(y=C._start))),this._tTime=b,this._time=y,this._act=!N,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,f=0),!f&&b&&!c&&!D&&(Pr(this,"onStart"),this._tTime!==b))return this;if(y>=f&&a>=0)for(m=this._first;m;){if(_=m._next,(m._act||y>=m._start)&&m._ts&&C!==m){if(m.parent!==this)return this.render(a,c,u);if(m.render(m._ts>0?(y-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(y-m._start)*m._ts,c,u),y!==this._time||!this._ts&&!T){C=0,_&&(b+=this._zTime=-Lt);break}}m=_}else{m=this._last;for(var O=a<0?a:y;m;){if(_=m._prev,(m._act||O<=m._end)&&m._ts&&C!==m){if(m.parent!==this)return this.render(a,c,u);if(m.render(m._ts>0?(O-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(O-m._start)*m._ts,c,u||Pn&&x3(m)),y!==this._time||!this._ts&&!T){C=0,_&&(b+=this._zTime=O?-Lt:Lt);break}}m=_}}if(C&&!c&&(this.pause(),C.render(y>=f?0:-Lt)._zTime=y>=f?1:-1,this._ts))return this._start=k,Oh(this),this.render(a,c,u);this._onUpdate&&!c&&Pr(this,"onUpdate",!0),(b===d&&this._tTime>=this.totalDuration()||!b&&f)&&(k===this._start||Math.abs(N)!==Math.abs(this._ts))&&(this._lock||((a||!g)&&(b===d&&this._ts>0||!b&&this._ts<0)&&rs(this,1),!c&&!(a<0&&!f)&&(b||f||!d)&&(Pr(this,b===d&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<d&&this.timeScale()>0)&&this._prom())))}return this},o.add=function(a,c){var u=this;if(_a(c)||(c=ri(this,c,a)),!(a instanceof Tc)){if(Qn(a))return a.forEach(function(f){return u.add(f,c)}),this;if(Dn(a))return this.addLabel(a,c);if(tn(a))a=yn.delayedCall(0,a);else return this}return this!==a?Oi(this,a,c):this},o.getChildren=function(a,c,u,f){a===void 0&&(a=!0),c===void 0&&(c=!0),u===void 0&&(u=!0),f===void 0&&(f=-ci);for(var d=[],g=this._first;g;)g._start>=f&&(g instanceof yn?c&&d.push(g):(u&&d.push(g),a&&d.push.apply(d,g.getChildren(!0,c,u)))),g=g._next;return d},o.getById=function(a){for(var c=this.getChildren(1,1,1),u=c.length;u--;)if(c[u].vars.id===a)return c[u]},o.remove=function(a){return Dn(a)?this.removeLabel(a):tn(a)?this.killTweensOf(a):(a.parent===this&&Dh(this,a),a===this._recent&&(this._recent=this._last),Ps(this))},o.totalTime=function(a,c){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=bn(qr.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),t.prototype.totalTime.call(this,a,c),this._forcing=0,this):this._tTime},o.addLabel=function(a,c){return this.labels[a]=ri(this,c),this},o.removeLabel=function(a){return delete this.labels[a],this},o.addPause=function(a,c,u){var f=yn.delayedCall(0,c||xc,u);return f.data="isPause",this._hasPause=1,Oi(this,f,ri(this,a))},o.removePause=function(a){var c=this._first;for(a=ri(this,a);c;)c._start===a&&c.data==="isPause"&&rs(c),c=c._next},o.killTweensOf=function(a,c,u){for(var f=this.getTweensOf(a,u),d=f.length;d--;)Za!==f[d]&&f[d].kill(a,c);return this},o.getTweensOf=function(a,c){for(var u=[],f=ui(a),d=this._first,g=_a(c),b;d;)d instanceof yn?SL(d._targets,f)&&(g?(!Za||d._initted&&d._ts)&&d.globalTime(0)<=c&&d.globalTime(d.totalDuration())>c:!c||d.isActive())&&u.push(d):(b=d.getTweensOf(f,c)).length&&u.push.apply(u,b),d=d._next;return u},o.tweenTo=function(a,c){c=c||{};var u=this,f=ri(u,a),d=c,g=d.startAt,b=d.onStart,x=d.onStartParams,y=d.immediateRender,m,_=yn.to(u,Gr({ease:c.ease||"none",lazy:!1,immediateRender:!1,time:f,overwrite:"auto",duration:c.duration||Math.abs((f-(g&&"time"in g?g.time:u._time))/u.timeScale())||Lt,onStart:function(){if(u.pause(),!m){var w=c.duration||Math.abs((f-(g&&"time"in g?g.time:u._time))/u.timeScale());_._dur!==w&&_o(_,w,0,1).render(_._time,!0,!0),m=1}b&&b.apply(_,x||[])}},c));return y?_.render(0):_},o.tweenFromTo=function(a,c,u){return this.tweenTo(c,Gr({startAt:{time:ri(this,a)}},u))},o.recent=function(){return this._recent},o.nextLabel=function(a){return a===void 0&&(a=this._time),j7(this,ri(this,a))},o.previousLabel=function(a){return a===void 0&&(a=this._time),j7(this,ri(this,a),1)},o.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+Lt)},o.shiftChildren=function(a,c,u){u===void 0&&(u=0);for(var f=this._first,d=this.labels,g;f;)f._start>=u&&(f._start+=a,f._end+=a),f=f._next;if(c)for(g in d)d[g]>=u&&(d[g]+=a);return Ps(this)},o.invalidate=function(a){var c=this._first;for(this._lock=0;c;)c.invalidate(a),c=c._next;return t.prototype.invalidate.call(this,a)},o.clear=function(a){a===void 0&&(a=!0);for(var c=this._first,u;c;)u=c._next,this.remove(c),c=u;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Ps(this)},o.totalDuration=function(a){var c=0,u=this,f=u._last,d=ci,g,b,x;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-a:a));if(u._dirty){for(x=u.parent;f;)g=f._prev,f._dirty&&f.totalDuration(),b=f._start,b>d&&u._sort&&f._ts&&!u._lock?(u._lock=1,Oi(u,f,b-f._delay,1)._lock=0):d=b,b<0&&f._ts&&(c-=b,(!x&&!u._dp||x&&x.smoothChildTiming)&&(u._start+=b/u._ts,u._time-=b,u._tTime-=b),u.shiftChildren(-b,!1,-1/0),d=0),f._end>c&&f._ts&&(c=f._end),f=g;_o(u,u===Zt&&u._time>c?u._time:c,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(a){if(Zt._ts&&(Xw(Zt,lh(a,Zt)),Gw=qr.frame),qr.frame>=z7){z7+=Hr.autoSleep||120;var c=Zt._first;if((!c||!c._ts)&&Hr.autoSleep&&qr._listeners.length<2){for(;c&&!c._ts;)c=c._next;c||qr.sleep()}}},e}(Tc);Gr(ar.prototype,{_lock:0,_hasPause:0,_forcing:0});var XL=function(e,o,n,a,c,u,f){var d=new yr(this._pt,e,o,0,1,_S,null,c),g=0,b=0,x,y,m,_,p,w,T,C;for(d.b=n,d.e=a,n+="",a+="",(T=~a.indexOf("random("))&&(a=wc(a)),u&&(C=[n,a],u(C,e,o),n=C[0],a=C[1]),y=n.match(sv)||[];x=sv.exec(a);)_=x[0],p=a.substring(g,x.index),m?m=(m+1)%5:p.substr(-5)==="rgba("&&(m=1),_!==y[b++]&&(w=parseFloat(y[b-1])||0,d._pt={_next:d._pt,p:p||b===1?p:",",s:w,c:_.charAt(1)==="="?io(w,_)-w:parseFloat(_)-w,m:m&&m<4?Math.round:0},g=sv.lastIndex);return d.c=g<a.length?a.substring(g,a.length):"",d.fp=f,(Pw.test(a)||T)&&(d.e=0),this._pt=d,d},w3=function(e,o,n,a,c,u,f,d,g,b){tn(a)&&(a=a(c||0,e,u));var x=e[o],y=n!=="get"?n:tn(x)?g?e[o.indexOf("set")||!tn(e["get"+o.substr(3)])?o:"get"+o.substr(3)](g):e[o]():x,m=tn(x)?g?KL:yS:T3,_;if(Dn(a)&&(~a.indexOf("random(")&&(a=wc(a)),a.charAt(1)==="="&&(_=io(y,a)+(Vn(y)||0),(_||_===0)&&(a=_))),!b||y!==a||hm)return!isNaN(y*a)&&a!==""?(_=new yr(this._pt,e,o,+y||0,a-(y||0),typeof x=="boolean"?JL:bS,0,m),g&&(_.fp=g),f&&_.modifier(f,this,e),this._pt=_):(!x&&!(o in e)&&m3(o,a),XL.call(this,e,o,y,a,m,d||Hr.stringFilter,g))},VL=function(e,o,n,a,c){if(tn(e)&&(e=tc(e,c,o,n,a)),!Yi(e)||e.style&&e.nodeType||Qn(e)||qw(e))return Dn(e)?tc(e,c,o,n,a):e;var u={},f;for(f in e)u[f]=tc(e[f],c,o,n,a);return u},gS=function(e,o,n,a,c,u){var f,d,g,b;if(Br[e]&&(f=new Br[e]).init(c,f.rawVars?o[e]:VL(o[e],a,c,u,n),n,a,u)!==!1&&(n._pt=d=new yr(n._pt,c,e,0,1,f.render,f,0,f.priority),n!==W0))for(g=n._ptLookup[n._targets.indexOf(c)],b=f._props.length;b--;)g[f._props[b]]=d;return f},Za,hm,S3=function t(e,o,n){var a=e.vars,c=a.ease,u=a.startAt,f=a.immediateRender,d=a.lazy,g=a.onUpdate,b=a.runBackwards,x=a.yoyoEase,y=a.keyframes,m=a.autoRevert,_=e._dur,p=e._startAt,w=e._targets,T=e.parent,C=T&&T.data==="nested"?T.vars.targets:w,N=e._overwrite==="auto"&&!d3,k=e.timeline,D,F,G,E,R,O,P,j,Y,H,q,U,X;if(k&&(!y||!c)&&(c="none"),e._ease=Hs(c,mo.ease),e._yEase=x?fS(Hs(x===!0?c:x,mo.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),e._from=!k&&!!a.runBackwards,!k||y&&!a.stagger){if(j=w[0]?js(w[0]).harness:0,U=j&&a[j.prop],D=oh(a,y3),p&&(p._zTime<0&&p.progress(1),o<0&&b&&f&&!m?p.render(-1,!0):p.revert(b&&_?Af:xL),p._lazy=0),u){if(rs(e._startAt=yn.set(w,Gr({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:!p&&vr(d),startAt:null,delay:0,onUpdate:g&&function(){return Pr(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,o<0&&(Pn||!f&&!m)&&e._startAt.revert(Af),f&&_&&o<=0&&n<=0){o&&(e._zTime=o);return}}else if(b&&_&&!p){if(o&&(f=!1),G=Gr({overwrite:!1,data:"isFromStart",lazy:f&&!p&&vr(d),immediateRender:f,stagger:0,parent:T},D),U&&(G[j.prop]=U),rs(e._startAt=yn.set(w,G)),e._startAt._dp=0,e._startAt._sat=e,o<0&&(Pn?e._startAt.revert(Af):e._startAt.render(-1,!0)),e._zTime=o,!f)t(e._startAt,Lt,Lt);else if(!o)return}for(e._pt=e._ptCache=0,d=_&&vr(d)||d&&!_,F=0;F<w.length;F++){if(R=w[F],P=R._gsap||_3(w)[F]._gsap,e._ptLookup[F]=H={},sm[P.id]&&es.length&&sh(),q=C===w?F:C.indexOf(R),j&&(Y=new j).init(R,U||D,e,q,C)!==!1&&(e._pt=E=new yr(e._pt,R,Y.name,0,1,Y.render,Y,0,Y.priority),Y._props.forEach(function(I){H[I]=E}),Y.priority&&(O=1)),!j||U)for(G in D)Br[G]&&(Y=gS(G,D,e,q,R,C))?Y.priority&&(O=1):H[G]=E=w3.call(e,R,G,"get",D[G],q,C,0,a.stringFilter);e._op&&e._op[F]&&e.kill(R,e._op[F]),N&&e._pt&&(Za=e,Zt.killTweensOf(R,H,e.globalTime(o)),X=!e.parent,Za=0),e._pt&&d&&(sm[P.id]=1)}O&&xS(e),e._onInit&&e._onInit(e)}e._onUpdate=g,e._initted=(!e._op||e._pt)&&!X,y&&o<=0&&k.render(ci,!0,!0)},IL=function(e,o,n,a,c,u,f,d){var g=(e._pt&&e._ptCache||(e._ptCache={}))[o],b,x,y,m;if(!g)for(g=e._ptCache[o]=[],y=e._ptLookup,m=e._targets.length;m--;){if(b=y[m][o],b&&b.d&&b.d._pt)for(b=b.d._pt;b&&b.p!==o&&b.fp!==o;)b=b._next;if(!b)return hm=1,e.vars[o]="+=0",S3(e,f),hm=0,d?_c(o+" not eligible for reset"):1;g.push(b)}for(m=g.length;m--;)x=g[m],b=x._pt||x,b.s=(a||a===0)&&!c?a:b.s+(a||0)+u*b.c,b.c=n-b.s,x.e&&(x.e=sn(n)+Vn(x.e)),x.b&&(x.b=b.s+Vn(x.b))},ZL=function(e,o){var n=e[0]?js(e[0]).harness:0,a=n&&n.aliases,c,u,f,d;if(!a)return o;c=yo({},o);for(u in a)if(u in c)for(d=a[u].split(","),f=d.length;f--;)c[d[f]]=c[u];return c},QL=function(e,o,n,a){var c=o.ease||a||"power1.inOut",u,f;if(Qn(o))f=n[e]||(n[e]=[]),o.forEach(function(d,g){return f.push({t:g/(o.length-1)*100,v:d,e:c})});else for(u in o)f=n[u]||(n[u]=[]),u==="ease"||f.push({t:parseFloat(e),v:o[u],e:c})},tc=function(e,o,n,a,c){return tn(e)?e.call(o,n,a,c):Dn(e)&&~e.indexOf("random(")?wc(e):e},vS=b3+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",mS={};mr(vS+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return mS[t]=1});var yn=function(t){Bw(e,t);function e(n,a,c,u){var f;typeof a=="number"&&(c.duration=a,a=c,c=null),f=t.call(this,u?a:Jl(a))||this;var d=f.vars,g=d.duration,b=d.delay,x=d.immediateRender,y=d.stagger,m=d.overwrite,_=d.keyframes,p=d.defaults,w=d.scrollTrigger,T=d.yoyoEase,C=a.parent||Zt,N=(Qn(n)||qw(n)?_a(n[0]):"length"in a)?[n]:ui(n),k,D,F,G,E,R,O,P;if(f._targets=N.length?_3(N):_c("GSAP target "+n+" not found. https://gsap.com",!Hr.nullTargetWarn)||[],f._ptLookup=[],f._overwrite=m,_||y||rf(g)||rf(b)){if(a=f.vars,k=f.timeline=new ar({data:"nested",defaults:p||{},targets:C&&C.data==="nested"?C.vars.targets:N}),k.kill(),k.parent=k._dp=ua(f),k._start=0,y||rf(g)||rf(b)){if(G=N.length,O=y&&tS(y),Yi(y))for(E in y)~vS.indexOf(E)&&(P||(P={}),P[E]=y[E]);for(D=0;D<G;D++)F=oh(a,mS),F.stagger=0,T&&(F.yoyoEase=T),P&&yo(F,P),R=N[D],F.duration=+tc(g,ua(f),D,R,N),F.delay=(+tc(b,ua(f),D,R,N)||0)-f._delay,!y&&G===1&&F.delay&&(f._delay=b=F.delay,f._start+=b,F.delay=0),k.to(R,F,O?O(D,R,N):0),k._ease=vt.none;k.duration()?g=b=0:f.timeline=0}else if(_){Jl(Gr(k.vars.defaults,{ease:"none"})),k._ease=Hs(_.ease||a.ease||"none");var j=0,Y,H,q;if(Qn(_))_.forEach(function(U){return k.to(N,U,">")}),k.duration();else{F={};for(E in _)E==="ease"||E==="easeEach"||QL(E,_[E],F,_.easeEach);for(E in F)for(Y=F[E].sort(function(U,X){return U.t-X.t}),j=0,D=0;D<Y.length;D++)H=Y[D],q={ease:H.e,duration:(H.t-(D?Y[D-1].t:0))/100*g},q[E]=H.v,k.to(N,q,j),j+=q.duration;k.duration()<g&&k.to({},{duration:g-k.duration()})}}g||f.duration(g=k.duration())}else f.timeline=0;return m===!0&&!d3&&(Za=ua(f),Zt.killTweensOf(N),Za=0),Oi(C,ua(f),c),a.reversed&&f.reverse(),a.paused&&f.paused(!0),(x||!g&&!_&&f._start===bn(C._time)&&vr(x)&&AL(ua(f))&&C.data!=="nested")&&(f._tTime=-Lt,f.render(Math.max(0,-b)||0)),w&&Kw(ua(f),w),f}var o=e.prototype;return o.render=function(a,c,u){var f=this._time,d=this._tDur,g=this._dur,b=a<0,x=a>d-Lt&&!b?d:a<Lt?0:a,y,m,_,p,w,T,C,N,k;if(!g)kL(this,a,c,u);else if(x!==this._tTime||!a||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==b||this._lazy){if(y=x,N=this.timeline,this._repeat){if(p=g+this._rDelay,this._repeat<-1&&b)return this.totalTime(p*100+a,c,u);if(y=bn(x%p),x===d?(_=this._repeat,y=g):(w=bn(x/p),_=~~w,_&&_===w?(y=g,_--):y>g&&(y=g)),T=this._yoyo&&_&1,T&&(k=this._yEase,y=g-y),w=bo(this._tTime,p),y===f&&!u&&this._initted&&_===w)return this._tTime=x,this;_!==w&&(N&&this._yEase&&hS(N,T),this.vars.repeatRefresh&&!T&&!this._lock&&y!==p&&this._initted&&(this._lock=u=1,this.render(bn(p*_),!0).invalidate()._lock=0))}if(!this._initted){if(Ww(this,b?a:y,u,c,x))return this._tTime=0,this;if(f!==this._time&&!(u&&this.vars.repeatRefresh&&_!==w))return this;if(g!==this._dur)return this.render(a,c,u)}if(this._tTime=x,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(k||this._ease)(y/g),this._from&&(this.ratio=C=1-C),!f&&x&&!c&&!w&&(Pr(this,"onStart"),this._tTime!==x))return this;for(m=this._pt;m;)m.r(C,m.d),m=m._next;N&&N.render(a<0?a:N._dur*N._ease(y/this._dur),c,u)||this._startAt&&(this._zTime=a),this._onUpdate&&!c&&(b&&om(this,a,c,u),Pr(this,"onUpdate")),this._repeat&&_!==w&&this.vars.onRepeat&&!c&&this.parent&&Pr(this,"onRepeat"),(x===this._tDur||!x)&&this._tTime===x&&(b&&!this._onUpdate&&om(this,a,!0,!0),(a||!g)&&(x===this._tDur&&this._ts>0||!x&&this._ts<0)&&rs(this,1),!c&&!(b&&!f)&&(x||f||T)&&(Pr(this,x===d?"onComplete":"onReverseComplete",!0),this._prom&&!(x<d&&this.timeScale()>0)&&this._prom()))}return this},o.targets=function(){return this._targets},o.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),t.prototype.invalidate.call(this,a)},o.resetTo=function(a,c,u,f,d){Sc||qr.wake(),this._ts||this.play();var g=Math.min(this._dur,(this._dp._time-this._start)*this._ts),b;return this._initted||S3(this,g),b=this._ease(g/this._dur),IL(this,a,c,u,f,b,g,d)?this.resetTo(a,c,u,f,1):(zh(this,0),this.parent||Zw(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},o.kill=function(a,c){if(c===void 0&&(c="all"),!a&&(!c||c==="all"))return this._lazy=this._pt=0,this.parent?Fl(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Pn),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(a,c,Za&&Za.vars.overwrite!==!0)._first||Fl(this),this.parent&&u!==this.timeline.totalDuration()&&_o(this,this._dur*this.timeline._tDur/u,0,1),this}var f=this._targets,d=a?ui(a):f,g=this._ptLookup,b=this._pt,x,y,m,_,p,w,T;if((!c||c==="all")&&CL(f,d))return c==="all"&&(this._pt=0),Fl(this);for(x=this._op=this._op||[],c!=="all"&&(Dn(c)&&(p={},mr(c,function(C){return p[C]=1}),c=p),c=ZL(f,c)),T=f.length;T--;)if(~d.indexOf(f[T])){y=g[T],c==="all"?(x[T]=c,_=y,m={}):(m=x[T]=x[T]||{},_=c);for(p in _)w=y&&y[p],w&&((!("kill"in w.d)||w.d.kill(p)===!0)&&Dh(this,w,"_pt"),delete y[p]),m!=="all"&&(m[p]=1)}return this._initted&&!this._pt&&b&&Fl(this),this},e.to=function(a,c){return new e(a,c,arguments[2])},e.from=function(a,c){return ec(1,arguments)},e.delayedCall=function(a,c,u,f){return new e(c,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:c,onReverseComplete:c,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:f})},e.fromTo=function(a,c,u){return ec(2,arguments)},e.set=function(a,c){return c.duration=0,c.repeatDelay||(c.repeat=0),new e(a,c)},e.killTweensOf=function(a,c,u){return Zt.killTweensOf(a,c,u)},e}(Tc);Gr(yn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});mr("staggerTo,staggerFrom,staggerFromTo",function(t){yn[t]=function(){var e=new ar,o=cm.call(arguments,0);return o.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,o)}});var T3=function(e,o,n){return e[o]=n},yS=function(e,o,n){return e[o](n)},KL=function(e,o,n,a){return e[o](a.fp,n)},WL=function(e,o,n){return e.setAttribute(o,n)},C3=function(e,o){return tn(e[o])?yS:p3(e[o])&&e.setAttribute?WL:T3},bS=function(e,o){return o.set(o.t,o.p,Math.round((o.s+o.c*e)*1e6)/1e6,o)},JL=function(e,o){return o.set(o.t,o.p,!!(o.s+o.c*e),o)},_S=function(e,o){var n=o._pt,a="";if(!e&&o.b)a=o.b;else if(e===1&&o.e)a=o.e;else{for(;n;)a=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+a,n=n._next;a+=o.c}o.set(o.t,o.p,a,o)},E3=function(e,o){for(var n=o._pt;n;)n.r(e,n.d),n=n._next},eq=function(e,o,n,a){for(var c=this._pt,u;c;)u=c._next,c.p===a&&c.modifier(e,o,n),c=u},tq=function(e){for(var o=this._pt,n,a;o;)a=o._next,o.p===e&&!o.op||o.op===e?Dh(this,o,"_pt"):o.dep||(n=1),o=a;return!n},nq=function(e,o,n,a){a.mSet(e,o,a.m.call(a.tween,n,a.mt),a)},xS=function(e){for(var o=e._pt,n,a,c,u;o;){for(n=o._next,a=c;a&&a.pr>o.pr;)a=a._next;(o._prev=a?a._prev:u)?o._prev._next=o:c=o,(o._next=a)?a._prev=o:u=o,o=n}e._pt=c},yr=function(){function t(o,n,a,c,u,f,d,g,b){this.t=n,this.s=c,this.c=u,this.p=a,this.r=f||bS,this.d=d||this,this.set=g||T3,this.pr=b||0,this._next=o,o&&(o._prev=this)}var e=t.prototype;return e.modifier=function(n,a,c){this.mSet=this.mSet||this.set,this.set=nq,this.m=n,this.mt=c,this.tween=a},t}();mr(b3+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return y3[t]=1});Fr.TweenMax=Fr.TweenLite=yn;Fr.TimelineLite=Fr.TimelineMax=ar;Zt=new ar({sortChildren:!1,defaults:mo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Hr.stringFilter=uS;var Ys=[],kf={},rq=[],H7=0,iq=0,fv=function(e){return(kf[e]||rq).map(function(o){return o()})},dm=function(){var e=Date.now(),o=[];e-H7>2&&(fv("matchMediaInit"),Ys.forEach(function(n){var a=n.queries,c=n.conditions,u,f,d,g;for(f in a)u=ki.matchMedia(a[f]).matches,u&&(d=1),u!==c[f]&&(c[f]=u,g=1);g&&(n.revert(),d&&o.push(n))}),fv("matchMediaRevert"),o.forEach(function(n){return n.onMatch(n,function(a){return n.add(null,a)})}),H7=e,fv("matchMedia"))},wS=function(){function t(o,n){this.selector=n&&um(n),this.data=[],this._r=[],this.isReverted=!1,this.id=iq++,o&&this.add(o)}var e=t.prototype;return e.add=function(n,a,c){tn(n)&&(c=a,a=n,n=tn);var u=this,f=function(){var g=Gt,b=u.selector,x;return g&&g!==u&&g.data.push(u),c&&(u.selector=um(c)),Gt=u,x=a.apply(u,arguments),tn(x)&&u._r.push(x),Gt=g,u.selector=b,u.isReverted=!1,x};return u.last=f,n===tn?f(u,function(d){return u.add(null,d)}):n?u[n]=f:f},e.ignore=function(n){var a=Gt;Gt=null,n(this),Gt=a},e.getTweens=function(){var n=[];return this.data.forEach(function(a){return a instanceof t?n.push.apply(n,a.getTweens()):a instanceof yn&&!(a.parent&&a.parent.data==="nested")&&n.push(a)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,a){var c=this;if(n?function(){for(var f=c.getTweens(),d=c.data.length,g;d--;)g=c.data[d],g.data==="isFlip"&&(g.revert(),g.getChildren(!0,!0,!1).forEach(function(b){return f.splice(f.indexOf(b),1)}));for(f.map(function(b){return{g:b._dur||b._delay||b._sat&&!b._sat.vars.immediateRender?b.globalTime(0):-1/0,t:b}}).sort(function(b,x){return x.g-b.g||-1/0}).forEach(function(b){return b.t.revert(n)}),d=c.data.length;d--;)g=c.data[d],g instanceof ar?g.data!=="nested"&&(g.scrollTrigger&&g.scrollTrigger.revert(),g.kill()):!(g instanceof yn)&&g.revert&&g.revert(n);c._r.forEach(function(b){return b(n,c)}),c.isReverted=!0}():this.data.forEach(function(f){return f.kill&&f.kill()}),this.clear(),a)for(var u=Ys.length;u--;)Ys[u].id===this.id&&Ys.splice(u,1)},e.revert=function(n){this.kill(n||{})},t}(),aq=function(){function t(o){this.contexts=[],this.scope=o,Gt&&Gt.data.push(this)}var e=t.prototype;return e.add=function(n,a,c){Yi(n)||(n={matches:n});var u=new wS(0,c||this.scope),f=u.conditions={},d,g,b;Gt&&!u.selector&&(u.selector=Gt.selector),this.contexts.push(u),a=u.add("onMatch",a),u.queries=n;for(g in n)g==="all"?b=1:(d=ki.matchMedia(n[g]),d&&(Ys.indexOf(u)<0&&Ys.push(u),(f[g]=d.matches)&&(b=1),d.addListener?d.addListener(dm):d.addEventListener("change",dm)));return b&&a(u,function(x){return u.add(null,x)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(a){return a.kill(n,!0)})},t}(),ch={registerPlugin:function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];o.forEach(function(a){return oS(a)})},timeline:function(e){return new ar(e)},getTweensOf:function(e,o){return Zt.getTweensOf(e,o)},getProperty:function(e,o,n,a){Dn(e)&&(e=ui(e)[0]);var c=js(e||{}).get,u=n?Iw:Vw;return n==="native"&&(n=""),e&&(o?u((Br[o]&&Br[o].get||c)(e,o,n,a)):function(f,d,g){return u((Br[f]&&Br[f].get||c)(e,f,d,g))})},quickSetter:function(e,o,n){if(e=ui(e),e.length>1){var a=e.map(function(b){return _r.quickSetter(b,o,n)}),c=a.length;return function(b){for(var x=c;x--;)a[x](b)}}e=e[0]||{};var u=Br[o],f=js(e),d=f.harness&&(f.harness.aliases||{})[o]||o,g=u?function(b){var x=new u;W0._pt=0,x.init(e,n?b+n:b,W0,0,[e]),x.render(1,x),W0._pt&&E3(1,W0)}:f.set(e,d);return u?g:function(b){return g(e,d,n?b+n:b,f,1)}},quickTo:function(e,o,n){var a,c=_r.to(e,Gr((a={},a[o]="+=0.1",a.paused=!0,a.stagger=0,a),n||{})),u=function(d,g,b){return c.resetTo(o,d,g,b)};return u.tween=c,u},isTweening:function(e){return Zt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Hs(e.ease,mo.ease)),B7(mo,e||{})},config:function(e){return B7(Hr,e||{})},registerEffect:function(e){var o=e.name,n=e.effect,a=e.plugins,c=e.defaults,u=e.extendTimeline;(a||"").split(",").forEach(function(f){return f&&!Br[f]&&!Fr[f]&&_c(o+" effect requires "+f+" plugin.")}),ov[o]=function(f,d,g){return n(ui(f),Gr(d||{},c),g)},u&&(ar.prototype[o]=function(f,d,g){return this.add(ov[o](f,Yi(d)?d:(g=d)&&{},this),g)})},registerEase:function(e,o){vt[e]=Hs(o)},parseEase:function(e,o){return arguments.length?Hs(e,o):vt},getById:function(e){return Zt.getById(e)},exportRoot:function(e,o){e===void 0&&(e={});var n=new ar(e),a,c;for(n.smoothChildTiming=vr(e.smoothChildTiming),Zt.remove(n),n._dp=0,n._time=n._tTime=Zt._time,a=Zt._first;a;)c=a._next,(o||!(!a._dur&&a instanceof yn&&a.vars.onComplete===a._targets[0]))&&Oi(n,a,a._start-a._delay),a=c;return Oi(Zt,n,0),n},context:function(e,o){return e?new wS(e,o):Gt},matchMedia:function(e){return new aq(e)},matchMediaRefresh:function(){return Ys.forEach(function(e){var o=e.conditions,n,a;for(a in o)o[a]&&(o[a]=!1,n=1);n&&e.revert()})||dm()},addEventListener:function(e,o){var n=kf[e]||(kf[e]=[]);~n.indexOf(o)||n.push(o)},removeEventListener:function(e,o){var n=kf[e],a=n&&n.indexOf(o);a>=0&&n.splice(a,1)},utils:{wrap:qL,wrapYoyo:jL,distribute:tS,random:rS,snap:nS,normalize:LL,getUnit:Vn,clamp:DL,splitColor:lS,toArray:ui,selector:um,mapRange:aS,pipe:zL,unitize:BL,interpolate:PL,shuffle:eS},install:Uw,effects:ov,ticker:qr,updateRoot:ar.updateRoot,plugins:Br,globalTimeline:Zt,core:{PropTween:yr,globals:Fw,Tween:yn,Timeline:ar,Animation:Tc,getCache:js,_removeLinkedListItem:Dh,reverting:function(){return Pn},context:function(e){return e&&Gt&&(Gt.data.push(e),e._ctx=Gt),Gt},suppressOverwrites:function(e){return d3=e}}};mr("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ch[t]=yn[t]});qr.add(ar.updateRoot);W0=ch.to({},{duration:0});var sq=function(e,o){for(var n=e._pt;n&&n.p!==o&&n.op!==o&&n.fp!==o;)n=n._next;return n},oq=function(e,o){var n=e._targets,a,c,u;for(a in o)for(c=n.length;c--;)u=e._ptLookup[c][a],u&&(u=u.d)&&(u._pt&&(u=sq(u,a)),u&&u.modifier&&u.modifier(o[a],e,n[c],a))},hv=function(e,o){return{name:e,headless:1,rawVars:1,init:function(a,c,u){u._onInit=function(f){var d,g;if(Dn(c)&&(d={},mr(c,function(b){return d[b]=1}),c=d),o){d={};for(g in c)d[g]=o(c[g]);c=d}oq(f,c)}}}},_r=ch.registerPlugin({name:"attr",init:function(e,o,n,a,c){var u,f,d;this.tween=n;for(u in o)d=e.getAttribute(u)||"",f=this.add(e,"setAttribute",(d||0)+"",o[u],a,c,0,0,u),f.op=u,f.b=d,this._props.push(u)},render:function(e,o){for(var n=o._pt;n;)Pn?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,o){for(var n=o.length;n--;)this.add(e,n,e[n]||0,o[n],0,0,0,0,0,1)}},hv("roundProps",fm),hv("modifiers"),hv("snap",nS))||ch;yn.version=ar.version=_r.version="3.13.0";Yw=1;g3()&&xo();vt.Power0;vt.Power1;vt.Power2;vt.Power3;vt.Power4;vt.Linear;vt.Quad;vt.Cubic;vt.Quart;vt.Quint;vt.Strong;vt.Elastic;vt.Back;vt.SteppedEase;vt.Bounce;vt.Sine;vt.Expo;vt.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Y7,Qa,ao,A3,Bs,U7,M3,lq=function(){return typeof window<"u"},xa={},Ns=180/Math.PI,so=Math.PI/180,U0=Math.atan2,F7=1e8,k3=/([A-Z])/g,cq=/(left|right|width|margin|padding|x)/i,uq=/[\s,\(]\S/,Li={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},pm=function(e,o){return o.set(o.t,o.p,Math.round((o.s+o.c*e)*1e4)/1e4+o.u,o)},fq=function(e,o){return o.set(o.t,o.p,e===1?o.e:Math.round((o.s+o.c*e)*1e4)/1e4+o.u,o)},hq=function(e,o){return o.set(o.t,o.p,e?Math.round((o.s+o.c*e)*1e4)/1e4+o.u:o.b,o)},dq=function(e,o){var n=o.s+o.c*e;o.set(o.t,o.p,~~(n+(n<0?-.5:.5))+o.u,o)},SS=function(e,o){return o.set(o.t,o.p,e?o.e:o.b,o)},TS=function(e,o){return o.set(o.t,o.p,e!==1?o.b:o.e,o)},pq=function(e,o,n){return e.style[o]=n},gq=function(e,o,n){return e.style.setProperty(o,n)},vq=function(e,o,n){return e._gsap[o]=n},mq=function(e,o,n){return e._gsap.scaleX=e._gsap.scaleY=n},yq=function(e,o,n,a,c){var u=e._gsap;u.scaleX=u.scaleY=n,u.renderTransform(c,u)},bq=function(e,o,n,a,c){var u=e._gsap;u[o]=n,u.renderTransform(c,u)},Qt="transform",br=Qt+"Origin",_q=function t(e,o){var n=this,a=this.target,c=a.style,u=a._gsap;if(e in xa&&c){if(this.tfm=this.tfm||{},e!=="transform")e=Li[e]||e,~e.indexOf(",")?e.split(",").forEach(function(f){return n.tfm[f]=fa(a,f)}):this.tfm[e]=u.x?u[e]:fa(a,e),e===br&&(this.tfm.zOrigin=u.zOrigin);else return Li.transform.split(",").forEach(function(f){return t.call(n,f,o)});if(this.props.indexOf(Qt)>=0)return;u.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(br,o,"")),e=Qt}(c||o)&&this.props.push(e,o,c[e])},CS=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},xq=function(){var e=this.props,o=this.target,n=o.style,a=o._gsap,c,u;for(c=0;c<e.length;c+=3)e[c+1]?e[c+1]===2?o[e[c]](e[c+2]):o[e[c]]=e[c+2]:e[c+2]?n[e[c]]=e[c+2]:n.removeProperty(e[c].substr(0,2)==="--"?e[c]:e[c].replace(k3,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)a[u]=this.tfm[u];a.svg&&(a.renderTransform(),o.setAttribute("data-svg-origin",this.svgo||"")),c=M3(),(!c||!c.isStart)&&!n[Qt]&&(CS(n),a.zOrigin&&n[br]&&(n[br]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},ES=function(e,o){var n={target:e,props:[],revert:xq,save:_q};return e._gsap||_r.core.getCache(e),o&&e.style&&e.nodeType&&o.split(",").forEach(function(a){return n.save(a)}),n},AS,gm=function(e,o){var n=Qa.createElementNS?Qa.createElementNS((o||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Qa.createElement(e);return n&&n.style?n:Qa.createElement(e)},fi=function t(e,o,n){var a=getComputedStyle(e);return a[o]||a.getPropertyValue(o.replace(k3,"-$1").toLowerCase())||a.getPropertyValue(o)||!n&&t(e,wo(o)||o,1)||""},G7="O,Moz,ms,Ms,Webkit".split(","),wo=function(e,o,n){var a=o||Bs,c=a.style,u=5;if(e in c&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(G7[u]+e in c););return u<0?null:(u===3?"ms":u>=0?G7[u]:"")+e},vm=function(){lq()&&window.document&&(Y7=window,Qa=Y7.document,ao=Qa.documentElement,Bs=gm("div")||{style:{}},gm("div"),Qt=wo(Qt),br=Qt+"Origin",Bs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",AS=!!wo("perspective"),M3=_r.core.reverting,A3=1)},$7=function(e){var o=e.ownerSVGElement,n=gm("svg",o&&o.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),c;a.style.display="block",n.appendChild(a),ao.appendChild(n);try{c=a.getBBox()}catch{}return n.removeChild(a),ao.removeChild(n),c},X7=function(e,o){for(var n=o.length;n--;)if(e.hasAttribute(o[n]))return e.getAttribute(o[n])},MS=function(e){var o,n;try{o=e.getBBox()}catch{o=$7(e),n=1}return o&&(o.width||o.height)||n||(o=$7(e)),o&&!o.width&&!o.x&&!o.y?{x:+X7(e,["x","cx","x1"])||0,y:+X7(e,["y","cy","y1"])||0,width:0,height:0}:o},kS=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&MS(e))},Zs=function(e,o){if(o){var n=e.style,a;o in xa&&o!==br&&(o=Qt),n.removeProperty?(a=o.substr(0,2),(a==="ms"||o.substr(0,6)==="webkit")&&(o="-"+o),n.removeProperty(a==="--"?o:o.replace(k3,"-$1").toLowerCase())):n.removeAttribute(o)}},Ka=function(e,o,n,a,c,u){var f=new yr(e._pt,o,n,0,1,u?TS:SS);return e._pt=f,f.b=a,f.e=c,e._props.push(n),f},V7={deg:1,rad:1,turn:1},wq={grid:1,flex:1},is=function t(e,o,n,a){var c=parseFloat(n)||0,u=(n+"").trim().substr((c+"").length)||"px",f=Bs.style,d=cq.test(o),g=e.tagName.toLowerCase()==="svg",b=(g?"client":"offset")+(d?"Width":"Height"),x=100,y=a==="px",m=a==="%",_,p,w,T;if(a===u||!c||V7[a]||V7[u])return c;if(u!=="px"&&!y&&(c=t(e,o,n,"px")),T=e.getCTM&&kS(e),(m||u==="%")&&(xa[o]||~o.indexOf("adius")))return _=T?e.getBBox()[d?"width":"height"]:e[b],sn(m?c/_*x:c/100*_);if(f[d?"width":"height"]=x+(y?u:a),p=a!=="rem"&&~o.indexOf("adius")||a==="em"&&e.appendChild&&!g?e:e.parentNode,T&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===Qa||!p.appendChild)&&(p=Qa.body),w=p._gsap,w&&m&&w.width&&d&&w.time===qr.time&&!w.uncache)return sn(c/w.width*x);if(m&&(o==="height"||o==="width")){var C=e.style[o];e.style[o]=x+a,_=e[b],C?e.style[o]=C:Zs(e,o)}else(m||u==="%")&&!wq[fi(p,"display")]&&(f.position=fi(e,"position")),p===e&&(f.position="static"),p.appendChild(Bs),_=Bs[b],p.removeChild(Bs),f.position="absolute";return d&&m&&(w=js(p),w.time=qr.time,w.width=p[b]),sn(y?_*c/x:_&&c?x/_*c:0)},fa=function(e,o,n,a){var c;return A3||vm(),o in Li&&o!=="transform"&&(o=Li[o],~o.indexOf(",")&&(o=o.split(",")[0])),xa[o]&&o!=="transform"?(c=Ec(e,a),c=o!=="transformOrigin"?c[o]:c.svg?c.origin:fh(fi(e,br))+" "+c.zOrigin+"px"):(c=e.style[o],(!c||c==="auto"||a||~(c+"").indexOf("calc("))&&(c=uh[o]&&uh[o](e,o,n)||fi(e,o)||$w(e,o)||(o==="opacity"?1:0))),n&&!~(c+"").trim().indexOf(" ")?is(e,o,c,n)+n:c},Sq=function(e,o,n,a){if(!n||n==="none"){var c=wo(o,e,1),u=c&&fi(e,c,1);u&&u!==n?(o=c,n=u):o==="borderColor"&&(n=fi(e,"borderTopColor"))}var f=new yr(this._pt,e.style,o,0,1,_S),d=0,g=0,b,x,y,m,_,p,w,T,C,N,k,D;if(f.b=n,f.e=a,n+="",a+="",a.substring(0,6)==="var(--"&&(a=fi(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(p=e.style[o],e.style[o]=a,a=fi(e,o)||a,p?e.style[o]=p:Zs(e,o)),b=[n,a],uS(b),n=b[0],a=b[1],y=n.match(K0)||[],D=a.match(K0)||[],D.length){for(;x=K0.exec(a);)w=x[0],C=a.substring(d,x.index),_?_=(_+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(_=1),w!==(p=y[g++]||"")&&(m=parseFloat(p)||0,k=p.substr((m+"").length),w.charAt(1)==="="&&(w=io(m,w)+k),T=parseFloat(w),N=w.substr((T+"").length),d=K0.lastIndex-N.length,N||(N=N||Hr.units[o]||k,d===a.length&&(a+=N,f.e+=N)),k!==N&&(m=is(e,o,p,N)||0),f._pt={_next:f._pt,p:C||g===1?C:",",s:m,c:T-m,m:_&&_<4||o==="zIndex"?Math.round:0});f.c=d<a.length?a.substring(d,a.length):""}else f.r=o==="display"&&a==="none"?TS:SS;return Pw.test(a)&&(f.e=0),this._pt=f,f},I7={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Tq=function(e){var o=e.split(" "),n=o[0],a=o[1]||"50%";return(n==="top"||n==="bottom"||a==="left"||a==="right")&&(e=n,n=a,a=e),o[0]=I7[n]||n,o[1]=I7[a]||a,o.join(" ")},Cq=function(e,o){if(o.tween&&o.tween._time===o.tween._dur){var n=o.t,a=n.style,c=o.u,u=n._gsap,f,d,g;if(c==="all"||c===!0)a.cssText="",d=1;else for(c=c.split(","),g=c.length;--g>-1;)f=c[g],xa[f]&&(d=1,f=f==="transformOrigin"?br:Qt),Zs(n,f);d&&(Zs(n,Qt),u&&(u.svg&&n.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",Ec(n,1),u.uncache=1,CS(a)))}},uh={clearProps:function(e,o,n,a,c){if(c.data!=="isFromStart"){var u=e._pt=new yr(e._pt,o,n,0,0,Cq);return u.u=a,u.pr=-10,u.tween=c,e._props.push(n),1}}},Cc=[1,0,0,1,0,0],NS={},RS=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Z7=function(e){var o=fi(e,Qt);return RS(o)?Cc:o.substr(7).match(jw).map(sn)},N3=function(e,o){var n=e._gsap||js(e),a=e.style,c=Z7(e),u,f,d,g;return n.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,c=[d.a,d.b,d.c,d.d,d.e,d.f],c.join(",")==="1,0,0,1,0,0"?Cc:c):(c===Cc&&!e.offsetParent&&e!==ao&&!n.svg&&(d=a.display,a.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(g=1,f=e.nextElementSibling,ao.appendChild(e)),c=Z7(e),d?a.display=d:Zs(e,"display"),g&&(f?u.insertBefore(e,f):u?u.appendChild(e):ao.removeChild(e))),o&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},mm=function(e,o,n,a,c,u){var f=e._gsap,d=c||N3(e,!0),g=f.xOrigin||0,b=f.yOrigin||0,x=f.xOffset||0,y=f.yOffset||0,m=d[0],_=d[1],p=d[2],w=d[3],T=d[4],C=d[5],N=o.split(" "),k=parseFloat(N[0])||0,D=parseFloat(N[1])||0,F,G,E,R;n?d!==Cc&&(G=m*w-_*p)&&(E=k*(w/G)+D*(-p/G)+(p*C-w*T)/G,R=k*(-_/G)+D*(m/G)-(m*C-_*T)/G,k=E,D=R):(F=MS(e),k=F.x+(~N[0].indexOf("%")?k/100*F.width:k),D=F.y+(~(N[1]||N[0]).indexOf("%")?D/100*F.height:D)),a||a!==!1&&f.smooth?(T=k-g,C=D-b,f.xOffset=x+(T*m+C*p)-T,f.yOffset=y+(T*_+C*w)-C):f.xOffset=f.yOffset=0,f.xOrigin=k,f.yOrigin=D,f.smooth=!!a,f.origin=o,f.originIsAbsolute=!!n,e.style[br]="0px 0px",u&&(Ka(u,f,"xOrigin",g,k),Ka(u,f,"yOrigin",b,D),Ka(u,f,"xOffset",x,f.xOffset),Ka(u,f,"yOffset",y,f.yOffset)),e.setAttribute("data-svg-origin",k+" "+D)},Ec=function(e,o){var n=e._gsap||new pS(e);if("x"in n&&!o&&!n.uncache)return n;var a=e.style,c=n.scaleX<0,u="px",f="deg",d=getComputedStyle(e),g=fi(e,br)||"0",b,x,y,m,_,p,w,T,C,N,k,D,F,G,E,R,O,P,j,Y,H,q,U,X,I,z,A,B,V,Q,W,K;return b=x=y=p=w=T=C=N=k=0,m=_=1,n.svg=!!(e.getCTM&&kS(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(a[Qt]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[Qt]!=="none"?d[Qt]:"")),a.scale=a.rotate=a.translate="none"),G=N3(e,n.svg),n.svg&&(n.uncache?(I=e.getBBox(),g=n.xOrigin-I.x+"px "+(n.yOrigin-I.y)+"px",X=""):X=!o&&e.getAttribute("data-svg-origin"),mm(e,X||g,!!X||n.originIsAbsolute,n.smooth!==!1,G)),D=n.xOrigin||0,F=n.yOrigin||0,G!==Cc&&(P=G[0],j=G[1],Y=G[2],H=G[3],b=q=G[4],x=U=G[5],G.length===6?(m=Math.sqrt(P*P+j*j),_=Math.sqrt(H*H+Y*Y),p=P||j?U0(j,P)*Ns:0,C=Y||H?U0(Y,H)*Ns+p:0,C&&(_*=Math.abs(Math.cos(C*so))),n.svg&&(b-=D-(D*P+F*Y),x-=F-(D*j+F*H))):(K=G[6],Q=G[7],A=G[8],B=G[9],V=G[10],W=G[11],b=G[12],x=G[13],y=G[14],E=U0(K,V),w=E*Ns,E&&(R=Math.cos(-E),O=Math.sin(-E),X=q*R+A*O,I=U*R+B*O,z=K*R+V*O,A=q*-O+A*R,B=U*-O+B*R,V=K*-O+V*R,W=Q*-O+W*R,q=X,U=I,K=z),E=U0(-Y,V),T=E*Ns,E&&(R=Math.cos(-E),O=Math.sin(-E),X=P*R-A*O,I=j*R-B*O,z=Y*R-V*O,W=H*O+W*R,P=X,j=I,Y=z),E=U0(j,P),p=E*Ns,E&&(R=Math.cos(E),O=Math.sin(E),X=P*R+j*O,I=q*R+U*O,j=j*R-P*O,U=U*R-q*O,P=X,q=I),w&&Math.abs(w)+Math.abs(p)>359.9&&(w=p=0,T=180-T),m=sn(Math.sqrt(P*P+j*j+Y*Y)),_=sn(Math.sqrt(U*U+K*K)),E=U0(q,U),C=Math.abs(E)>2e-4?E*Ns:0,k=W?1/(W<0?-W:W):0),n.svg&&(X=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!RS(fi(e,Qt)),X&&e.setAttribute("transform",X))),Math.abs(C)>90&&Math.abs(C)<270&&(c?(m*=-1,C+=p<=0?180:-180,p+=p<=0?180:-180):(_*=-1,C+=C<=0?180:-180)),o=o||n.uncache,n.x=b-((n.xPercent=b&&(!o&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-b)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+u,n.y=x-((n.yPercent=x&&(!o&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-x)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+u,n.z=y+u,n.scaleX=sn(m),n.scaleY=sn(_),n.rotation=sn(p)+f,n.rotationX=sn(w)+f,n.rotationY=sn(T)+f,n.skewX=C+f,n.skewY=N+f,n.transformPerspective=k+u,(n.zOrigin=parseFloat(g.split(" ")[2])||!o&&n.zOrigin||0)&&(a[br]=fh(g)),n.xOffset=n.yOffset=0,n.force3D=Hr.force3D,n.renderTransform=n.svg?Aq:AS?DS:Eq,n.uncache=0,n},fh=function(e){return(e=e.split(" "))[0]+" "+e[1]},dv=function(e,o,n){var a=Vn(o);return sn(parseFloat(o)+parseFloat(is(e,"x",n+"px",a)))+a},Eq=function(e,o){o.z="0px",o.rotationY=o.rotationX="0deg",o.force3D=0,DS(e,o)},As="0deg",Nl="0px",Ms=") ",DS=function(e,o){var n=o||this,a=n.xPercent,c=n.yPercent,u=n.x,f=n.y,d=n.z,g=n.rotation,b=n.rotationY,x=n.rotationX,y=n.skewX,m=n.skewY,_=n.scaleX,p=n.scaleY,w=n.transformPerspective,T=n.force3D,C=n.target,N=n.zOrigin,k="",D=T==="auto"&&e&&e!==1||T===!0;if(N&&(x!==As||b!==As)){var F=parseFloat(b)*so,G=Math.sin(F),E=Math.cos(F),R;F=parseFloat(x)*so,R=Math.cos(F),u=dv(C,u,G*R*-N),f=dv(C,f,-Math.sin(F)*-N),d=dv(C,d,E*R*-N+N)}w!==Nl&&(k+="perspective("+w+Ms),(a||c)&&(k+="translate("+a+"%, "+c+"%) "),(D||u!==Nl||f!==Nl||d!==Nl)&&(k+=d!==Nl||D?"translate3d("+u+", "+f+", "+d+") ":"translate("+u+", "+f+Ms),g!==As&&(k+="rotate("+g+Ms),b!==As&&(k+="rotateY("+b+Ms),x!==As&&(k+="rotateX("+x+Ms),(y!==As||m!==As)&&(k+="skew("+y+", "+m+Ms),(_!==1||p!==1)&&(k+="scale("+_+", "+p+Ms),C.style[Qt]=k||"translate(0, 0)"},Aq=function(e,o){var n=o||this,a=n.xPercent,c=n.yPercent,u=n.x,f=n.y,d=n.rotation,g=n.skewX,b=n.skewY,x=n.scaleX,y=n.scaleY,m=n.target,_=n.xOrigin,p=n.yOrigin,w=n.xOffset,T=n.yOffset,C=n.forceCSS,N=parseFloat(u),k=parseFloat(f),D,F,G,E,R;d=parseFloat(d),g=parseFloat(g),b=parseFloat(b),b&&(b=parseFloat(b),g+=b,d+=b),d||g?(d*=so,g*=so,D=Math.cos(d)*x,F=Math.sin(d)*x,G=Math.sin(d-g)*-y,E=Math.cos(d-g)*y,g&&(b*=so,R=Math.tan(g-b),R=Math.sqrt(1+R*R),G*=R,E*=R,b&&(R=Math.tan(b),R=Math.sqrt(1+R*R),D*=R,F*=R)),D=sn(D),F=sn(F),G=sn(G),E=sn(E)):(D=x,E=y,F=G=0),(N&&!~(u+"").indexOf("px")||k&&!~(f+"").indexOf("px"))&&(N=is(m,"x",u,"px"),k=is(m,"y",f,"px")),(_||p||w||T)&&(N=sn(N+_-(_*D+p*G)+w),k=sn(k+p-(_*F+p*E)+T)),(a||c)&&(R=m.getBBox(),N=sn(N+a/100*R.width),k=sn(k+c/100*R.height)),R="matrix("+D+","+F+","+G+","+E+","+N+","+k+")",m.setAttribute("transform",R),C&&(m.style[Qt]=R)},Mq=function(e,o,n,a,c){var u=360,f=Dn(c),d=parseFloat(c)*(f&&~c.indexOf("rad")?Ns:1),g=d-a,b=a+g+"deg",x,y;return f&&(x=c.split("_")[1],x==="short"&&(g%=u,g!==g%(u/2)&&(g+=g<0?u:-u)),x==="cw"&&g<0?g=(g+u*F7)%u-~~(g/u)*u:x==="ccw"&&g>0&&(g=(g-u*F7)%u-~~(g/u)*u)),e._pt=y=new yr(e._pt,o,n,a,g,fq),y.e=b,y.u="deg",e._props.push(n),y},Q7=function(e,o){for(var n in o)e[n]=o[n];return e},kq=function(e,o,n){var a=Q7({},n._gsap),c="perspective,force3D,transformOrigin,svgOrigin",u=n.style,f,d,g,b,x,y,m,_;a.svg?(g=n.getAttribute("transform"),n.setAttribute("transform",""),u[Qt]=o,f=Ec(n,1),Zs(n,Qt),n.setAttribute("transform",g)):(g=getComputedStyle(n)[Qt],u[Qt]=o,f=Ec(n,1),u[Qt]=g);for(d in xa)g=a[d],b=f[d],g!==b&&c.indexOf(d)<0&&(m=Vn(g),_=Vn(b),x=m!==_?is(n,d,g,_):parseFloat(g),y=parseFloat(b),e._pt=new yr(e._pt,f,d,x,y-x,pm),e._pt.u=_||0,e._props.push(d));Q7(f,a)};mr("padding,margin,Width,Radius",function(t,e){var o="Top",n="Right",a="Bottom",c="Left",u=(e<3?[o,n,a,c]:[o+c,o+n,a+n,a+c]).map(function(f){return e<2?t+f:"border"+f+t});uh[e>1?"border"+t:t]=function(f,d,g,b,x){var y,m;if(arguments.length<4)return y=u.map(function(_){return fa(f,_,g)}),m=y.join(" "),m.split(y[0]).length===5?y[0]:m;y=(b+"").split(" "),m={},u.forEach(function(_,p){return m[_]=y[p]=y[p]||y[(p-1)/2|0]}),f.init(d,m,x)}});var OS={name:"css",register:vm,targetTest:function(e){return e.style&&e.nodeType},init:function(e,o,n,a,c){var u=this._props,f=e.style,d=n.vars.startAt,g,b,x,y,m,_,p,w,T,C,N,k,D,F,G,E;A3||vm(),this.styles=this.styles||ES(e),E=this.styles.props,this.tween=n;for(p in o)if(p!=="autoRound"&&(b=o[p],!(Br[p]&&gS(p,o,n,a,e,c)))){if(m=typeof b,_=uh[p],m==="function"&&(b=b.call(n,a,e,c),m=typeof b),m==="string"&&~b.indexOf("random(")&&(b=wc(b)),_)_(this,e,p,b,n)&&(G=1);else if(p.substr(0,2)==="--")g=(getComputedStyle(e).getPropertyValue(p)+"").trim(),b+="",ts.lastIndex=0,ts.test(g)||(w=Vn(g),T=Vn(b)),T?w!==T&&(g=is(e,p,g,T)+T):w&&(b+=w),this.add(f,"setProperty",g,b,a,c,0,0,p),u.push(p),E.push(p,0,f[p]);else if(m!=="undefined"){if(d&&p in d?(g=typeof d[p]=="function"?d[p].call(n,a,e,c):d[p],Dn(g)&&~g.indexOf("random(")&&(g=wc(g)),Vn(g+"")||g==="auto"||(g+=Hr.units[p]||Vn(fa(e,p))||""),(g+"").charAt(1)==="="&&(g=fa(e,p))):g=fa(e,p),y=parseFloat(g),C=m==="string"&&b.charAt(1)==="="&&b.substr(0,2),C&&(b=b.substr(2)),x=parseFloat(b),p in Li&&(p==="autoAlpha"&&(y===1&&fa(e,"visibility")==="hidden"&&x&&(y=0),E.push("visibility",0,f.visibility),Ka(this,f,"visibility",y?"inherit":"hidden",x?"inherit":"hidden",!x)),p!=="scale"&&p!=="transform"&&(p=Li[p],~p.indexOf(",")&&(p=p.split(",")[0]))),N=p in xa,N){if(this.styles.save(p),m==="string"&&b.substring(0,6)==="var(--"&&(b=fi(e,b.substring(4,b.indexOf(")"))),x=parseFloat(b)),k||(D=e._gsap,D.renderTransform&&!o.parseTransform||Ec(e,o.parseTransform),F=o.smoothOrigin!==!1&&D.smooth,k=this._pt=new yr(this._pt,f,Qt,0,1,D.renderTransform,D,0,-1),k.dep=1),p==="scale")this._pt=new yr(this._pt,D,"scaleY",D.scaleY,(C?io(D.scaleY,C+x):x)-D.scaleY||0,pm),this._pt.u=0,u.push("scaleY",p),p+="X";else if(p==="transformOrigin"){E.push(br,0,f[br]),b=Tq(b),D.svg?mm(e,b,0,F,0,this):(T=parseFloat(b.split(" ")[2])||0,T!==D.zOrigin&&Ka(this,D,"zOrigin",D.zOrigin,T),Ka(this,f,p,fh(g),fh(b)));continue}else if(p==="svgOrigin"){mm(e,b,1,F,0,this);continue}else if(p in NS){Mq(this,D,p,y,C?io(y,C+b):b);continue}else if(p==="smoothOrigin"){Ka(this,D,"smooth",D.smooth,b);continue}else if(p==="force3D"){D[p]=b;continue}else if(p==="transform"){kq(this,b,e);continue}}else p in f||(p=wo(p)||p);if(N||(x||x===0)&&(y||y===0)&&!uq.test(b)&&p in f)w=(g+"").substr((y+"").length),x||(x=0),T=Vn(b)||(p in Hr.units?Hr.units[p]:w),w!==T&&(y=is(e,p,g,T)),this._pt=new yr(this._pt,N?D:f,p,y,(C?io(y,C+x):x)-y,!N&&(T==="px"||p==="zIndex")&&o.autoRound!==!1?dq:pm),this._pt.u=T||0,w!==T&&T!=="%"&&(this._pt.b=g,this._pt.r=hq);else if(p in f)Sq.call(this,e,p,g,C?C+b:b);else if(p in e)this.add(e,p,g||e[p],C?C+b:b,a,c);else if(p!=="parseTransform"){m3(p,b);continue}N||(p in f?E.push(p,0,f[p]):typeof e[p]=="function"?E.push(p,2,e[p]()):E.push(p,1,g||e[p])),u.push(p)}}G&&xS(this)},render:function(e,o){if(o.tween._time||!M3())for(var n=o._pt;n;)n.r(e,n.d),n=n._next;else o.styles.revert()},get:fa,aliases:Li,getSetter:function(e,o,n){var a=Li[o];return a&&a.indexOf(",")<0&&(o=a),o in xa&&o!==br&&(e._gsap.x||fa(e,"x"))?n&&U7===n?o==="scale"?mq:vq:(U7=n||{})&&(o==="scale"?yq:bq):e.style&&!p3(e.style[o])?pq:~o.indexOf("-")?gq:C3(e,o)},core:{_removeProperty:Zs,_getMatrix:N3}};_r.utils.checkPrefix=wo;_r.core.getStyleSaver=ES;(function(t,e,o,n){var a=mr(t+","+e+","+o,function(c){xa[c]=1});mr(e,function(c){Hr.units[c]="deg",NS[c]=1}),Li[a[13]]=t+","+e,mr(n,function(c){var u=c.split(":");Li[u[1]]=a[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");mr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Hr.units[t]="px"});_r.registerPlugin(OS);var hh=_r.registerPlugin(OS)||_r;hh.core.Tween;function Nq(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rq(t,e,o){return e&&Nq(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var jn,Nf,jr,Wa,Ja,oo,zS,Rs,nc,BS,ga,vi,LS,qS=function(){return jn||typeof window<"u"&&(jn=window.gsap)&&jn.registerPlugin&&jn},jS=1,J0=[],ht=[],Hi=[],rc=Date.now,ym=function(e,o){return o},Dq=function(){var e=nc.core,o=e.bridge||{},n=e._scrollers,a=e._proxies;n.push.apply(n,ht),a.push.apply(a,Hi),ht=n,Hi=a,ym=function(u,f){return o[u](f)}},ns=function(e,o){return~Hi.indexOf(e)&&Hi[Hi.indexOf(e)+1][o]},ic=function(e){return!!~BS.indexOf(e)},er=function(e,o,n,a,c){return e.addEventListener(o,n,{passive:a!==!1,capture:!!c})},Jn=function(e,o,n,a){return e.removeEventListener(o,n,!!a)},af="scrollLeft",sf="scrollTop",bm=function(){return ga&&ga.isPressed||ht.cache++},dh=function(e,o){var n=function a(c){if(c||c===0){jS&&(jr.history.scrollRestoration="manual");var u=ga&&ga.isPressed;c=a.v=Math.round(c)||(ga&&ga.iOS?1:0),e(c),a.cacheID=ht.cache,u&&ym("ss",c)}else(o||ht.cache!==a.cacheID||ym("ref"))&&(a.cacheID=ht.cache,a.v=e());return a.v+a.offset};return n.offset=0,e&&n},sr={s:af,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:dh(function(t){return arguments.length?jr.scrollTo(t,Tn.sc()):jr.pageXOffset||Wa[af]||Ja[af]||oo[af]||0})},Tn={s:sf,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:sr,sc:dh(function(t){return arguments.length?jr.scrollTo(sr.sc(),t):jr.pageYOffset||Wa[sf]||Ja[sf]||oo[sf]||0})},pr=function(e,o){return(o&&o._ctx&&o._ctx.selector||jn.utils.toArray)(e)[0]||(typeof e=="string"&&jn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Oq=function(e,o){for(var n=o.length;n--;)if(o[n]===e||o[n].contains(e))return!0;return!1},as=function(e,o){var n=o.s,a=o.sc;ic(e)&&(e=Wa.scrollingElement||Ja);var c=ht.indexOf(e),u=a===Tn.sc?1:2;!~c&&(c=ht.push(e)-1),ht[c+u]||er(e,"scroll",bm);var f=ht[c+u],d=f||(ht[c+u]=dh(ns(e,n),!0)||(ic(e)?a:dh(function(g){return arguments.length?e[n]=g:e[n]})));return d.target=e,f||(d.smooth=jn.getProperty(e,"scrollBehavior")==="smooth"),d},_m=function(e,o,n){var a=e,c=e,u=rc(),f=u,d=o||50,g=Math.max(500,d*3),b=function(_,p){var w=rc();p||w-u>d?(c=a,a=_,f=u,u=w):n?a+=_:a=c+(_-c)/(w-f)*(u-f)},x=function(){c=a=n?0:a,f=u=0},y=function(_){var p=f,w=c,T=rc();return(_||_===0)&&_!==a&&b(_),u===f||T-f>g?0:(a+(n?w:-w))/((n?T:u)-p)*1e3};return{update:b,reset:x,getVelocity:y}},Rl=function(e,o){return o&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},K7=function(e){var o=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(o)>=Math.abs(n)?o:n},PS=function(){nc=jn.core.globals().ScrollTrigger,nc&&nc.core&&Dq()},HS=function(e){return jn=e||qS(),!Nf&&jn&&typeof document<"u"&&document.body&&(jr=window,Wa=document,Ja=Wa.documentElement,oo=Wa.body,BS=[jr,Wa,Ja,oo],jn.utils.clamp,LS=jn.core.context||function(){},Rs="onpointerenter"in oo?"pointer":"mouse",zS=cn.isTouch=jr.matchMedia&&jr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in jr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,vi=cn.eventTypes=("ontouchstart"in Ja?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ja?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return jS=0},500),PS(),Nf=1),Nf};sr.op=Tn;ht.cache=0;var cn=function(){function t(o){this.init(o)}var e=t.prototype;return e.init=function(n){Nf||HS(jn)||console.warn("Please gsap.registerPlugin(Observer)"),nc||PS();var a=n.tolerance,c=n.dragMinimum,u=n.type,f=n.target,d=n.lineHeight,g=n.debounce,b=n.preventDefault,x=n.onStop,y=n.onStopDelay,m=n.ignore,_=n.wheelSpeed,p=n.event,w=n.onDragStart,T=n.onDragEnd,C=n.onDrag,N=n.onPress,k=n.onRelease,D=n.onRight,F=n.onLeft,G=n.onUp,E=n.onDown,R=n.onChangeX,O=n.onChangeY,P=n.onChange,j=n.onToggleX,Y=n.onToggleY,H=n.onHover,q=n.onHoverEnd,U=n.onMove,X=n.ignoreCheck,I=n.isNormalizer,z=n.onGestureStart,A=n.onGestureEnd,B=n.onWheel,V=n.onEnable,Q=n.onDisable,W=n.onClick,K=n.scrollSpeed,re=n.capture,he=n.allowClicks,ee=n.lockAxis,pe=n.onLockAxis;this.target=f=pr(f)||Ja,this.vars=n,m&&(m=jn.utils.toArray(m)),a=a||1e-9,c=c||0,_=_||1,K=K||1,u=u||"wheel,touch,pointer",g=g!==!1,d||(d=parseFloat(jr.getComputedStyle(oo).lineHeight)||22);var Ce,le,se,fe,ae,Se,we,te=this,ke=0,Be=0,je=n.passive||!b&&n.passive!==!1,Pe=as(f,sr),ce=as(f,Tn),ye=Pe(),ne=ce(),de=~u.indexOf("touch")&&!~u.indexOf("pointer")&&vi[0]==="pointerdown",xe=ic(f),Te=f.ownerDocument||Wa,Le=[0,0,0],ze=[0,0,0],De=0,He=function(){return De=rc()},Xe=function(Me,Ye){return(te.event=Me)&&m&&Oq(Me.target,m)||Ye&&de&&Me.pointerType!=="touch"||X&&X(Me,Ye)},Ae=function(){te._vx.reset(),te._vy.reset(),le.pause(),x&&x(te)},qe=function(){var Me=te.deltaX=K7(Le),Ye=te.deltaY=K7(ze),Oe=Math.abs(Me)>=a,Ze=Math.abs(Ye)>=a;P&&(Oe||Ze)&&P(te,Me,Ye,Le,ze),Oe&&(D&&te.deltaX>0&&D(te),F&&te.deltaX<0&&F(te),R&&R(te),j&&te.deltaX<0!=ke<0&&j(te),ke=te.deltaX,Le[0]=Le[1]=Le[2]=0),Ze&&(E&&te.deltaY>0&&E(te),G&&te.deltaY<0&&G(te),O&&O(te),Y&&te.deltaY<0!=Be<0&&Y(te),Be=te.deltaY,ze[0]=ze[1]=ze[2]=0),(fe||se)&&(U&&U(te),se&&(w&&se===1&&w(te),C&&C(te),se=0),fe=!1),Se&&!(Se=!1)&&pe&&pe(te),ae&&(B(te),ae=!1),Ce=0},Ue=function(Me,Ye,Oe){Le[Oe]+=Me,ze[Oe]+=Ye,te._vx.update(Me),te._vy.update(Ye),g?Ce||(Ce=requestAnimationFrame(qe)):qe()},ct=function(Me,Ye){ee&&!we&&(te.axis=we=Math.abs(Me)>Math.abs(Ye)?"x":"y",Se=!0),we!=="y"&&(Le[2]+=Me,te._vx.update(Me,!0)),we!=="x"&&(ze[2]+=Ye,te._vy.update(Ye,!0)),g?Ce||(Ce=requestAnimationFrame(qe)):qe()},Ve=function(Me){if(!Xe(Me,1)){Me=Rl(Me,b);var Ye=Me.clientX,Oe=Me.clientY,Ze=Ye-te.x,Qe=Oe-te.y,tt=te.isDragging;te.x=Ye,te.y=Oe,(tt||(Ze||Qe)&&(Math.abs(te.startX-Ye)>=c||Math.abs(te.startY-Oe)>=c))&&(se=tt?2:1,tt||(te.isDragging=!0),ct(Ze,Qe))}},Fe=te.onPress=function(We){Xe(We,1)||We&&We.button||(te.axis=we=null,le.pause(),te.isPressed=!0,We=Rl(We),ke=Be=0,te.startX=te.x=We.clientX,te.startY=te.y=We.clientY,te._vx.reset(),te._vy.reset(),er(I?f:Te,vi[1],Ve,je,!0),te.deltaX=te.deltaY=0,N&&N(te))},Ie=te.onRelease=function(We){if(!Xe(We,1)){Jn(I?f:Te,vi[1],Ve,!0);var Me=!isNaN(te.y-te.startY),Ye=te.isDragging,Oe=Ye&&(Math.abs(te.x-te.startX)>3||Math.abs(te.y-te.startY)>3),Ze=Rl(We);!Oe&&Me&&(te._vx.reset(),te._vy.reset(),b&&he&&jn.delayedCall(.08,function(){if(rc()-De>300&&!We.defaultPrevented){if(We.target.click)We.target.click();else if(Te.createEvent){var Qe=Te.createEvent("MouseEvents");Qe.initMouseEvent("click",!0,!0,jr,1,Ze.screenX,Ze.screenY,Ze.clientX,Ze.clientY,!1,!1,!1,!1,0,null),We.target.dispatchEvent(Qe)}}})),te.isDragging=te.isGesturing=te.isPressed=!1,x&&Ye&&!I&&le.restart(!0),se&&qe(),T&&Ye&&T(te),k&&k(te,Oe)}},mt=function(Me){return Me.touches&&Me.touches.length>1&&(te.isGesturing=!0)&&z(Me,te.isDragging)},at=function(){return(te.isGesturing=!1)||A(te)},wt=function(Me){if(!Xe(Me)){var Ye=Pe(),Oe=ce();Ue((Ye-ye)*K,(Oe-ne)*K,1),ye=Ye,ne=Oe,x&&le.restart(!0)}},yt=function(Me){if(!Xe(Me)){Me=Rl(Me,b),B&&(ae=!0);var Ye=(Me.deltaMode===1?d:Me.deltaMode===2?jr.innerHeight:1)*_;Ue(Me.deltaX*Ye,Me.deltaY*Ye,0),x&&!I&&le.restart(!0)}},un=function(Me){if(!Xe(Me)){var Ye=Me.clientX,Oe=Me.clientY,Ze=Ye-te.x,Qe=Oe-te.y;te.x=Ye,te.y=Oe,fe=!0,x&&le.restart(!0),(Ze||Qe)&&ct(Ze,Qe)}},Xt=function(Me){te.event=Me,H(te)},fn=function(Me){te.event=Me,q(te)},Cn=function(Me){return Xe(Me)||Rl(Me,b)&&W(te)};le=te._dc=jn.delayedCall(y||.25,Ae).pause(),te.deltaX=te.deltaY=0,te._vx=_m(0,50,!0),te._vy=_m(0,50,!0),te.scrollX=Pe,te.scrollY=ce,te.isDragging=te.isGesturing=te.isPressed=!1,LS(this),te.enable=function(We){return te.isEnabled||(er(xe?Te:f,"scroll",bm),u.indexOf("scroll")>=0&&er(xe?Te:f,"scroll",wt,je,re),u.indexOf("wheel")>=0&&er(f,"wheel",yt,je,re),(u.indexOf("touch")>=0&&zS||u.indexOf("pointer")>=0)&&(er(f,vi[0],Fe,je,re),er(Te,vi[2],Ie),er(Te,vi[3],Ie),he&&er(f,"click",He,!0,!0),W&&er(f,"click",Cn),z&&er(Te,"gesturestart",mt),A&&er(Te,"gestureend",at),H&&er(f,Rs+"enter",Xt),q&&er(f,Rs+"leave",fn),U&&er(f,Rs+"move",un)),te.isEnabled=!0,te.isDragging=te.isGesturing=te.isPressed=fe=se=!1,te._vx.reset(),te._vy.reset(),ye=Pe(),ne=ce(),We&&We.type&&Fe(We),V&&V(te)),te},te.disable=function(){te.isEnabled&&(J0.filter(function(We){return We!==te&&ic(We.target)}).length||Jn(xe?Te:f,"scroll",bm),te.isPressed&&(te._vx.reset(),te._vy.reset(),Jn(I?f:Te,vi[1],Ve,!0)),Jn(xe?Te:f,"scroll",wt,re),Jn(f,"wheel",yt,re),Jn(f,vi[0],Fe,re),Jn(Te,vi[2],Ie),Jn(Te,vi[3],Ie),Jn(f,"click",He,!0),Jn(f,"click",Cn),Jn(Te,"gesturestart",mt),Jn(Te,"gestureend",at),Jn(f,Rs+"enter",Xt),Jn(f,Rs+"leave",fn),Jn(f,Rs+"move",un),te.isEnabled=te.isPressed=te.isDragging=!1,Q&&Q(te))},te.kill=te.revert=function(){te.disable();var We=J0.indexOf(te);We>=0&&J0.splice(We,1),ga===te&&(ga=0)},J0.push(te),I&&ic(f)&&(ga=te),te.enable(p)},Rq(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();cn.version="3.13.0";cn.create=function(t){return new cn(t)};cn.register=HS;cn.getAll=function(){return J0.slice()};cn.getById=function(t){return J0.filter(function(e){return e.vars.id===t})[0]};qS()&&jn.registerPlugin(cn);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ge,X0,ft,Pt,Lr,Mt,R3,ph,Ac,ac,$l,of,$n,Bh,xm,nr,W7,J7,V0,YS,pv,US,tr,wm,FS,GS,Ia,Sm,D3,lo,O3,gh,Tm,gv,lf=1,Xn=Date.now,vv=Xn(),hi=0,Xl=0,e_=function(e,o,n){var a=zr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+o+"Clamp"]=a,a?e.substr(6,e.length-7):e},t_=function(e,o){return o&&(!zr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},zq=function t(){return Xl&&requestAnimationFrame(t)},n_=function(){return Bh=1},r_=function(){return Bh=0},Ni=function(e){return e},Vl=function(e){return Math.round(e*1e5)/1e5||0},$S=function(){return typeof window<"u"},XS=function(){return Ge||$S()&&(Ge=window.gsap)&&Ge.registerPlugin&&Ge},Qs=function(e){return!!~R3.indexOf(e)},VS=function(e){return(e==="Height"?O3:ft["inner"+e])||Lr["client"+e]||Mt["client"+e]},IS=function(e){return ns(e,"getBoundingClientRect")||(Qs(e)?function(){return Bf.width=ft.innerWidth,Bf.height=O3,Bf}:function(){return da(e)})},Bq=function(e,o,n){var a=n.d,c=n.d2,u=n.a;return(u=ns(e,"getBoundingClientRect"))?function(){return u()[a]}:function(){return(o?VS(c):e["client"+c])||0}},Lq=function(e,o){return!o||~Hi.indexOf(e)?IS(e):function(){return Bf}},qi=function(e,o){var n=o.s,a=o.d2,c=o.d,u=o.a;return Math.max(0,(n="scroll"+a)&&(u=ns(e,n))?u()-IS(e)()[c]:Qs(e)?(Lr[n]||Mt[n])-VS(a):e[n]-e["offset"+a])},cf=function(e,o){for(var n=0;n<V0.length;n+=3)(!o||~o.indexOf(V0[n+1]))&&e(V0[n],V0[n+1],V0[n+2])},zr=function(e){return typeof e=="string"},In=function(e){return typeof e=="function"},Il=function(e){return typeof e=="number"},Ds=function(e){return typeof e=="object"},Dl=function(e,o,n){return e&&e.progress(o?0:1)&&n&&e.pause()},mv=function(e,o){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return o(e)}):o(e);n&&n.totalTime&&(e.callbackAnimation=n)}},F0=Math.abs,ZS="left",QS="top",z3="right",B3="bottom",Us="width",Fs="height",sc="Right",oc="Left",lc="Top",cc="Bottom",vn="padding",ii="margin",So="Width",L3="Height",Sn="px",ai=function(e){return ft.getComputedStyle(e)},qq=function(e){var o=ai(e).position;e.style.position=o==="absolute"||o==="fixed"?o:"relative"},i_=function(e,o){for(var n in o)n in e||(e[n]=o[n]);return e},da=function(e,o){var n=o&&ai(e)[xm]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ge.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),a=e.getBoundingClientRect();return n&&n.progress(0).kill(),a},vh=function(e,o){var n=o.d2;return e["offset"+n]||e["client"+n]||0},KS=function(e){var o=[],n=e.labels,a=e.duration(),c;for(c in n)o.push(n[c]/a);return o},jq=function(e){return function(o){return Ge.utils.snap(KS(e),o)}},q3=function(e){var o=Ge.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(a,c){return a-c});return n?function(a,c,u){u===void 0&&(u=.001);var f;if(!c)return o(a);if(c>0){for(a-=u,f=0;f<n.length;f++)if(n[f]>=a)return n[f];return n[f-1]}else for(f=n.length,a+=u;f--;)if(n[f]<=a)return n[f];return n[0]}:function(a,c,u){u===void 0&&(u=.001);var f=o(a);return!c||Math.abs(f-a)<u||f-a<0==c<0?f:o(c<0?a-e:a+e)}},Pq=function(e){return function(o,n){return q3(KS(e))(o,n.direction)}},uf=function(e,o,n,a){return n.split(",").forEach(function(c){return e(o,c,a)})},Nn=function(e,o,n,a,c){return e.addEventListener(o,n,{passive:!a,capture:!!c})},kn=function(e,o,n,a){return e.removeEventListener(o,n,!!a)},ff=function(e,o,n){n=n&&n.wheelHandler,n&&(e(o,"wheel",n),e(o,"touchmove",n))},a_={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},hf={toggleActions:"play",anticipatePin:0},mh={top:0,left:0,center:.5,bottom:1,right:1},Rf=function(e,o){if(zr(e)){var n=e.indexOf("="),a=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(a*=o/100),e=e.substr(0,n-1)),e=a+(e in mh?mh[e]*o:~e.indexOf("%")?parseFloat(e)*o/100:parseFloat(e)||0)}return e},df=function(e,o,n,a,c,u,f,d){var g=c.startColor,b=c.endColor,x=c.fontSize,y=c.indent,m=c.fontWeight,_=Pt.createElement("div"),p=Qs(n)||ns(n,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,T=p?Mt:n,C=e.indexOf("start")!==-1,N=C?g:b,k="border-color:"+N+";font-size:"+x+";color:"+N+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return k+="position:"+((w||d)&&p?"fixed;":"absolute;"),(w||d||!p)&&(k+=(a===Tn?z3:B3)+":"+(u+parseFloat(y))+"px;"),f&&(k+="box-sizing:border-box;text-align:left;width:"+f.offsetWidth+"px;"),_._isStart=C,_.setAttribute("class","gsap-marker-"+e+(o?" marker-"+o:"")),_.style.cssText=k,_.innerText=o||o===0?e+"-"+o:e,T.children[0]?T.insertBefore(_,T.children[0]):T.appendChild(_),_._offset=_["offset"+a.op.d2],Df(_,0,a,C),_},Df=function(e,o,n,a){var c={display:"block"},u=n[a?"os2":"p2"],f=n[a?"p2":"os2"];e._isFlipped=a,c[n.a+"Percent"]=a?-100:0,c[n.a]=a?"1px":0,c["border"+u+So]=1,c["border"+f+So]=0,c[n.p]=o+"px",Ge.set(e,c)},ot=[],Cm={},Mc,s_=function(){return Xn()-hi>34&&(Mc||(Mc=requestAnimationFrame(ma)))},G0=function(){(!tr||!tr.isPressed||tr.startX>Mt.clientWidth)&&(ht.cache++,tr?Mc||(Mc=requestAnimationFrame(ma)):ma(),hi||Ws("scrollStart"),hi=Xn())},yv=function(){GS=ft.innerWidth,FS=ft.innerHeight},Zl=function(e){ht.cache++,(e===!0||!$n&&!US&&!Pt.fullscreenElement&&!Pt.webkitFullscreenElement&&(!wm||GS!==ft.innerWidth||Math.abs(ft.innerHeight-FS)>ft.innerHeight*.25))&&ph.restart(!0)},Ks={},Hq=[],WS=function t(){return kn(lt,"scrollEnd",t)||Ls(!0)},Ws=function(e){return Ks[e]&&Ks[e].map(function(o){return o()})||Hq},Or=[],JS=function(e){for(var o=0;o<Or.length;o+=5)(!e||Or[o+4]&&Or[o+4].query===e)&&(Or[o].style.cssText=Or[o+1],Or[o].getBBox&&Or[o].setAttribute("transform",Or[o+2]||""),Or[o+3].uncache=1)},j3=function(e,o){var n;for(nr=0;nr<ot.length;nr++)n=ot[nr],n&&(!o||n._ctx===o)&&(e?n.kill(1):n.revert(!0,!0));gh=!0,o&&JS(o),o||Ws("revert")},eT=function(e,o){ht.cache++,(o||!rr)&&ht.forEach(function(n){return In(n)&&n.cacheID++&&(n.rec=0)}),zr(e)&&(ft.history.scrollRestoration=D3=e)},rr,Gs=0,o_,Yq=function(){if(o_!==Gs){var e=o_=Gs;requestAnimationFrame(function(){return e===Gs&&Ls(!0)})}},tT=function(){Mt.appendChild(lo),O3=!tr&&lo.offsetHeight||ft.innerHeight,Mt.removeChild(lo)},l_=function(e){return Ac(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(o){return o.style.display=e?"none":"block"})},Ls=function(e,o){if(Lr=Pt.documentElement,Mt=Pt.body,R3=[ft,Pt,Lr,Mt],hi&&!e&&!gh){Nn(lt,"scrollEnd",WS);return}tT(),rr=lt.isRefreshing=!0,ht.forEach(function(a){return In(a)&&++a.cacheID&&(a.rec=a())});var n=Ws("refreshInit");YS&&lt.sort(),o||j3(),ht.forEach(function(a){In(a)&&(a.smooth&&(a.target.style.scrollBehavior="auto"),a(0))}),ot.slice(0).forEach(function(a){return a.refresh()}),gh=!1,ot.forEach(function(a){if(a._subPinOffset&&a.pin){var c=a.vars.horizontal?"offsetWidth":"offsetHeight",u=a.pin[c];a.revert(!0,1),a.adjustPinSpacing(a.pin[c]-u),a.refresh()}}),Tm=1,l_(!0),ot.forEach(function(a){var c=qi(a.scroller,a._dir),u=a.vars.end==="max"||a._endClamp&&a.end>c,f=a._startClamp&&a.start>=c;(u||f)&&a.setPositions(f?c-1:a.start,u?Math.max(f?c:a.start+1,c):a.end,!0)}),l_(!1),Tm=0,n.forEach(function(a){return a&&a.render&&a.render(-1)}),ht.forEach(function(a){In(a)&&(a.smooth&&requestAnimationFrame(function(){return a.target.style.scrollBehavior="smooth"}),a.rec&&a(a.rec))}),eT(D3,1),ph.pause(),Gs++,rr=2,ma(2),ot.forEach(function(a){return In(a.vars.onRefresh)&&a.vars.onRefresh(a)}),rr=lt.isRefreshing=!1,Ws("refresh")},Em=0,Of=1,uc,ma=function(e){if(e===2||!rr&&!gh){lt.isUpdating=!0,uc&&uc.update(0);var o=ot.length,n=Xn(),a=n-vv>=50,c=o&&ot[0].scroll();if(Of=Em>c?-1:1,rr||(Em=c),a&&(hi&&!Bh&&n-hi>200&&(hi=0,Ws("scrollEnd")),$l=vv,vv=n),Of<0){for(nr=o;nr-- >0;)ot[nr]&&ot[nr].update(0,a);Of=1}else for(nr=0;nr<o;nr++)ot[nr]&&ot[nr].update(0,a);lt.isUpdating=!1}Mc=0},Am=[ZS,QS,B3,z3,ii+cc,ii+sc,ii+lc,ii+oc,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],zf=Am.concat([Us,Fs,"boxSizing","max"+So,"max"+L3,"position",ii,vn,vn+lc,vn+sc,vn+cc,vn+oc]),Uq=function(e,o,n){co(n);var a=e._gsap;if(a.spacerIsNative)co(a.spacerState);else if(e._gsap.swappedIn){var c=o.parentNode;c&&(c.insertBefore(e,o),c.removeChild(o))}e._gsap.swappedIn=!1},bv=function(e,o,n,a){if(!e._gsap.swappedIn){for(var c=Am.length,u=o.style,f=e.style,d;c--;)d=Am[c],u[d]=n[d];u.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(u.display="inline-block"),f[B3]=f[z3]="auto",u.flexBasis=n.flexBasis||"auto",u.overflow="visible",u.boxSizing="border-box",u[Us]=vh(e,sr)+Sn,u[Fs]=vh(e,Tn)+Sn,u[vn]=f[ii]=f[QS]=f[ZS]="0",co(a),f[Us]=f["max"+So]=n[Us],f[Fs]=f["max"+L3]=n[Fs],f[vn]=n[vn],e.parentNode!==o&&(e.parentNode.insertBefore(o,e),o.appendChild(e)),e._gsap.swappedIn=!0}},Fq=/([A-Z])/g,co=function(e){if(e){var o=e.t.style,n=e.length,a=0,c,u;for((e.t._gsap||Ge.core.getCache(e.t)).uncache=1;a<n;a+=2)u=e[a+1],c=e[a],u?o[c]=u:o[c]&&o.removeProperty(c.replace(Fq,"-$1").toLowerCase())}},pf=function(e){for(var o=zf.length,n=e.style,a=[],c=0;c<o;c++)a.push(zf[c],n[zf[c]]);return a.t=e,a},Gq=function(e,o,n){for(var a=[],c=e.length,u=n?8:0,f;u<c;u+=2)f=e[u],a.push(f,f in o?o[f]:e[u+1]);return a.t=e.t,a},Bf={left:0,top:0},c_=function(e,o,n,a,c,u,f,d,g,b,x,y,m,_){In(e)&&(e=e(d)),zr(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?Rf("0"+e.substr(3),n):0));var p=m?m.time():0,w,T,C;if(m&&m.seek(0),isNaN(e)||(e=+e),Il(e))m&&(e=Ge.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,y,e)),f&&Df(f,n,a,!0);else{In(o)&&(o=o(d));var N=(e||"0").split(" "),k,D,F,G;C=pr(o,d)||Mt,k=da(C)||{},(!k||!k.left&&!k.top)&&ai(C).display==="none"&&(G=C.style.display,C.style.display="block",k=da(C),G?C.style.display=G:C.style.removeProperty("display")),D=Rf(N[0],k[a.d]),F=Rf(N[1]||"0",n),e=k[a.p]-g[a.p]-b+D+c-F,f&&Df(f,F,a,n-F<20||f._isStart&&F>20),n-=n-F}if(_&&(d[_]=e||-.001,e<0&&(e=0)),u){var E=e+n,R=u._isStart;w="scroll"+a.d2,Df(u,E,a,R&&E>20||!R&&(x?Math.max(Mt[w],Lr[w]):u.parentNode[w])<=E+1),x&&(g=da(f),x&&(u.style[a.op.p]=g[a.op.p]-a.op.m-u._offset+Sn))}return m&&C&&(w=da(C),m.seek(y),T=da(C),m._caScrollDist=w[a.p]-T[a.p],e=e/m._caScrollDist*y),m&&m.seek(p),m?e:Math.round(e)},$q=/(webkit|moz|length|cssText|inset)/i,u_=function(e,o,n,a){if(e.parentNode!==o){var c=e.style,u,f;if(o===Mt){e._stOrig=c.cssText,f=ai(e);for(u in f)!+u&&!$q.test(u)&&f[u]&&typeof c[u]=="string"&&u!=="0"&&(c[u]=f[u]);c.top=n,c.left=a}else c.cssText=e._stOrig;Ge.core.getCache(e).uncache=1,o.appendChild(e)}},nT=function(e,o,n){var a=o,c=a;return function(u){var f=Math.round(e());return f!==a&&f!==c&&Math.abs(f-a)>3&&Math.abs(f-c)>3&&(u=f,n&&n()),c=a,a=Math.round(u),a}},gf=function(e,o,n){var a={};a[o.p]="+="+n,Ge.set(e,a)},f_=function(e,o){var n=as(e,o),a="_scroll"+o.p2,c=function u(f,d,g,b,x){var y=u.tween,m=d.onComplete,_={};g=g||n();var p=nT(n,g,function(){y.kill(),u.tween=0});return x=b&&x||0,b=b||f-g,y&&y.kill(),d[a]=f,d.inherit=!1,d.modifiers=_,_[a]=function(){return p(g+b*y.ratio+x*y.ratio*y.ratio)},d.onUpdate=function(){ht.cache++,u.tween&&ma()},d.onComplete=function(){u.tween=0,m&&m.call(y)},y=u.tween=Ge.to(e,d),y};return e[a]=n,n.wheelHandler=function(){return c.tween&&c.tween.kill()&&(c.tween=0)},Nn(e,"wheel",n.wheelHandler),lt.isTouch&&Nn(e,"touchmove",n.wheelHandler),c},lt=function(){function t(o,n){X0||t.register(Ge)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Sm(this),this.init(o,n)}var e=t.prototype;return e.init=function(n,a){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Xl){this.update=this.refresh=this.kill=Ni;return}n=i_(zr(n)||Il(n)||n.nodeType?{trigger:n}:n,hf);var c=n,u=c.onUpdate,f=c.toggleClass,d=c.id,g=c.onToggle,b=c.onRefresh,x=c.scrub,y=c.trigger,m=c.pin,_=c.pinSpacing,p=c.invalidateOnRefresh,w=c.anticipatePin,T=c.onScrubComplete,C=c.onSnapComplete,N=c.once,k=c.snap,D=c.pinReparent,F=c.pinSpacer,G=c.containerAnimation,E=c.fastScrollEnd,R=c.preventOverlaps,O=n.horizontal||n.containerAnimation&&n.horizontal!==!1?sr:Tn,P=!x&&x!==0,j=pr(n.scroller||ft),Y=Ge.core.getCache(j),H=Qs(j),q=("pinType"in n?n.pinType:ns(j,"pinType")||H&&"fixed")==="fixed",U=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],X=P&&n.toggleActions.split(" "),I="markers"in n?n.markers:hf.markers,z=H?0:parseFloat(ai(j)["border"+O.p2+So])||0,A=this,B=n.onRefreshInit&&function(){return n.onRefreshInit(A)},V=Bq(j,H,O),Q=Lq(j,H),W=0,K=0,re=0,he=as(j,O),ee,pe,Ce,le,se,fe,ae,Se,we,te,ke,Be,je,Pe,ce,ye,ne,de,xe,Te,Le,ze,De,He,Xe,Ae,qe,Ue,ct,Ve,Fe,Ie,mt,at,wt,yt,un,Xt,fn;if(A._startClamp=A._endClamp=!1,A._dir=O,w*=45,A.scroller=j,A.scroll=G?G.time.bind(G):he,le=he(),A.vars=n,a=a||n.animation,"refreshPriority"in n&&(YS=1,n.refreshPriority===-9999&&(uc=A)),Y.tweenScroll=Y.tweenScroll||{top:f_(j,Tn),left:f_(j,sr)},A.tweenTo=ee=Y.tweenScroll[O.p],A.scrubDuration=function(Oe){mt=Il(Oe)&&Oe,mt?Ie?Ie.duration(Oe):Ie=Ge.to(a,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:mt,paused:!0,onComplete:function(){return T&&T(A)}}):(Ie&&Ie.progress(1).kill(),Ie=0)},a&&(a.vars.lazy=!1,a._initted&&!A.isReverted||a.vars.immediateRender!==!1&&n.immediateRender!==!1&&a.duration()&&a.render(0,!0,!0),A.animation=a.pause(),a.scrollTrigger=A,A.scrubDuration(x),Ve=0,d||(d=a.vars.id)),k&&((!Ds(k)||k.push)&&(k={snapTo:k}),"scrollBehavior"in Mt.style&&Ge.set(H?[Mt,Lr]:j,{scrollBehavior:"auto"}),ht.forEach(function(Oe){return In(Oe)&&Oe.target===(H?Pt.scrollingElement||Lr:j)&&(Oe.smooth=!1)}),Ce=In(k.snapTo)?k.snapTo:k.snapTo==="labels"?jq(a):k.snapTo==="labelsDirectional"?Pq(a):k.directional!==!1?function(Oe,Ze){return q3(k.snapTo)(Oe,Xn()-K<500?0:Ze.direction)}:Ge.utils.snap(k.snapTo),at=k.duration||{min:.1,max:2},at=Ds(at)?ac(at.min,at.max):ac(at,at),wt=Ge.delayedCall(k.delay||mt/2||.1,function(){var Oe=he(),Ze=Xn()-K<500,Qe=ee.tween;if((Ze||Math.abs(A.getVelocity())<10)&&!Qe&&!Bh&&W!==Oe){var tt=(Oe-fe)/Pe,hn=a&&!P?a.totalProgress():tt,dt=Ze?0:(hn-Fe)/(Xn()-$l)*1e3||0,Ut=Ge.utils.clamp(-tt,1-tt,F0(dt/2)*dt/.185),Wt=tt+(k.inertia===!1?0:Ut),qt,Ct,bt=k,On=bt.onStart,At=bt.onInterrupt,St=bt.onComplete;if(qt=Ce(Wt,A),Il(qt)||(qt=Wt),Ct=Math.max(0,Math.round(fe+qt*Pe)),Oe<=ae&&Oe>=fe&&Ct!==Oe){if(Qe&&!Qe._initted&&Qe.data<=F0(Ct-Oe))return;k.inertia===!1&&(Ut=qt-tt),ee(Ct,{duration:at(F0(Math.max(F0(Wt-hn),F0(qt-hn))*.185/dt/.05||0)),ease:k.ease||"power3",data:F0(Ct-Oe),onInterrupt:function(){return wt.restart(!0)&&At&&At(A)},onComplete:function(){A.update(),W=he(),a&&!P&&(Ie?Ie.resetTo("totalProgress",qt,a._tTime/a._tDur):a.progress(qt)),Ve=Fe=a&&!P?a.totalProgress():A.progress,C&&C(A),St&&St(A)}},Oe,Ut*Pe,Ct-Oe-Ut*Pe),On&&On(A,ee.tween)}}else A.isActive&&W!==Oe&&wt.restart(!0)}).pause()),d&&(Cm[d]=A),y=A.trigger=pr(y||m!==!0&&m),fn=y&&y._gsap&&y._gsap.stRevert,fn&&(fn=fn(A)),m=m===!0?y:pr(m),zr(f)&&(f={targets:y,className:f}),m&&(_===!1||_===ii||(_=!_&&m.parentNode&&m.parentNode.style&&ai(m.parentNode).display==="flex"?!1:vn),A.pin=m,pe=Ge.core.getCache(m),pe.spacer?ce=pe.pinState:(F&&(F=pr(F),F&&!F.nodeType&&(F=F.current||F.nativeElement),pe.spacerIsNative=!!F,F&&(pe.spacerState=pf(F))),pe.spacer=de=F||Pt.createElement("div"),de.classList.add("pin-spacer"),d&&de.classList.add("pin-spacer-"+d),pe.pinState=ce=pf(m)),n.force3D!==!1&&Ge.set(m,{force3D:!0}),A.spacer=de=pe.spacer,ct=ai(m),He=ct[_+O.os2],Te=Ge.getProperty(m),Le=Ge.quickSetter(m,O.a,Sn),bv(m,de,ct),ne=pf(m)),I){Be=Ds(I)?i_(I,a_):a_,te=df("scroller-start",d,j,O,Be,0),ke=df("scroller-end",d,j,O,Be,0,te),xe=te["offset"+O.op.d2];var Cn=pr(ns(j,"content")||j);Se=this.markerStart=df("start",d,Cn,O,Be,xe,0,G),we=this.markerEnd=df("end",d,Cn,O,Be,xe,0,G),G&&(Xt=Ge.quickSetter([Se,we],O.a,Sn)),!q&&!(Hi.length&&ns(j,"fixedMarkers")===!0)&&(qq(H?Mt:j),Ge.set([te,ke],{force3D:!0}),Ae=Ge.quickSetter(te,O.a,Sn),Ue=Ge.quickSetter(ke,O.a,Sn))}if(G){var We=G.vars.onUpdate,Me=G.vars.onUpdateParams;G.eventCallback("onUpdate",function(){A.update(0,0,1),We&&We.apply(G,Me||[])})}if(A.previous=function(){return ot[ot.indexOf(A)-1]},A.next=function(){return ot[ot.indexOf(A)+1]},A.revert=function(Oe,Ze){if(!Ze)return A.kill(!0);var Qe=Oe!==!1||!A.enabled,tt=$n;Qe!==A.isReverted&&(Qe&&(yt=Math.max(he(),A.scroll.rec||0),re=A.progress,un=a&&a.progress()),Se&&[Se,we,te,ke].forEach(function(hn){return hn.style.display=Qe?"none":"block"}),Qe&&($n=A,A.update(Qe)),m&&(!D||!A.isActive)&&(Qe?Uq(m,de,ce):bv(m,de,ai(m),Xe)),Qe||A.update(Qe),$n=tt,A.isReverted=Qe)},A.refresh=function(Oe,Ze,Qe,tt){if(!(($n||!A.enabled)&&!Ze)){if(m&&Oe&&hi){Nn(t,"scrollEnd",WS);return}!rr&&B&&B(A),$n=A,ee.tween&&!Qe&&(ee.tween.kill(),ee.tween=0),Ie&&Ie.pause(),p&&a&&(a.revert({kill:!1}).invalidate(),a.getChildren&&a.getChildren(!0,!0,!1).forEach(function(Vr){return Vr.vars.immediateRender&&Vr.render(0,!0,!0)})),A.isReverted||A.revert(!0,!0),A._subPinOffset=!1;var hn=V(),dt=Q(),Ut=G?G.duration():qi(j,O),Wt=Pe<=.01||!Pe,qt=0,Ct=tt||0,bt=Ds(Qe)?Qe.end:n.end,On=n.endTrigger||y,At=Ds(Qe)?Qe.start:n.start||(n.start===0||!y?0:m?"0 0":"0 100%"),St=A.pinnedContainer=n.pinnedContainer&&pr(n.pinnedContainer,A),wr=y&&Math.max(0,ot.indexOf(A))||0,dn=wr,Yt,Vt,Xi,cs,_n,nn,Kn,Sa,$r,Vi,Sr,Xr,Ta;for(I&&Ds(Qe)&&(Xr=Ge.getProperty(te,O.p),Ta=Ge.getProperty(ke,O.p));dn-- >0;)nn=ot[dn],nn.end||nn.refresh(0,1)||($n=A),Kn=nn.pin,Kn&&(Kn===y||Kn===m||Kn===St)&&!nn.isReverted&&(Vi||(Vi=[]),Vi.unshift(nn),nn.revert(!0,!0)),nn!==ot[dn]&&(wr--,dn--);for(In(At)&&(At=At(A)),At=e_(At,"start",A),fe=c_(At,y,hn,O,he(),Se,te,A,dt,z,q,Ut,G,A._startClamp&&"_startClamp")||(m?-.001:0),In(bt)&&(bt=bt(A)),zr(bt)&&!bt.indexOf("+=")&&(~bt.indexOf(" ")?bt=(zr(At)?At.split(" ")[0]:"")+bt:(qt=Rf(bt.substr(2),hn),bt=zr(At)?At:(G?Ge.utils.mapRange(0,G.duration(),G.scrollTrigger.start,G.scrollTrigger.end,fe):fe)+qt,On=y)),bt=e_(bt,"end",A),ae=Math.max(fe,c_(bt||(On?"100% 0":Ut),On,hn,O,he()+qt,we,ke,A,dt,z,q,Ut,G,A._endClamp&&"_endClamp"))||-.001,qt=0,dn=wr;dn--;)nn=ot[dn],Kn=nn.pin,Kn&&nn.start-nn._pinPush<=fe&&!G&&nn.end>0&&(Yt=nn.end-(A._startClamp?Math.max(0,nn.start):nn.start),(Kn===y&&nn.start-nn._pinPush<fe||Kn===St)&&isNaN(At)&&(qt+=Yt*(1-nn.progress)),Kn===m&&(Ct+=Yt));if(fe+=qt,ae+=qt,A._startClamp&&(A._startClamp+=qt),A._endClamp&&!rr&&(A._endClamp=ae||-.001,ae=Math.min(ae,qi(j,O))),Pe=ae-fe||(fe-=.01)&&.001,Wt&&(re=Ge.utils.clamp(0,1,Ge.utils.normalize(fe,ae,yt))),A._pinPush=Ct,Se&&qt&&(Yt={},Yt[O.a]="+="+qt,St&&(Yt[O.p]="-="+he()),Ge.set([Se,we],Yt)),m&&!(Tm&&A.end>=qi(j,O)))Yt=ai(m),cs=O===Tn,Xi=he(),ze=parseFloat(Te(O.a))+Ct,!Ut&&ae>1&&(Sr=(H?Pt.scrollingElement||Lr:j).style,Sr={style:Sr,value:Sr["overflow"+O.a.toUpperCase()]},H&&ai(Mt)["overflow"+O.a.toUpperCase()]!=="scroll"&&(Sr.style["overflow"+O.a.toUpperCase()]="scroll")),bv(m,de,Yt),ne=pf(m),Vt=da(m,!0),Sa=q&&as(j,cs?sr:Tn)(),_?(Xe=[_+O.os2,Pe+Ct+Sn],Xe.t=de,dn=_===vn?vh(m,O)+Pe+Ct:0,dn&&(Xe.push(O.d,dn+Sn),de.style.flexBasis!=="auto"&&(de.style.flexBasis=dn+Sn)),co(Xe),St&&ot.forEach(function(Vr){Vr.pin===St&&Vr.vars.pinSpacing!==!1&&(Vr._subPinOffset=!0)}),q&&he(yt)):(dn=vh(m,O),dn&&de.style.flexBasis!=="auto"&&(de.style.flexBasis=dn+Sn)),q&&(_n={top:Vt.top+(cs?Xi-fe:Sa)+Sn,left:Vt.left+(cs?Sa:Xi-fe)+Sn,boxSizing:"border-box",position:"fixed"},_n[Us]=_n["max"+So]=Math.ceil(Vt.width)+Sn,_n[Fs]=_n["max"+L3]=Math.ceil(Vt.height)+Sn,_n[ii]=_n[ii+lc]=_n[ii+sc]=_n[ii+cc]=_n[ii+oc]="0",_n[vn]=Yt[vn],_n[vn+lc]=Yt[vn+lc],_n[vn+sc]=Yt[vn+sc],_n[vn+cc]=Yt[vn+cc],_n[vn+oc]=Yt[vn+oc],ye=Gq(ce,_n,D),rr&&he(0)),a?($r=a._initted,pv(1),a.render(a.duration(),!0,!0),De=Te(O.a)-ze+Pe+Ct,qe=Math.abs(Pe-De)>1,q&&qe&&ye.splice(ye.length-2,2),a.render(0,!0,!0),$r||a.invalidate(!0),a.parent||a.totalTime(a.totalTime()),pv(0)):De=Pe,Sr&&(Sr.value?Sr.style["overflow"+O.a.toUpperCase()]=Sr.value:Sr.style.removeProperty("overflow-"+O.a));else if(y&&he()&&!G)for(Vt=y.parentNode;Vt&&Vt!==Mt;)Vt._pinOffset&&(fe-=Vt._pinOffset,ae-=Vt._pinOffset),Vt=Vt.parentNode;Vi&&Vi.forEach(function(Vr){return Vr.revert(!1,!0)}),A.start=fe,A.end=ae,le=se=rr?yt:he(),!G&&!rr&&(le<yt&&he(yt),A.scroll.rec=0),A.revert(!1,!0),K=Xn(),wt&&(W=-1,wt.restart(!0)),$n=0,a&&P&&(a._initted||un)&&a.progress()!==un&&a.progress(un||0,!0).render(a.time(),!0,!0),(Wt||re!==A.progress||G||p||a&&!a._initted)&&(a&&!P&&(a._initted||re||a.vars.immediateRender!==!1)&&a.totalProgress(G&&fe<-.001&&!re?Ge.utils.normalize(fe,ae,0):re,!0),A.progress=Wt||(le-fe)/Pe===re?0:re),m&&_&&(de._pinOffset=Math.round(A.progress*De)),Ie&&Ie.invalidate(),isNaN(Xr)||(Xr-=Ge.getProperty(te,O.p),Ta-=Ge.getProperty(ke,O.p),gf(te,O,Xr),gf(Se,O,Xr-(tt||0)),gf(ke,O,Ta),gf(we,O,Ta-(tt||0))),Wt&&!rr&&A.update(),b&&!rr&&!je&&(je=!0,b(A),je=!1)}},A.getVelocity=function(){return(he()-se)/(Xn()-$l)*1e3||0},A.endAnimation=function(){Dl(A.callbackAnimation),a&&(Ie?Ie.progress(1):a.paused()?P||Dl(a,A.direction<0,1):Dl(a,a.reversed()))},A.labelToScroll=function(Oe){return a&&a.labels&&(fe||A.refresh()||fe)+a.labels[Oe]/a.duration()*Pe||0},A.getTrailing=function(Oe){var Ze=ot.indexOf(A),Qe=A.direction>0?ot.slice(0,Ze).reverse():ot.slice(Ze+1);return(zr(Oe)?Qe.filter(function(tt){return tt.vars.preventOverlaps===Oe}):Qe).filter(function(tt){return A.direction>0?tt.end<=fe:tt.start>=ae})},A.update=function(Oe,Ze,Qe){if(!(G&&!Qe&&!Oe)){var tt=rr===!0?yt:A.scroll(),hn=Oe?0:(tt-fe)/Pe,dt=hn<0?0:hn>1?1:hn||0,Ut=A.progress,Wt,qt,Ct,bt,On,At,St,wr;if(Ze&&(se=le,le=G?he():tt,k&&(Fe=Ve,Ve=a&&!P?a.totalProgress():dt)),w&&m&&!$n&&!lf&&hi&&(!dt&&fe<tt+(tt-se)/(Xn()-$l)*w?dt=1e-4:dt===1&&ae>tt+(tt-se)/(Xn()-$l)*w&&(dt=.9999)),dt!==Ut&&A.enabled){if(Wt=A.isActive=!!dt&&dt<1,qt=!!Ut&&Ut<1,At=Wt!==qt,On=At||!!dt!=!!Ut,A.direction=dt>Ut?1:-1,A.progress=dt,On&&!$n&&(Ct=dt&&!Ut?0:dt===1?1:Ut===1?2:3,P&&(bt=!At&&X[Ct+1]!=="none"&&X[Ct+1]||X[Ct],wr=a&&(bt==="complete"||bt==="reset"||bt in a))),R&&(At||wr)&&(wr||x||!a)&&(In(R)?R(A):A.getTrailing(R).forEach(function(Xi){return Xi.endAnimation()})),P||(Ie&&!$n&&!lf?(Ie._dp._time-Ie._start!==Ie._time&&Ie.render(Ie._dp._time-Ie._start),Ie.resetTo?Ie.resetTo("totalProgress",dt,a._tTime/a._tDur):(Ie.vars.totalProgress=dt,Ie.invalidate().restart())):a&&a.totalProgress(dt,!!($n&&(K||Oe)))),m){if(Oe&&_&&(de.style[_+O.os2]=He),!q)Le(Vl(ze+De*dt));else if(On){if(St=!Oe&&dt>Ut&&ae+1>tt&&tt+1>=qi(j,O),D)if(!Oe&&(Wt||St)){var dn=da(m,!0),Yt=tt-fe;u_(m,Mt,dn.top+(O===Tn?Yt:0)+Sn,dn.left+(O===Tn?0:Yt)+Sn)}else u_(m,de);co(Wt||St?ye:ne),qe&&dt<1&&Wt||Le(ze+(dt===1&&!St?De:0))}}k&&!ee.tween&&!$n&&!lf&&wt.restart(!0),f&&(At||N&&dt&&(dt<1||!gv))&&Ac(f.targets).forEach(function(Xi){return Xi.classList[Wt||N?"add":"remove"](f.className)}),u&&!P&&!Oe&&u(A),On&&!$n?(P&&(wr&&(bt==="complete"?a.pause().totalProgress(1):bt==="reset"?a.restart(!0).pause():bt==="restart"?a.restart(!0):a[bt]()),u&&u(A)),(At||!gv)&&(g&&At&&mv(A,g),U[Ct]&&mv(A,U[Ct]),N&&(dt===1?A.kill(!1,1):U[Ct]=0),At||(Ct=dt===1?1:3,U[Ct]&&mv(A,U[Ct]))),E&&!Wt&&Math.abs(A.getVelocity())>(Il(E)?E:2500)&&(Dl(A.callbackAnimation),Ie?Ie.progress(1):Dl(a,bt==="reverse"?1:!dt,1))):P&&u&&!$n&&u(A)}if(Ue){var Vt=G?tt/G.duration()*(G._caScrollDist||0):tt;Ae(Vt+(te._isFlipped?1:0)),Ue(Vt)}Xt&&Xt(-tt/G.duration()*(G._caScrollDist||0))}},A.enable=function(Oe,Ze){A.enabled||(A.enabled=!0,Nn(j,"resize",Zl),H||Nn(j,"scroll",G0),B&&Nn(t,"refreshInit",B),Oe!==!1&&(A.progress=re=0,le=se=W=he()),Ze!==!1&&A.refresh())},A.getTween=function(Oe){return Oe&&ee?ee.tween:Ie},A.setPositions=function(Oe,Ze,Qe,tt){if(G){var hn=G.scrollTrigger,dt=G.duration(),Ut=hn.end-hn.start;Oe=hn.start+Ut*Oe/dt,Ze=hn.start+Ut*Ze/dt}A.refresh(!1,!1,{start:t_(Oe,Qe&&!!A._startClamp),end:t_(Ze,Qe&&!!A._endClamp)},tt),A.update()},A.adjustPinSpacing=function(Oe){if(Xe&&Oe){var Ze=Xe.indexOf(O.d)+1;Xe[Ze]=parseFloat(Xe[Ze])+Oe+Sn,Xe[1]=parseFloat(Xe[1])+Oe+Sn,co(Xe)}},A.disable=function(Oe,Ze){if(A.enabled&&(Oe!==!1&&A.revert(!0,!0),A.enabled=A.isActive=!1,Ze||Ie&&Ie.pause(),yt=0,pe&&(pe.uncache=1),B&&kn(t,"refreshInit",B),wt&&(wt.pause(),ee.tween&&ee.tween.kill()&&(ee.tween=0)),!H)){for(var Qe=ot.length;Qe--;)if(ot[Qe].scroller===j&&ot[Qe]!==A)return;kn(j,"resize",Zl),H||kn(j,"scroll",G0)}},A.kill=function(Oe,Ze){A.disable(Oe,Ze),Ie&&!Ze&&Ie.kill(),d&&delete Cm[d];var Qe=ot.indexOf(A);Qe>=0&&ot.splice(Qe,1),Qe===nr&&Of>0&&nr--,Qe=0,ot.forEach(function(tt){return tt.scroller===A.scroller&&(Qe=1)}),Qe||rr||(A.scroll.rec=0),a&&(a.scrollTrigger=null,Oe&&a.revert({kill:!1}),Ze||a.kill()),Se&&[Se,we,te,ke].forEach(function(tt){return tt.parentNode&&tt.parentNode.removeChild(tt)}),uc===A&&(uc=0),m&&(pe&&(pe.uncache=1),Qe=0,ot.forEach(function(tt){return tt.pin===m&&Qe++}),Qe||(pe.spacer=0)),n.onKill&&n.onKill(A)},ot.push(A),A.enable(!1,!1),fn&&fn(A),a&&a.add&&!Pe){var Ye=A.update;A.update=function(){A.update=Ye,ht.cache++,fe||ae||A.refresh()},Ge.delayedCall(.01,A.update),Pe=.01,fe=ae=0}else A.refresh();m&&Yq()},t.register=function(n){return X0||(Ge=n||XS(),$S()&&window.document&&t.enable(),X0=Xl),X0},t.defaults=function(n){if(n)for(var a in n)hf[a]=n[a];return hf},t.disable=function(n,a){Xl=0,ot.forEach(function(u){return u[a?"kill":"disable"](n)}),kn(ft,"wheel",G0),kn(Pt,"scroll",G0),clearInterval(of),kn(Pt,"touchcancel",Ni),kn(Mt,"touchstart",Ni),uf(kn,Pt,"pointerdown,touchstart,mousedown",n_),uf(kn,Pt,"pointerup,touchend,mouseup",r_),ph.kill(),cf(kn);for(var c=0;c<ht.length;c+=3)ff(kn,ht[c],ht[c+1]),ff(kn,ht[c],ht[c+2])},t.enable=function(){if(ft=window,Pt=document,Lr=Pt.documentElement,Mt=Pt.body,Ge&&(Ac=Ge.utils.toArray,ac=Ge.utils.clamp,Sm=Ge.core.context||Ni,pv=Ge.core.suppressOverwrites||Ni,D3=ft.history.scrollRestoration||"auto",Em=ft.pageYOffset||0,Ge.core.globals("ScrollTrigger",t),Mt)){Xl=1,lo=document.createElement("div"),lo.style.height="100vh",lo.style.position="absolute",tT(),zq(),cn.register(Ge),t.isTouch=cn.isTouch,Ia=cn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),wm=cn.isTouch===1,Nn(ft,"wheel",G0),R3=[ft,Pt,Lr,Mt],Ge.matchMedia?(t.matchMedia=function(g){var b=Ge.matchMedia(),x;for(x in g)b.add(x,g[x]);return b},Ge.addEventListener("matchMediaInit",function(){return j3()}),Ge.addEventListener("matchMediaRevert",function(){return JS()}),Ge.addEventListener("matchMedia",function(){Ls(0,1),Ws("matchMedia")}),Ge.matchMedia().add("(orientation: portrait)",function(){return yv(),yv})):console.warn("Requires GSAP 3.11.0 or later"),yv(),Nn(Pt,"scroll",G0);var n=Mt.hasAttribute("style"),a=Mt.style,c=a.borderTopStyle,u=Ge.core.Animation.prototype,f,d;for(u.revert||Object.defineProperty(u,"revert",{value:function(){return this.time(-.01,!0)}}),a.borderTopStyle="solid",f=da(Mt),Tn.m=Math.round(f.top+Tn.sc())||0,sr.m=Math.round(f.left+sr.sc())||0,c?a.borderTopStyle=c:a.removeProperty("border-top-style"),n||(Mt.setAttribute("style",""),Mt.removeAttribute("style")),of=setInterval(s_,250),Ge.delayedCall(.5,function(){return lf=0}),Nn(Pt,"touchcancel",Ni),Nn(Mt,"touchstart",Ni),uf(Nn,Pt,"pointerdown,touchstart,mousedown",n_),uf(Nn,Pt,"pointerup,touchend,mouseup",r_),xm=Ge.utils.checkPrefix("transform"),zf.push(xm),X0=Xn(),ph=Ge.delayedCall(.2,Ls).pause(),V0=[Pt,"visibilitychange",function(){var g=ft.innerWidth,b=ft.innerHeight;Pt.hidden?(W7=g,J7=b):(W7!==g||J7!==b)&&Zl()},Pt,"DOMContentLoaded",Ls,ft,"load",Ls,ft,"resize",Zl],cf(Nn),ot.forEach(function(g){return g.enable(0,1)}),d=0;d<ht.length;d+=3)ff(kn,ht[d],ht[d+1]),ff(kn,ht[d],ht[d+2])}},t.config=function(n){"limitCallbacks"in n&&(gv=!!n.limitCallbacks);var a=n.syncInterval;a&&clearInterval(of)||(of=a)&&setInterval(s_,a),"ignoreMobileResize"in n&&(wm=t.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(cf(kn)||cf(Nn,n.autoRefreshEvents||"none"),US=(n.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(n,a){var c=pr(n),u=ht.indexOf(c),f=Qs(c);~u&&ht.splice(u,f?6:2),a&&(f?Hi.unshift(ft,a,Mt,a,Lr,a):Hi.unshift(c,a))},t.clearMatchMedia=function(n){ot.forEach(function(a){return a._ctx&&a._ctx.query===n&&a._ctx.kill(!0,!0)})},t.isInViewport=function(n,a,c){var u=(zr(n)?pr(n):n).getBoundingClientRect(),f=u[c?Us:Fs]*a||0;return c?u.right-f>0&&u.left+f<ft.innerWidth:u.bottom-f>0&&u.top+f<ft.innerHeight},t.positionInViewport=function(n,a,c){zr(n)&&(n=pr(n));var u=n.getBoundingClientRect(),f=u[c?Us:Fs],d=a==null?f/2:a in mh?mh[a]*f:~a.indexOf("%")?parseFloat(a)*f/100:parseFloat(a)||0;return c?(u.left+d)/ft.innerWidth:(u.top+d)/ft.innerHeight},t.killAll=function(n){if(ot.slice(0).forEach(function(c){return c.vars.id!=="ScrollSmoother"&&c.kill()}),n!==!0){var a=Ks.killAll||[];Ks={},a.forEach(function(c){return c()})}},t}();lt.version="3.13.0";lt.saveStyles=function(t){return t?Ac(t).forEach(function(e){if(e&&e.style){var o=Or.indexOf(e);o>=0&&Or.splice(o,5),Or.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ge.core.getCache(e),Sm())}}):Or};lt.revert=function(t,e){return j3(!t,e)};lt.create=function(t,e){return new lt(t,e)};lt.refresh=function(t){return t?Zl(!0):(X0||lt.register())&&Ls(!0)};lt.update=function(t){return++ht.cache&&ma(t===!0?2:0)};lt.clearScrollMemory=eT;lt.maxScroll=function(t,e){return qi(t,e?sr:Tn)};lt.getScrollFunc=function(t,e){return as(pr(t),e?sr:Tn)};lt.getById=function(t){return Cm[t]};lt.getAll=function(){return ot.filter(function(t){return t.vars.id!=="ScrollSmoother"})};lt.isScrolling=function(){return!!hi};lt.snapDirectional=q3;lt.addEventListener=function(t,e){var o=Ks[t]||(Ks[t]=[]);~o.indexOf(e)||o.push(e)};lt.removeEventListener=function(t,e){var o=Ks[t],n=o&&o.indexOf(e);n>=0&&o.splice(n,1)};lt.batch=function(t,e){var o=[],n={},a=e.interval||.016,c=e.batchMax||1e9,u=function(g,b){var x=[],y=[],m=Ge.delayedCall(a,function(){b(x,y),x=[],y=[]}).pause();return function(_){x.length||m.restart(!0),x.push(_.trigger),y.push(_),c<=x.length&&m.progress(1)}},f;for(f in e)n[f]=f.substr(0,2)==="on"&&In(e[f])&&f!=="onRefreshInit"?u(f,e[f]):e[f];return In(c)&&(c=c(),Nn(lt,"refresh",function(){return c=e.batchMax()})),Ac(t).forEach(function(d){var g={};for(f in n)g[f]=n[f];g.trigger=d,o.push(lt.create(g))}),o};var h_=function(e,o,n,a){return o>a?e(a):o<0&&e(0),n>a?(a-o)/(n-o):n<0?o/(o-n):1},_v=function t(e,o){o===!0?e.style.removeProperty("touch-action"):e.style.touchAction=o===!0?"auto":o?"pan-"+o+(cn.isTouch?" pinch-zoom":""):"none",e===Lr&&t(Mt,o)},vf={auto:1,scroll:1},Xq=function(e){var o=e.event,n=e.target,a=e.axis,c=(o.changedTouches?o.changedTouches[0]:o).target,u=c._gsap||Ge.core.getCache(c),f=Xn(),d;if(!u._isScrollT||f-u._isScrollT>2e3){for(;c&&c!==Mt&&(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth||!(vf[(d=ai(c)).overflowY]||vf[d.overflowX]));)c=c.parentNode;u._isScroll=c&&c!==n&&!Qs(c)&&(vf[(d=ai(c)).overflowY]||vf[d.overflowX]),u._isScrollT=f}(u._isScroll||a==="x")&&(o.stopPropagation(),o._gsapAllow=!0)},rT=function(e,o,n,a){return cn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:o,onWheel:a=a&&Xq,onPress:a,onDrag:a,onScroll:a,onEnable:function(){return n&&Nn(Pt,cn.eventTypes[0],p_,!1,!0)},onDisable:function(){return kn(Pt,cn.eventTypes[0],p_,!0)}})},Vq=/(input|label|select|textarea)/i,d_,p_=function(e){var o=Vq.test(e.target.tagName);(o||d_)&&(e._gsapAllow=!0,d_=o)},Iq=function(e){Ds(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o=e,n=o.normalizeScrollX,a=o.momentum,c=o.allowNestedScroll,u=o.onRelease,f,d,g=pr(e.target)||Lr,b=Ge.core.globals().ScrollSmoother,x=b&&b.get(),y=Ia&&(e.content&&pr(e.content)||x&&e.content!==!1&&!x.smooth()&&x.content()),m=as(g,Tn),_=as(g,sr),p=1,w=(cn.isTouch&&ft.visualViewport?ft.visualViewport.scale*ft.visualViewport.width:ft.outerWidth)/ft.innerWidth,T=0,C=In(a)?function(){return a(f)}:function(){return a||2.8},N,k,D=rT(g,e.type,!0,c),F=function(){return k=!1},G=Ni,E=Ni,R=function(){d=qi(g,Tn),E=ac(Ia?1:0,d),n&&(G=ac(0,qi(g,sr))),N=Gs},O=function(){y._gsap.y=Vl(parseFloat(y._gsap.y)+m.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},P=function(){if(k){requestAnimationFrame(F);var I=Vl(f.deltaY/2),z=E(m.v-I);if(y&&z!==m.v+m.offset){m.offset=z-m.v;var A=Vl((parseFloat(y&&y._gsap.y)||0)-m.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+A+", 0, 1)",y._gsap.y=A+"px",m.cacheID=ht.cache,ma()}return!0}m.offset&&O(),k=!0},j,Y,H,q,U=function(){R(),j.isActive()&&j.vars.scrollY>d&&(m()>d?j.progress(1)&&m(d):j.resetTo("scrollY",d))};return y&&Ge.set(y,{y:"+=0"}),e.ignoreCheck=function(X){return Ia&&X.type==="touchmove"&&P()||p>1.05&&X.type!=="touchstart"||f.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){k=!1;var X=p;p=Vl((ft.visualViewport&&ft.visualViewport.scale||1)/w),j.pause(),X!==p&&_v(g,p>1.01?!0:n?!1:"x"),Y=_(),H=m(),R(),N=Gs},e.onRelease=e.onGestureStart=function(X,I){if(m.offset&&O(),!I)q.restart(!0);else{ht.cache++;var z=C(),A,B;n&&(A=_(),B=A+z*.05*-X.velocityX/.227,z*=h_(_,A,B,qi(g,sr)),j.vars.scrollX=G(B)),A=m(),B=A+z*.05*-X.velocityY/.227,z*=h_(m,A,B,qi(g,Tn)),j.vars.scrollY=E(B),j.invalidate().duration(z).play(.01),(Ia&&j.vars.scrollY>=d||A>=d-1)&&Ge.to({},{onUpdate:U,duration:z})}u&&u(X)},e.onWheel=function(){j._ts&&j.pause(),Xn()-T>1e3&&(N=0,T=Xn())},e.onChange=function(X,I,z,A,B){if(Gs!==N&&R(),I&&n&&_(G(A[2]===I?Y+(X.startX-X.x):_()+I-A[1])),z){m.offset&&O();var V=B[2]===z,Q=V?H+X.startY-X.y:m()+z-B[1],W=E(Q);V&&Q!==W&&(H+=W-Q),m(W)}(z||I)&&ma()},e.onEnable=function(){_v(g,n?!1:"x"),lt.addEventListener("refresh",U),Nn(ft,"resize",U),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=_.smooth=!1),D.enable()},e.onDisable=function(){_v(g,!0),kn(ft,"resize",U),lt.removeEventListener("refresh",U),D.kill()},e.lockAxis=e.lockAxis!==!1,f=new cn(e),f.iOS=Ia,Ia&&!m()&&m(1),Ia&&Ge.ticker.add(Ni),q=f._dc,j=Ge.to(f,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:nT(m,m(),function(){return j.pause()})},onUpdate:ma,onComplete:q.vars.onComplete}),f};lt.sort=function(t){if(In(t))return ot.sort(t);var e=ft.pageYOffset||0;return lt.getAll().forEach(function(o){return o._sortY=o.trigger?e+o.trigger.getBoundingClientRect().top:o.start+ft.innerHeight}),ot.sort(t||function(o,n){return(o.vars.refreshPriority||0)*-1e6+(o.vars.containerAnimation?1e6:o._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};lt.observe=function(t){return new cn(t)};lt.normalizeScroll=function(t){if(typeof t>"u")return tr;if(t===!0&&tr)return tr.enable();if(t===!1){tr&&tr.kill(),tr=t;return}var e=t instanceof cn?t:Iq(t);return tr&&tr.target===e.target&&tr.kill(),Qs(e.target)&&(tr=e),e};lt.core={_getVelocityProp:_m,_inputObserver:rT,_scrollers:ht,_proxies:Hi,bridge:{ss:function(){hi||Ws("scrollStart"),hi=Xn()},ref:function(){return $n}}};XS()&&Ge.registerPlugin(lt);hh.registerPlugin(lt);const Zq=()=>{const t=Ao(),e=oe.useRef([]),o=oe.useRef(null),n=oe.useRef(null),[a,c]=oe.useState(0),[u,f]=oe.useState(!1);oe.useEffect(()=>{lt.defaults({toggleActions:"play reverse play reverse",markers:!1}),e.current.forEach((b,x)=>{b&&hh.fromTo(b,{autoAlpha:0,y:40},{autoAlpha:1,y:0,duration:1,ease:"power2.out",scrollTrigger:{trigger:b,start:"top top",end:"bottom top",pin:!0,onEnter:()=>c(x),onEnterBack:()=>c(x),toggleActions:"play reverse play reverse"}})}),e.current[0]&&n.current&&hh.to(n.current,{autoAlpha:0,duration:1,ease:"power2.out",scrollTrigger:{trigger:e.current[0],start:"top center",end:"bottom center",toggleActions:"play reverse play reverse"}});const g=new IntersectionObserver(b=>{b.forEach(x=>f(x.isIntersecting))},{threshold:.1});return o.current&&g.observe(o.current),()=>{lt.getAll().forEach(b=>b.kill()),g.disconnect()}},[]);const d=()=>{t("/portuguese")};return $.jsxs("div",{className:"home-intro",children:[$.jsx("div",{className:"homepage",ref:n,children:$.jsxs("div",{className:"home",children:[$.jsx("h1",{children:"The Wandering Song"}),$.jsx("p",{children:"A digital space for the characteristics of Portuguese and Irish Folk Music focused on the visualization of data and storytelling, where it is possible to trace the path and roots of all the music that wanders through generations, but is never lost."}),$.jsx("div",{className:"scrollDownArrow",style:{textAlign:"center",fontSize:"2rem",marginTop:"2rem",animation:"bounce 2s infinite"},children:"↓"})]})}),$.jsxs("div",{className:"scroll-wrapper",ref:o,children:[u&&$.jsx("div",{className:"dots-container",children:[0,1,2,3,4].map(g=>$.jsx("div",{className:`dot ${a===g?"active":""}`},g))}),$.jsx("div",{className:"intro-container",children:["part1","part2","part3","part4","part5"].map((g,b)=>$.jsx("div",{className:g,ref:x=>e.current[b]=x,children:(()=>{const x=["Folk music embodies the stories of the land and the people through sound!","Two distant lands however both with profound musical roots!","In Portugal we follow the impact that the territory has in the variation of folk music.","On the other side, in Ireland we will explore the sound and how its genres within folk variate from song to song.","This experience is meant to show how folk music is intertwined by land and sound."],y={part1:["/img/PT1.png","/img/IE1.png"],part2:["/img/PT map.png","/img/IE map.png"],part3:["/img/PT elements.png"],part4:["/img/IE elements.png"]},m=`part${b+1}`,_=y[m]||[];return $.jsxs($.Fragment,{children:[$.jsx("p",{className:`t${b+1}`,children:x[b]}),$.jsx("div",{className:"section-images",children:_.map((p,w)=>$.jsx("img",{id:`${m}-img${w+1}`,src:p,alt:`Image ${w+1} for ${m}`},w))}),$.jsx("div",{className:"connection",children:$.jsx("button",{className:"buttonToGraphs",onClick:d,children:"Start Exploring"})})]})})()},g))})]})]})};function Qq(){return $.jsx("div",{className:"app-container",children:$.jsx("div",{className:"visualizations",children:$.jsxs(hA,{children:[$.jsx(Ol,{path:"/",element:$.jsx(uA,{to:"/home",replace:!0})}),$.jsx(Ol,{path:"/home",element:$.jsx(Zq,{})}),$.jsx(Ol,{path:"/portuguese",element:$.jsx(xz,{})}),$.jsx(Ol,{path:"/irish",element:$.jsx(gL,{})})]})})})}_E.createRoot(document.getElementById("root")).render($.jsx(oe.StrictMode,{children:$.jsx(LA,{children:$.jsx(Qq,{})})}));
